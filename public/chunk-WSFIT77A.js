import{a as P}from"./chunk-H34DKQM7.js";import{$c as q,Ab as x,Ad as z,Ha as r,Hb as v,Ia as t,Ja as u,M as c,Oc as S,Pa as E,Qc as y,Rc as I,Sc as s,Tb as b,Ub as w,Uc as F,Vc as R,Yc as N,Za as n,_c as O,id as T,ja as a,kd as D,ld as L,nd as B,pd as G,qa as M,qd as V,va as d,vd as j,wd as k,ya as m,zd as A}from"./chunk-LULYJDTR.js";function Y(e,i){e&1&&(r(0,"mat-error"),n(1,"Nombre requerido"),t())}function H(e,i){e&1&&(r(0,"mat-error"),n(1,"Email requerido"),t())}function J(e,i){e&1&&(r(0,"mat-error"),n(1,"Email no v\xE1lido"),t())}function K(e,i){e&1&&(r(0,"mat-error"),n(1,"Contrase\xF1a requerida"),t())}function Q(e,i){e&1&&(r(0,"mat-error"),n(1," M\xEDnimo 6 caracteres "),t())}function W(e,i){e&1&&(r(0,"mat-error"),n(1,"Confirmaci\xF3n requerida"),t())}function X(e,i){e&1&&(r(0,"mat-error"),n(1," Las contrase\xF1as no coinciden "),t())}function Z(e){let i=e.get("password")?.value,l=e.get("confirmPassword")?.value;return i===l?null:{mismatch:!0}}var U=class e{fb=c(T);auth=c(P);router=c(b);form=this.fb.group({name:["",s.required],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],confirmPassword:["",s.required]},{validators:Z});register(){if(this.form.invalid)return;let{name:i,email:l,password:o}=this.form.value;this.auth.register({nombre:i,correo:l,contrasena:o}).subscribe({next:()=>{alert("Usuario registrado exitosamente"),this.router.navigate(["/login"])},error:p=>{alert("Error al registrar: "+(p.error?.mensaje||"Error desconocido"))}})}static \u0275fac=function(l){return new(l||e)};static \u0275cmp=M({type:e,selectors:[["app-register"]],decls:34,vars:9,consts:[[1,"register-container"],[1,"register-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","confirmPassword"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[1,"help-text"],["routerLink","/login"]],template:function(l,o){if(l&1&&(r(0,"div",0)(1,"mat-card",1)(2,"h2"),n(3,"Crear cuenta"),t(),r(4,"form",2),E("ngSubmit",function(){return o.register()}),r(5,"mat-form-field",3)(6,"mat-label"),n(7,"Nombre completo"),t(),u(8,"input",4),d(9,Y,2,0,"mat-error",5),t(),r(10,"mat-form-field",3)(11,"mat-label"),n(12,"Email"),t(),u(13,"input",6),d(14,H,2,0,"mat-error",5)(15,J,2,0,"mat-error",5),t(),r(16,"mat-form-field",3)(17,"mat-label"),n(18,"Contrase\xF1a"),t(),u(19,"input",7),d(20,K,2,0,"mat-error",5)(21,Q,2,0,"mat-error",5),t(),r(22,"mat-form-field",3)(23,"mat-label"),n(24,"Confirmar contrase\xF1a"),t(),u(25,"input",8),d(26,W,2,0,"mat-error",5)(27,X,2,0,"mat-error",5),t(),r(28,"button",9),n(29," Registrarse "),t()(),r(30,"p",10),n(31," \xBFYa tienes cuenta? "),r(32,"a",11),n(33,"Inicia sesi\xF3n"),t()()()()),l&2){let p,f,g,_,C,h;a(4),m("formGroup",o.form),a(5),m("ngIf",(p=o.form.get("name"))==null?null:p.hasError("required")),a(5),m("ngIf",(f=o.form.get("email"))==null?null:f.hasError("required")),a(),m("ngIf",(g=o.form.get("email"))==null?null:g.hasError("email")),a(5),m("ngIf",(_=o.form.get("password"))==null?null:_.hasError("required")),a(),m("ngIf",(C=o.form.get("password"))==null?null:C.hasError("minlength")),a(5),m("ngIf",(h=o.form.get("confirmPassword"))==null?null:h.hasError("required")),a(),m("ngIf",o.form.hasError("mismatch")),a(),m("disabled",o.form.invalid)}},dependencies:[v,x,D,N,I,F,R,O,q,z,A,j,G,V,y,S,B,L,k,w],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:3rem}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem;border-radius:12px;background-color:#fff;box-shadow:0 2px 10px #0000001a}.register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0d47a1;margin-bottom:1.5rem;text-align:center}.register-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.register-card[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:.9rem;margin-top:1rem;text-align:center}.register-card[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d47a1;text-decoration:none}.register-card[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{U as RegisterComponent};
