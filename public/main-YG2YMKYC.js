import{a as Yi}from"./chunk-QRBKNUAL.js";import{a as Ft}from"./chunk-H34DKQM7.js";import{$ as Q,$a as P,$b as Er,$c as Cn,A as ac,Aa as X,Ab as Z,Ac as Uo,Ad as Le,B as sc,Ba as mi,Bb as lo,Bc as me,C as Tt,Ca as pc,Cb as vc,Cc as mo,D as Kt,Da as ke,Db as pi,Dc as Fr,E as Pe,Ea as zo,Eb as Zt,Ec as po,F as lc,Fa as Vo,Fb as Wt,Fc as Es,G as Cr,Ga as jo,Gb as Jt,Gc as ui,H as Me,Ha as s,Hb as L,Hc as at,I as ue,Ia as a,Ib as yc,Ic as zc,J as ae,Ja as M,Jb as Cc,Jc as Ds,K as q,Ka as D,Kb as ei,Kc as zn,L as vt,La as T,Lb as it,Lc as Qi,M as p,Ma as Mt,Mb as Mc,Mc as dt,N as ao,Na as S,Nb as kr,Nc as uo,O as Lo,Oa as Ho,Ob as xc,Oc as oe,P as Mr,Pa as v,Pb as wc,Pc as yn,Q as yt,Qa as _,Qb as Pc,Qc as $,R as y,Ra as Ue,Rb as Wi,Rc as Ie,S as C,Sa as ge,Sb as vn,Sc as we,T as zt,Ta as ji,Tb as lt,Tc as Vc,U as No,Ua as Oe,Ub as At,Uc as Re,V as Ee,Va as Y,Vb as co,Vc as $i,W as We,Wa as k,Wb as Oc,Wc as Lr,X as Nn,Xa as E,Xb as ct,Xc as Ke,Y as ce,Ya as fe,Yb as Sc,Yc as Gi,Z as De,Za as c,Zb as kc,Zc as Ki,_ as Bo,_a as O,_b as Wo,_c as Xi,a as de,aa as cc,ab as Pr,ac as Ui,ad as Nr,b as Gt,ba as xs,bb as te,bc as nt,bd as Br,c as ec,ca as xr,cb as ie,cc as Ec,cd as zr,d as tc,da as Be,db as ne,dc as cn,dd as jc,e as et,ea as dc,eb as ze,ec as Dc,ed as Mn,f as fr,fa as wr,fb as ht,fc as Tc,fd as xn,g as ic,ga as It,gb as Hi,gc as qi,gd as Hc,h as V,ha as so,hb as uc,hc as Ic,hd as Vr,i as li,ia as xe,ib as hc,ic as ti,id as wn,j as _r,ja as d,jb as gc,jc as Rc,jd as Ae,k as nc,ka as Ge,kb as H,kc as Os,kd as Pn,l as Ne,la as ln,lb as Xt,lc as Ss,ld as Se,m as oc,ma as ci,mb as le,mc as Dr,md as Wc,n as Cs,na as z,nb as Or,nc as Ac,nd as be,o as $e,oa as Ct,ob as Sr,oc as Fc,od as Uc,p as oo,pa as ws,pb as qe,pc as Lc,pd as Xe,q as ro,qa as x,qb as Ve,qc as Tr,qd as jr,r as br,ra as se,rb as Bn,rc as Ir,rd as qc,s as vr,sa as R,sb as W,sc as gt,sd as Zi,t as tt,ta as he,tb as Rt,tc as xt,td as Qc,u as bt,ua as mc,ub as fc,uc as Nc,ud as Yc,v as Ms,va as f,vb as _c,vc as Rr,vd as Fe,w as Fo,wa as Ps,wb as Te,wc as Bc,wd as je,x as rc,xa as ee,xb as bc,xc as ks,xd as $c,y as Bt,ya as h,yb as Ht,yc as Ar,yd as Gc,z as yr,za as di,zb as _e,zc as ft,zd as He}from"./chunk-LULYJDTR.js";var Hr;function vp(){if(Hr===void 0&&(Hr=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Hr=n.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return Hr}function qo(n){return vp()?.createHTML(n)||n}function Kc(n){return Error(`Unable to find icon with the name "${n}"`)}function yp(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Xc(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Zc(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var dn=class{url;svgText;options;svgElement;constructor(i,e,t){this.url=i,this.svgText=e,this.options=t}},ed=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,o,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._document=o}addSvgIcon(e,t,o){return this.addSvgIconInNamespace("",e,t,o)}addSvgIconLiteral(e,t,o){return this.addSvgIconLiteralInNamespace("",e,t,o)}addSvgIconInNamespace(e,t,o,r){return this._addSvgIconConfig(e,t,new dn(o,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,o,r){let l=this._sanitizer.sanitize(so.HTML,o);if(!l)throw Zc(o);let m=qo(l);return this._addSvgIconConfig(e,t,new dn("",m,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,o){return this._addSvgIconSetConfig(e,new dn(t,null,o))}addSvgIconSetLiteralInNamespace(e,t,o){let r=this._sanitizer.sanitize(so.HTML,t);if(!r)throw Zc(t);let l=qo(r);return this._addSvgIconSetConfig(e,new dn("",l,o))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(so.RESOURCE_URL,e);if(!t)throw Xc(e);let o=this._cachedIconsByUrl.get(t);return o?Ne(Wr(o)):this._loadSvgIconFromConfig(new dn(e,null)).pipe(Cr(r=>this._cachedIconsByUrl.set(t,r)),$e(r=>Wr(r)))}getNamedSvgIcon(e,t=""){let o=Jc(t,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let l=this._iconSetConfigs.get(t);return l?this._getSvgFromIconSetConfigs(e,l):oc(Kc(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ne(Wr(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe($e(t=>Wr(t)))}_getSvgFromIconSetConfigs(e,t){let o=this._extractIconWithNameFromAnySet(e,t);if(o)return Ne(o);let r=t.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Fo(m=>{let g=`Loading icon set URL: ${this._sanitizer.sanitize(so.RESOURCE_URL,l.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(g)),Ne(null)})));return br(r).pipe($e(()=>{let l=this._extractIconWithNameFromAnySet(e,t);if(!l)throw Kc(e);return l}))}_extractIconWithNameFromAnySet(e,t){for(let o=t.length-1;o>=0;o--){let r=t[o];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let l=this._svgElementFromConfig(r),m=this._extractSvgIconFromSet(l,e,r.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Cr(t=>e.svgText=t),$e(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ne(null):this._fetchIcon(e).pipe(Cr(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,o){let r=e.querySelector(`[id="${t}"]`);if(!r)return null;let l=r.cloneNode(!0);if(l.removeAttribute("id"),l.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(l,o);if(l.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(l),o);let m=this._svgElementFromString(qo("<svg></svg>"));return m.appendChild(l),this._setSvgAttributes(m,o)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let t=this._svgElementFromString(qo("<svg></svg>")),o=e.attributes;for(let r=0;r<o.length;r++){let{name:l,value:m}=o[r];l!=="id"&&t.setAttribute(l,m)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:o}=e,r=o?.withCredentials??!1;if(!this._httpClient)throw yp();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let l=this._sanitizer.sanitize(so.RESOURCE_URL,t);if(!l)throw Xc(t);let m=this._inProgressUrlFetches.get(l);if(m)return m;let u=this._httpClient.get(l,{responseType:"text",withCredentials:r}).pipe($e(g=>qo(g)),yr(()=>this._inProgressUrlFetches.delete(l)),ac());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,t,o){return this._svgIconConfigs.set(Jc(e,t),o),this}_addSvgIconSetConfig(e,t){let o=this._iconSetConfigs.get(e);return o?o.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](t,e);if(r)return Cp(r)?new dn(r.url,null,r.options):new dn(r,null)}}static \u0275fac=function(t){return new(t||n)(vt(it,8),vt(xc),vt(Te,8),vt(Bo))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wr(n){return n.cloneNode(!0)}function Jc(n,i){return n+":"+i}function Cp(n){return!!(n.url&&n.options)}var Mp=["*"],xp=new q("MAT_ICON_DEFAULT_OPTIONS"),wp=new q("mat-icon-location",{providedIn:"root",factory:Pp});function Pp(){let n=p(Te),i=n?n.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var td=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Op=td.map(n=>`[${n}]`).join(", "),Sp=/^url\(['"]?#(.*?)['"]?\)$/,G=(()=>{class n{_elementRef=p(Q);_iconRegistry=p(ed);_location=p(wp);_errorHandler=p(Bo);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=et.EMPTY;constructor(){let e=p(new Nn("aria-hidden"),{optional:!0}),t=p(xp,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let o=e.childNodes[t];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),t.forEach(o=>e.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((o,r)=>{o.forEach(l=>{r.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(Op),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)td.forEach(l=>{let m=t[r],u=m.getAttribute(l),g=u?u.match(Sp):null;if(g){let b=o.get(m);b||(b=[],o.set(m,b)),b.push({name:l,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,o]=this._splitIconName(e);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe(Bt(1)).subscribe(r=>this._setSvgElement(r),r=>{let l=`Error retrieving icon ${t}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(l))})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){t&2&&(ee("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),mi(o.color?"mat-"+o.color:""),X("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",W],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Mp,decls:1,vars:0,template:function(t,o){t&1&&(Ue(),ge(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),K=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me,me]})}return n})();var Ur=class n{currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-footer"]],decls:29,vars:1,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-column","info"],[1,"footer-column","enlaces"],["routerLink","/sobre-nosotros"],["routerLink","/terminos"],["routerLink","/politica"],[1,"footer-column","contacto"],[1,"icon-circle"]],template:function(e,t){e&1&&(s(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),c(4,"J Ynnovatec"),a(),s(5,"p"),c(6),a()(),s(7,"div",3)(8,"h4"),c(9,"Enlaces"),a(),s(10,"a",4),c(11,"Sobre nosotros"),a(),s(12,"a",5),c(13,"T\xE9rminos y condiciones"),a(),s(14,"a",6),c(15,"Pol\xEDtica de privacidad"),a()(),s(16,"div",7)(17,"h4"),c(18,"Contacto"),a(),s(19,"p")(20,"span",8)(21,"mat-icon"),c(22,"email"),a()(),c(23," info@jynnovatec.com "),a(),s(24,"p")(25,"span",8)(26,"mat-icon"),c(27,"whatsapp"),a()(),c(28," +57 300 123 4567 "),a()()()()),e&2&&(d(6),P("\xA9 ",t.currentYear," Todos los derechos reservados."))},dependencies:[K,G],styles:[".footer[_ngcontent-%COMP%]{background-color:#0f3c90;color:#fff;padding:2rem 1rem 1.5rem;font-size:.95rem}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;gap:2rem}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]{flex:1 1 250px}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.3rem 0}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-decoration:none;transition:color .3s}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gold}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle;margin-right:6px}.footer[_ngcontent-%COMP%]   .enlaces[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .contacto[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer[_ngcontent-%COMP%]   .contacto[_ngcontent-%COMP%]{text-align:center}}"]})};var kp=["*",[["mat-toolbar-row"]]],Ep=["*","mat-toolbar-row"],Dp=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),go=(()=>{class n{_elementRef=p(Q);_platform=p(nt);_document=p(Te);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,o,r){if(t&1&&Oe(r,Dp,5),t&2){let l;k(l=E())&&(o._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,o){t&2&&(mi(o.color?"mat-"+o.color:""),X("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Ep,decls:2,vars:0,template:function(t,o){t&1&&(Ue(kp),ge(0),ge(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var fo=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me,me]})}return n})();var _o=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},hi=class extends _o{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,t,o,r){super(),this.component=i,this.viewContainerRef=e,this.injector=t,this.projectableNodes=r}},Vt=class extends _o{templateRef;viewContainerRef;context;injector;constructor(i,e,t,o){super(),this.templateRef=i,this.viewContainerRef=e,this.context=t,this.injector=o}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},qr=class extends _o{element;constructor(i){super(),this.element=i instanceof Q?i.nativeElement:i}},mn=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof hi)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Vt)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof qr)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var bo=class extends mn{outletElement;_appRef;_defaultInjector;_document;constructor(i,e,t,o,r){super(),this.outletElement=i,this._appRef=t,this._defaultInjector=o,this._document=r}attachComponentPortal(i){let e;if(i.viewContainerRef){let t=i.injector||i.viewContainerRef.injector,o=t.get(ws,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:t,ngModuleRef:o,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let t=this._appRef,o=i.injector||this._defaultInjector||We.NULL,r=o.get(Mr,t.injector);e=_c(i.component,{elementInjector:o,environmentInjector:r,projectableNodes:i.projectableNodes||void 0}),t.attachView(e.hostView),this.setDisposeFn(()=>{t.viewCount>0&&t.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,t=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return t.rootNodes.forEach(o=>this.outletElement.appendChild(o)),t.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(t);o!==-1&&e.remove(o)}),this._attachedPortal=i,t}attachDomPortal=i=>{let e=i.element;e.parentNode;let t=this._document.createComment("dom-portal");e.parentNode.insertBefore(t,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{t.parentNode&&t.parentNode.replaceChild(e,t)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var Is=(()=>{class n extends Vt{constructor(){let e=p(Ge),t=p(Ct);super(e,t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[he]})}return n})();var gi=(()=>{class n extends mn{_moduleRef=p(ws,{optional:!0});_document=p(Te);_viewContainerRef=p(Ct);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ce;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let t=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=t.createComponent(e.component,{index:t.length,injector:e.injector||t.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return t!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}attachDomPortal=e=>{let t=e.element;t.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(o,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(t,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[he]})}return n})();var Ji=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({})}return n})();var Qo=class{};function Yo(n){return n&&typeof n.connect=="function"&&!(n instanceof ic)}var On=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(On||{}),vo=new q("_ViewRepeater");var Ip=20,yo=(()=>{class n{_ngZone=p(De);_platform=p(nt);_renderer=p(ln).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new V;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Ip){return this._platform.isBrowser?new fr(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(Ms(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ne()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(bt(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let o=Tc(t),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$o=(()=>{class n{elementRef=p(Q);scrollDispatcher=p(yo);ngZone=p(De);dir=p(ft,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new V;_renderer=p(ci);_cleanupScroll;_elementScrolled=new V;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),o&&po()!=mo.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),po()==mo.INVERTED?e.left=e.right:po()==mo.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;Fr()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",o="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let l=this.dir&&this.dir.value=="rtl";return e=="start"?e=l?o:t:e=="end"&&(e=l?t:o),l&&po()==mo.INVERTED?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:l&&po()==mo.NEGATED?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Rp=20,en=(()=>{class n{_platform=p(nt);_listeners;_viewportSize;_change=new V;_document=p(Te,{optional:!0});constructor(){let e=p(De),t=p(ln).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[t.listen("window","resize",o),t.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+t,height:o,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),l=-r.top||e.body.scrollTop||t.scrollY||o.scrollTop||0,m=-r.left||e.body.scrollLeft||t.scrollX||o.scrollLeft||0;return{top:l,left:m}}change(e=Rp){return e>0?this._change.pipe(Ms(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({})}return n})(),Go=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[Uo,pn,Uo,pn]})}return n})();var id=Fr(),Qr=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=at(-this._previousScrollPosition.left),i.style.top=at(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,t=i.style,o=e.style,r=t.scrollBehavior||"",l=o.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),id&&(t.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),id&&(t.scrollBehavior=r,o.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}};var Yr=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,t,o){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=t,this._config=o}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(bt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Ko=class{enable(){}disable(){}attach(){}};function Rs(n,i){return i.some(e=>{let t=n.bottom<e.top,o=n.top>e.bottom,r=n.right<e.left,l=n.left>e.right;return t||o||r||l})}function nd(n,i){return i.some(e=>{let t=n.top<e.top,o=n.bottom>e.bottom,r=n.left<e.left,l=n.right>e.right;return t||o||r||l})}var $r=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,t,o){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=t,this._config=o}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:o}=this._viewportRuler.getViewportSize();Rs(e,[{width:t,height:o,bottom:o,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},cd=(()=>{class n{_scrollDispatcher=p(yo);_viewportRuler=p(en);_ngZone=p(De);_document=p(Te);constructor(){}noop=()=>new Ko;close=e=>new Yr(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Qr(this._viewportRuler,this._document);reposition=e=>new $r(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ti=class{positionStrategy;scrollStrategy=new Ko;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let t of e)i[t]!==void 0&&(this[t]=i[t])}}};var Gr=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var dd=(()=>{class n{_attachedOverlays=[];_document=p(Te);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),md=(()=>{class n extends dd{_ngZone=p(De);_renderer=p(ln).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let t=this._attachedOverlays;for(let o=t.length-1;o>-1;o--)if(t[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>t[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pd=(()=>{class n extends dd{_platform=p(nt);_ngZone=p(De);_renderer=p(ln).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let t=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ui(this._renderer,t,"pointerdown",this._pointerDownListener,o),Ui(this._renderer,t,"click",this._clickListener,o),Ui(this._renderer,t,"auxclick",this._clickListener,o),Ui(this._renderer,t,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Er(e)};_clickListener=e=>{let t=Er(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let l=r.length-1;l>-1;l--){let m=r[l];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(od(m.overlayElement,t)||od(m.overlayElement,o))break;let u=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(e)):u.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function od(n,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,t=i;for(;t;){if(t===n)return!0;t=e&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var ud=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(t,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Zr=(()=>{class n{_platform=p(nt);_containerElement;_document=p(Te);_styleLoader=p(ti);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Es()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let t=this._document.createElement("div");t.classList.add(e),Es()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}_loadStyles(){this._styleLoader.load(ud)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),As=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,e,t,o){this._renderer=e,this._ngZone=t,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},jn=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new V;_attachments=new V;_detachments=new V;_positionStrategy;_scrollStrategy;_locationChanges=et.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new V;_outsidePointerEvents=new V;_renders=new V;_afterRenderRef;_afterNextRenderRef;constructor(i,e,t,o,r,l,m,u,g,b=!1,w,N){this._portalOutlet=i,this._host=e,this._pane=t,this._config=o,this._ngZone=r,this._keyboardDispatcher=l,this._document=m,this._location=u,this._outsideClickDispatcher=g,this._animationsDisabled=b,this._injector=w,this._renderer=N,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=fc(()=>wr(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=It(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=de(de({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Gt(de({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=at(this._config.width),i.height=at(this._config.height),i.minWidth=at(this._config.minWidth),i.minHeight=at(this._config.minHeight),i.maxWidth=at(this._config.maxWidth),i.maxHeight=at(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new As(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,e,t){let o=Os(e||[]).filter(r=>!!r);o.length&&(t?i.classList.add(...o):i.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(Pe(tt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},rd="cdk-overlay-connected-position-bounding-box",Fp=/([A-Za-z%]+)$/,Kr=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new V;_resizeSubscription=et.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,t,o,r){this._viewportRuler=e,this._document=t,this._platform=o,this._overlayContainer=r,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(rd),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,t=this._viewportRect,o=this._containerRect,r=[],l;for(let m of this._preferredPositions){let u=this._getOriginPoint(i,o,m),g=this._getOverlayPoint(u,e,m),b=this._getOverlayFit(g,e,t,m);if(b.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(m,u);return}if(this._canFitWithFlexibleDimensions(b,g,t)){r.push({position:m,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,m)});continue}(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:g,originPoint:u,position:m,overlayRect:e})}if(r.length){let m=null,u=-1;for(let g of r){let b=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);b>u&&(u=b,m=g)}this._isPushed=!1,this._applyPosition(m.position,m.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(l.position,l.originPoint);return}this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,t){let o;if(t.originX=="center")o=i.left+i.width/2;else{let l=this._isRtl()?i.right:i.left,m=this._isRtl()?i.left:i.right;o=t.originX=="start"?l:m}e.left<0&&(o-=e.left);let r;return t.originY=="center"?r=i.top+i.height/2:r=t.originY=="top"?i.top:i.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(i,e,t){let o;t.overlayX=="center"?o=-e.width/2:t.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return t.overlayY=="center"?r=-e.height/2:r=t.overlayY=="top"?0:-e.height,{x:i.x+o,y:i.y+r}}_getOverlayFit(i,e,t,o){let r=sd(e),{x:l,y:m}=i,u=this._getOffset(o,"x"),g=this._getOffset(o,"y");u&&(l+=u),g&&(m+=g);let b=0-l,w=l+r.width-t.width,N=0-m,A=m+r.height-t.height,I=this._subtractOverflows(r.width,b,w),j=this._subtractOverflows(r.height,N,A),pe=I*j;return{visibleArea:pe,isCompletelyWithinViewport:r.width*r.height===pe,fitsInViewportVertically:j===r.height,fitsInViewportHorizontally:I==r.width}}_canFitWithFlexibleDimensions(i,e,t){if(this._hasFlexibleDimensions){let o=t.bottom-e.y,r=t.right-e.x,l=ad(this._overlayRef.getConfig().minHeight),m=ad(this._overlayRef.getConfig().minWidth),u=i.fitsInViewportVertically||l!=null&&l<=o,g=i.fitsInViewportHorizontally||m!=null&&m<=r;return u&&g}return!1}_pushOverlayOnScreen(i,e,t){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let o=sd(e),r=this._viewportRect,l=Math.max(i.x+o.width-r.width,0),m=Math.max(i.y+o.height-r.height,0),u=Math.max(r.top-t.top-i.y,0),g=Math.max(r.left-t.left-i.x,0),b=0,w=0;return o.width<=r.width?b=g||-l:b=i.x<this._viewportMargin?r.left-t.left-i.x:0,o.height<=r.height?w=u||-m:w=i.y<this._viewportMargin?r.top-t.top-i.y:0,this._previousPushAmount={x:b,y:w},{x:i.x+b,y:i.y+w}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!Lp(this._lastScrollVisibility,t)){let o=new Gr(i,t);this._positionChanges.next(o)}this._lastScrollVisibility=t}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,o=i.overlayY;i.overlayX==="center"?t="center":this._isRtl()?t=i.overlayX==="start"?"right":"left":t=i.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${t} ${o}`}_calculateBoundingBoxRect(i,e){let t=this._viewportRect,o=this._isRtl(),r,l,m;if(e.overlayY==="top")l=i.y,r=t.height-l+this._viewportMargin;else if(e.overlayY==="bottom")m=t.height-i.y+this._viewportMargin*2,r=t.height-m+this._viewportMargin;else{let A=Math.min(t.bottom-i.y+t.top,i.y),I=this._lastBoundingBoxSize.height;r=A*2,l=i.y-A,r>I&&!this._isInitialRender&&!this._growAfterOpen&&(l=i.y-I/2)}let u=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,g=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,b,w,N;if(g)N=t.width-i.x+this._viewportMargin*2,b=i.x-this._viewportMargin;else if(u)w=i.x,b=t.right-i.x;else{let A=Math.min(t.right-i.x+t.left,i.x),I=this._lastBoundingBoxSize.width;b=A*2,w=i.x-A,b>I&&!this._isInitialRender&&!this._growAfterOpen&&(w=i.x-I/2)}return{top:l,left:w,bottom:m,right:N,width:b,height:r}}_setBoundingBoxStyles(i,e){let t=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;o.height=at(t.height),o.top=at(t.top),o.bottom=at(t.bottom),o.width=at(t.width),o.left=at(t.left),o.right=at(t.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=at(r)),l&&(o.maxWidth=at(l))}this._lastBoundingBoxSize=t,Vn(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Vn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let t={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(o){let b=this._viewportRuler.getViewportScrollPosition();Vn(t,this._getExactOverlayY(e,i,b)),Vn(t,this._getExactOverlayX(e,i,b))}else t.position="static";let m="",u=this._getOffset(e,"x"),g=this._getOffset(e,"y");u&&(m+=`translateX(${u}px) `),g&&(m+=`translateY(${g}px)`),t.transform=m.trim(),l.maxHeight&&(o?t.maxHeight=at(l.maxHeight):r&&(t.maxHeight="")),l.maxWidth&&(o?t.maxWidth=at(l.maxWidth):r&&(t.maxWidth="")),Vn(this._pane.style,t)}_getExactOverlayY(i,e,t){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,t)),i.overlayY==="bottom"){let l=this._document.documentElement.clientHeight;o.bottom=`${l-(r.y+this._overlayRect.height)}px`}else o.top=at(r.y);return o}_getExactOverlayX(i,e,t){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,t));let l;if(this._isRtl()?l=i.overlayX==="end"?"left":"right":l=i.overlayX==="end"?"right":"left",l==="right"){let m=this._document.documentElement.clientWidth;o.right=`${m-(r.x+this._overlayRect.width)}px`}else o.left=at(r.x);return o}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),t=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nd(i,t),isOriginOutsideView:Rs(i,t),isOverlayClipped:nd(e,t),isOverlayOutsideView:Rs(e,t)}}_subtractOverflows(i,...e){return e.reduce((t,o)=>t-Math.max(o,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+i-this._viewportMargin,bottom:t.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Os(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof Q)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,t=i.height||0;return{top:i.y,bottom:i.y+t,left:i.x,right:i.x+e,height:t,width:e}}};function Vn(n,i){for(let e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n}function ad(n){if(typeof n!="number"&&n!=null){let[i,e]=n.split(Fp);return!e||e==="px"?parseFloat(i):null}return n||null}function sd(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Lp(n,i){return n===i?!0:n.isOriginClipped===i.isOriginClipped&&n.isOriginOutsideView===i.isOriginOutsideView&&n.isOverlayClipped===i.isOverlayClipped&&n.isOverlayOutsideView===i.isOverlayOutsideView}var ld="cdk-global-overlay-wrapper",Xr=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(ld),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:l,maxHeight:m}=t,u=(o==="100%"||o==="100vw")&&(!l||l==="100%"||l==="100vw"),g=(r==="100%"||r==="100vh")&&(!m||m==="100%"||m==="100vh"),b=this._xPosition,w=this._xOffset,N=this._overlayRef.getConfig().direction==="rtl",A="",I="",j="";u?j="flex-start":b==="center"?(j="center",N?I=w:A=w):N?b==="left"||b==="end"?(j="flex-end",A=w):(b==="right"||b==="start")&&(j="flex-start",I=w):b==="left"||b==="start"?(j="flex-start",A=w):(b==="right"||b==="end")&&(j="flex-end",I=w),i.position=this._cssPosition,i.marginLeft=u?"0":A,i.marginTop=g?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=u?"0":I,e.justifyContent=j,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,t=e.style;e.classList.remove(ld),t.justifyContent=t.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},hd=(()=>{class n{_viewportRuler=p(en);_document=p(Te);_platform=p(nt);_overlayContainer=p(Zr);constructor(){}global(){return new Xr}flexibleConnectedTo(e){return new Kr(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ze=(()=>{class n{scrollStrategies=p(cd);_overlayContainer=p(Zr);_positionBuilder=p(hd);_keyboardDispatcher=p(md);_injector=p(We);_ngZone=p(De);_document=p(Te);_directionality=p(ft);_location=p(bc);_outsideClickDispatcher=p(pd);_animationsModuleType=p(Be,{optional:!0});_idGenerator=p(gt);_renderer=p(ln).createRenderer(null,null);_appRef;_styleLoader=p(ti);constructor(){}create(e){this._styleLoader.load(ud);let t=this._createHostElement(),o=this._createPaneElement(t),r=this._createPortalOutlet(o),l=new Ti(e);return l.direction=l.direction||this._directionality.value,new jn(r,t,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Mr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let t=this._document.createElement("div");return t.id=this._idGenerator.getId("cdk-overlay-"),t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ps)),new bo(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Np=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gd=new q("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.reposition()}}),Co=(()=>{class n{elementRef=p(Q);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),Jr=(()=>{class n{_overlay=p(Ze);_dir=p(ft,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=et.EMPTY;_attachSubscription=et.EMPTY;_detachSubscription=et.EMPTY;_positionSubscription=et.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=p(gd);_disposeOnNavigation=!1;_ngZone=p(De);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ce;positionChange=new ce;attach=new ce;detach=new ce;overlayKeydown=new ce;overlayOutsideClick=new ce;constructor(){let e=p(Ge),t=p(Ct);this._templatePortal=new Vt(e,t),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Np);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode===27&&!this.disableClose&&!xt(t)&&(t.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{let o=this._getOriginElement(),r=Er(t);(!o||o!==r&&!o.contains(r))&&this.overlayOutsideClick.next(t)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new Ti({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(t.width=this.width),(this.height||this.height===0)&&(t.height=this.height),(this.minWidth||this.minWidth===0)&&(t.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){let t=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Co?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Co?this.origin.elementRef.nativeElement:this.origin instanceof Q?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(lc(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",W],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",W],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",W],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",W],push:[2,"cdkConnectedOverlayPush","push",W],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",W]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[yt]})}return n})();function Bp(n){return()=>n.scrollStrategies.reposition()}var zp={provide:gd,deps:[Ze],useFactory:Bp},ii=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Ze,zp],imports:[Uo,Ji,Go,Go]})}return n})();var Vp=["mat-menu-item",""],jp=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Hp=["mat-icon, [matMenuItemIcon]","*"];function Wp(n,i){n&1&&(zt(),s(0,"svg",2),M(1,"polygon",3),a())}var Up=["*"];function qp(n,i){if(n&1){let e=S();s(0,"div",0),v("click",function(){y(e);let o=_();return C(o.closed.emit("click"))})("animationstart",function(o){y(e);let r=_();return C(r._onAnimationStart(o.animationName))})("animationend",function(o){y(e);let r=_();return C(r._onAnimationDone(o.animationName))})("animationcancel",function(o){y(e);let r=_();return C(r._onAnimationDone(o.animationName))}),s(1,"div",1),ge(2),a()()}if(n&2){let e=_();mi(e._classList),X("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),h("id",e.panelId),ee("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Ls=new q("MAT_MENU_PANEL"),Zo=(()=>{class n{_elementRef=p(Q);_document=p(Te);_focusMonitor=p(qi);_parentMenu=p(Ls,{optional:!0});_changeDetectorRef=p(Ve);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new V;_focused=new V;_highlighted=!1;_triggersSubmenu=!1;constructor(){p(ti).load(Qi),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<t.length;o++)t[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,o){t&1&&v("click",function(l){return o._checkDisabled(l)})("mouseenter",function(){return o._handleMouseEnter()}),t&2&&(ee("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),X("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",W],disableRipple:[2,"disableRipple","disableRipple",W]},exportAs:["matMenuItem"],attrs:Vp,ngContentSelectors:Hp,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,o){t&1&&(Ue(jp),ge(0),s(1,"span",0),ge(2,1),a(),M(3,"div",1),f(4,Wp,2,0,":svg:svg",2)),t&2&&(d(3),h("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),d(),ke(o._triggersSubmenu?4:-1))},dependencies:[zn],encapsulation:2,changeDetection:0})}return n})();var Qp=new q("MatMenuContent");var Yp=new q("mat-menu-default-options",{providedIn:"root",factory:$p});function $p(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Fs="_mat-menu-enter",ea="_mat-menu-exit",Mo=(()=>{class n{_elementRef=p(Q);_changeDetectorRef=p(Ve);_injector=p(We);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new xr;_classList={};_panelAnimationState="void";_animationDone=new V;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,o=de({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{o[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{o[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ce;close=this.closed;panelId=p(gt).getId("mat-menu-panel-");constructor(){let e=p(Yp);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=p(Be,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Rr(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Tt(this._directDescendantItems),Kt(e=>tt(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let o=e.toArray(),r=Math.max(0,Math.min(o.length-1,t.activeItemIndex||0));o[r]&&!o[r].disabled?t.setActiveItem(r):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Tt(this._directDescendantItems),Kt(t=>tt(...t.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,o=this._keyManager;switch(t){case 27:xt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=It(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Gt(de({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===ea;(t||e===Fs)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Fs||e===ea)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(ea),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Fs:ea)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Tt(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-menu"]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,Qp,5),Oe(r,Zo,5),Oe(r,Zo,4)),t&2){let l;k(l=E())&&(o.lazyContent=l.first),k(l=E())&&(o._allItems=l),k(l=E())&&(o.items=l)}},viewQuery:function(t,o){if(t&1&&Y(Ge,5),t&2){let r;k(r=E())&&(o.templateRef=r.first)}},hostVars:3,hostBindings:function(t,o){t&2&&ee("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",W],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:W(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[ze([{provide:Ls,useExisting:n}])],ngContentSelectors:Up,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,o){t&1&&(Ue(),f(0,qp,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return n})(),fd=new q("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.reposition()}});function Gp(n){return()=>n.scrollStrategies.reposition()}var Kp={provide:fd,deps:[Ze],useFactory:Gp},Xp={passive:!0};var Xo=new WeakMap,_d=(()=>{class n{_overlay=p(Ze);_element=p(Q);_viewContainerRef=p(Ct);_menuItemInstance=p(Zo,{optional:!0,self:!0});_dir=p(ft,{optional:!0});_focusMonitor=p(qi);_ngZone=p(De);_scrollStrategy=p(fd);_changeDetectorRef=p(Ve);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=et.EMPTY;_hoverSubscription=et.EMPTY;_menuCloseSubscription=et.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ce;onMenuOpen=this.menuOpened;menuClosed=new ce;onMenuClose=this.menuClosed;constructor(){let e=p(Ls,{optional:!0}),t=p(ci);this._parentMaterialMenu=e instanceof Mo?e:void 0,this._cleanupTouchstart=Ui(t,this._element.nativeElement,"touchstart",o=>{kc(o)||(this._openedBy="touch")},Xp)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Xo.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=Xo.get(e);Xo.set(e,this),t&&t!==this&&t.closeMenu();let o=this._createOverlay(e),r=o.getConfig(),l=r.positionStrategy;this._setPosition(e,l),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,o.hasAttached()||(o.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof Mo&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(Pe(e.close)).subscribe(()=>{l.withLockedPosition(!1).reapplyLastPosition(),l.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let t=this._overlayRef,o=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),o instanceof Mo&&this._ownsMenu(o)?(this._pendingRemoval=o._animationDone.pipe(Bt(1)).subscribe(()=>{t.detach(),o.lazyContent?.detach()}),o._setIsOpen(!1)):(t.detach(),o?.lazyContent?.detach()),o&&this._ownsMenu(o)&&Xo.delete(o),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe(o=>{this.menu instanceof Mo&&this.menu._handleKeydown(o)})}return this._overlayRef}_getOverlayConfig(e){return new Ti({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(o=>{this._ngZone.run(()=>{let r=o.connectionPair.overlayX==="start"?"after":"before",l=o.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,l)})})}_setPosition(e,t){let[o,r]=e.xPosition==="before"?["end","start"]:["start","end"],[l,m]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,g]=[l,m],[b,w]=[o,r],N=0;if(this.triggersSubmenu()){if(w=o=e.xPosition==="before"?"start":"end",r=b=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let A=this._parentMaterialMenu.items.first;this._parentInnerPadding=A?A._getHostElement().offsetTop:0}N=l==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u=l==="top"?"bottom":"top",g=m==="top"?"bottom":"top");t.withPositions([{originX:o,originY:u,overlayX:b,overlayY:l,offsetY:N},{originX:r,originY:u,overlayX:w,overlayY:l,offsetY:N},{originX:o,originY:g,overlayX:b,overlayY:m,offsetY:-N},{originX:r,originY:g,overlayX:w,overlayY:m,offsetY:-N}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ne(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(bt(l=>this._menuOpen&&l!==this._menuItemInstance)):Ne();return tt(e,o,r,t)}_handleMousedown(e){Sc(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Vt(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Xo.get(e)===this}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,o){t&1&&v("click",function(l){return o._handleClick(l)})("mousedown",function(l){return o._handleMousedown(l)})("keydown",function(l){return o._handleKeydown(l)}),t&2&&ee("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return n})(),bd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Kp],imports:[uo,me,ii,pn,me]})}return n})(),vd={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},P1=vd.fadeInItems,O1=vd.transformMenu;var xo=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=ui(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=ui(e)}_inset=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,o){t&2&&(ee("aria-orientation",o.vertical?"vertical":"horizontal"),X("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,o){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),tn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me,me]})}return n})();var Jp=n=>({color:n});function eu(n,i){if(n&1&&(s(0,"span",11),c(1),a()),n&2){let e=_(2);d(),O(e.totalProductos)}}function tu(n,i){if(n&1&&(D(0),s(1,"button",9)(2,"mat-icon"),c(3,"shopping_cart"),a(),f(4,eu,2,1,"span",10),a(),T()),n&2){let e=_();d(4),h("ngIf",e.totalProductos>0)}}function iu(n,i){if(n&1&&(D(0),s(1,"button",12),c(2,"Ingresa"),a(),s(3,"mat-menu",null,0)(5,"button",13),c(6,"Iniciar sesi\xF3n"),a(),s(7,"button",14),c(8,"Registrarse"),a()(),T()),n&2){let e=fe(4);d(),h("matMenuTriggerFor",e)}}function nu(n,i){n&1&&(D(0),s(1,"button",18),c(2,"Mi perfil"),a(),s(3,"button",19),c(4,"Mis pedidos"),a(),M(5,"mat-divider"),T())}function ou(n,i){n&1&&(D(0),s(1,"button",20),c(2,"Panel vendedor"),a(),M(3,"mat-divider"),T())}function ru(n,i){n&1&&(D(0),s(1,"button",21),c(2,"Panel admin"),a(),M(3,"mat-divider"),T())}function au(n,i){if(n&1){let e=S();D(0),s(1,"button",15)(2,"mat-icon",16),c(3),a(),c(4),a(),s(5,"mat-menu",null,1),f(7,nu,6,0,"ng-container",8)(8,ou,4,0,"ng-container",8)(9,ru,4,0,"ng-container",8),s(10,"button",17),v("click",function(){y(e);let o=_();return C(o.logout())}),c(11,"Cerrar sesi\xF3n"),a()(),T()}if(n&2){let e=fe(6),t=_();d(),h("matMenuTriggerFor",e)("ngStyle",Hi(7,Jp,t.colorPorRol())),d(2),O(t.iconoPorRol()),d(),P(" ",t.nombreUsuario()," "),d(3),h("ngIf",t.auth.isCliente()),d(),h("ngIf",t.auth.isVendedor()),d(),h("ngIf",t.auth.isAdmin())}}var ra=class n{auth=p(Ft);cartService=p(Yi);sub;totalProductos=0;ngOnInit(){this.sub=this.cartService.carrito$.subscribe(i=>{this.totalProductos=i.reduce((e,t)=>e+t.cantidad,0)})}ngOnDestroy(){this.sub.unsubscribe()}logout(){this.auth.logout()}nombreUsuario(){return this.auth.getNombre()||"Usuario"}iconoPorRol(){return this.auth.isAdmin()?"shield":this.auth.isVendedor()?"store":"person"}colorPorRol(){return this.auth.isAdmin()?"gold":this.auth.isVendedor()?"#4caf50":"#2196f3"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-navbar"]],decls:12,vars:3,consts:[["authMenu","matMenu"],["userMenu","matMenu"],[1,"navbar"],["routerLink","/",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"spacer"],["mat-button","","routerLink","/productos"],[4,"ngIf"],["mat-icon-button","","routerLink","/carrito","matTooltip","Carrito de compras",1,"carrito-boton"],["class","contador",4,"ngIf"],[1,"contador"],["mat-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/login"],["mat-menu-item","","routerLink","/registro"],["mat-button","",3,"matMenuTriggerFor","ngStyle"],[1,"icon-rol"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/cliente/perfil"],["mat-menu-item","","routerLink","/cliente/mis-pedidos"],["mat-menu-item","","routerLink","/vendedor"],["mat-menu-item","","routerLink","/admin"]],template:function(e,t){e&1&&(s(0,"mat-toolbar",2)(1,"div",3)(2,"mat-icon",4),c(3,"phone_iphone"),a(),s(4,"span",5),c(5,"JYnnovatec"),a()(),M(6,"span",6),s(7,"a",7),c(8,"Inicio"),a(),f(9,tu,5,1,"ng-container",8)(10,iu,9,1,"ng-container",8)(11,au,12,9,"ng-container",8),a()),e&2&&(d(9),h("ngIf",t.auth.isLoggedIn()&&t.auth.isCliente()),d(),h("ngIf",!t.auth.isLoggedIn()),d(),h("ngIf",t.auth.isLoggedIn()))},dependencies:[ct,At,fo,go,$,yn,oe,dt,K,G,bd,Mo,Zo,_d,tn,xo,Z,lo],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:0 1.5rem;display:flex;align-items:center;height:64px;box-shadow:0 2px 6px #0000000d;z-index:1000}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;margin-left:1rem;font-weight:500;transition:color .2s ease}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1976d2}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:1.25rem;font-weight:600;color:#1976d2}.logo[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:26px;color:#1976d2}.logo[_ngcontent-%COMP%]:hover{color:#0d47a1}.spacer[_ngcontent-%COMP%]{flex:1}.carrito-boton[_ngcontent-%COMP%]{position:relative;margin-left:1rem}.carrito-boton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#444;transition:transform .2s}.carrito-boton[_ngcontent-%COMP%]   mat-icon.animado[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .3s ease}.contador[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background-color:#e53935;color:#fff;font-size:11px;padding:2px 6px;border-radius:50%;font-weight:700;min-width:20px;text-align:center;animation:_ngcontent-%COMP%_popIn .3s ease;box-shadow:0 0 0 2px #fff}@keyframes _ngcontent-%COMP%_bounce{0%{transform:scale(1)}50%{transform:scale(1.3)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}"]})};var kn=class n{nombreSubject=new li("");categoriaSubject=new li("");nombre$=this.nombreSubject.asObservable();categoria$=this.categoriaSubject.asObservable();setNombre(i){this.nombreSubject.next(i)}setCategoria(i){this.categoriaSubject.next(i)}getNombre(){return this.nombreSubject.getValue()}getCategoria(){return this.categoriaSubject.getValue()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var lu=()=>["/"];function cu(n,i){if(n&1&&(D(0),s(1,"a",4),c(2),a(),T()),n&2){let e=_().$implicit;d(),h("routerLink",e.url),d(),P(" ",e.label," ")}}function du(n,i){if(n&1&&(s(0,"span",9),c(1),a()),n&2){let e=_().$implicit;d(),O(e.label)}}function mu(n,i){if(n&1&&(D(0),s(1,"mat-icon",8),c(2,"chevron_right"),a(),f(3,cu,3,2,"ng-container",6)(4,du,2,1,"ng-template",null,1,qe),T()),n&2){let e=i.last,t=fe(5);d(3),h("ngIf",!e)("ngIfElse",t)}}function pu(n,i){if(n&1&&(D(0),f(1,mu,6,2,"ng-container",7),T()),n&2){let e=_();d(),h("ngForOf",e.breadcrumbs)}}function uu(n,i){}var aa=class n{constructor(i,e,t){this.router=i;this.activatedRoute=e;this.breadcrumbService=t}breadcrumbs=[];ngOnInit(){this.router.events.pipe(bt(i=>i instanceof Pc)).subscribe(()=>{this.breadcrumbs=this.buildBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbService.nombre$.subscribe(()=>{this.breadcrumbs=this.buildBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbService.categoria$.subscribe(()=>{this.breadcrumbs=this.buildBreadcrumbs(this.activatedRoute.root)})}buildBreadcrumbs(i,e="",t=[]){let o=i.children;for(let r of o){if(r.outlet!==wc)continue;let l=r.snapshot,m=l.url.map(b=>b.path).join("/");m&&(e+=`/${m}`);let u=l.data.breadcrumb,g=l.routeConfig?.path;if(u==null)switch(g){case"productos/:id":u=this.breadcrumbService.getNombre()||"Detalle",t.push({label:"Productos",url:"/productos"});let b=this.breadcrumbService.getCategoria();b&&t.push({label:b,url:`/categoria/${b.toLowerCase()}`});break;case"categoria/:nombre":u=this.breadcrumbService.getCategoria()||"Categor\xEDa";break;case"pedido/:id":u=this.breadcrumbService.getNombre()||"Pedido";break}return u!=null&&t.push({label:u,url:e}),this.buildBreadcrumbs(r,e,t)}return t}static \u0275fac=function(e){return new(e||n)(z(lt),z(Wi),z(kn))};static \u0275cmp=x({type:n,selectors:[["app-breadcrumb"]],decls:10,vars:4,consts:[["noCrumbs",""],["activeCrumb",""],[1,"breadcrumb-wrapper"],[1,"breadcrumb-track"],[1,"breadcrumb-link",3,"routerLink"],[1,"home-icon"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"breadcrumb-separator"],[1,"breadcrumb-active"]],template:function(e,t){if(e&1&&(s(0,"nav",2)(1,"div",3)(2,"a",4)(3,"mat-icon",5),c(4,"home"),a(),s(5,"span"),c(6,"Inicio"),a()(),f(7,pu,2,1,"ng-container",6)(8,uu,0,0,"ng-template",null,0,qe),a()()),e&2){let o=fe(9);d(2),h("routerLink",ht(3,lu)),d(5),h("ngIf",t.breadcrumbs.length>0)("ngIfElse",o)}},dependencies:[L,_e,Z,K,G,At],styles:[".breadcrumb-wrapper[_ngcontent-%COMP%]{padding:1rem 1.5rem;background-color:#fff;border-radius:16px 16px 0 0;box-shadow:0 4px 14px #0000000f;font-size:.95rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;overflow-x:auto}.breadcrumb-wrapper[_ngcontent-%COMP%]   .breadcrumb-track[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;white-space:nowrap}.breadcrumb-wrapper[_ngcontent-%COMP%]   .breadcrumb-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;color:#1976d2;text-decoration:none;font-weight:500;transition:color .2s ease}.breadcrumb-wrapper[_ngcontent-%COMP%]   .breadcrumb-link[_ngcontent-%COMP%]:hover{color:#0d47a1}.breadcrumb-wrapper[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{font-size:1.1rem;color:#b0b0b0;-webkit-user-select:none;user-select:none}.breadcrumb-wrapper[_ngcontent-%COMP%]   .breadcrumb-active[_ngcontent-%COMP%]{color:#212121;font-weight:600}.breadcrumb-wrapper[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{font-size:20px;color:#1976d2}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}"]})};var sa=class n{title="ecommerce-angular19";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-content"]],template:function(e,t){e&1&&(M(0,"app-navbar"),s(1,"main",0),M(2,"app-breadcrumb")(3,"router-outlet"),a(),M(4,"app-footer"))},dependencies:[L,vn,ra,Ur,aa],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Segoe UI,sans-serif;background-color:#f8f9fa;color:#333}.panel-cliente-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:2rem;background-color:#eef1f5;gap:1.5rem}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:1rem;display:flex;flex-direction:column;gap:1rem}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border-radius:8px;text-decoration:none;color:#333;font-weight:500;transition:background-color .2s ease}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e3f2fd;color:#007bff}.content[_ngcontent-%COMP%]{flex-grow:1;background-color:#f6f9fc;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000001a}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;color:#333;display:flex;align-items:center;gap:.5rem}.order-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 12px #0000001a;margin-bottom:1.5rem;display:flex;flex-direction:column;gap:.8rem}.order-status[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;font-size:.8rem;font-weight:700;padding:.3rem .6rem;border-radius:1rem;align-self:flex-end}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:8px;padding:.5rem 1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0062cc}.footer[_ngcontent-%COMP%]{background-color:#003087;color:#fff;padding:2rem 3rem;margin-top:auto;display:flex;justify-content:space-between;flex-wrap:wrap;gap:2rem}.footer[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fc0;margin-bottom:.5rem}.footer[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.footer[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer[_ngcontent-%COMP%]   .footer-copy[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:1.5rem;font-size:.9rem;border-top:1px solid rgba(255,255,255,.1);padding-top:1rem}"]})};var mt=class n{constructor(i){this.http=i}apiUrl="http://localhost:5000/api/productos";apiCategorias="http://localhost:5000/api/categorias";apiProveedores="http://localhost:5000/api/proveedores";productosActualizados=new li(!1);productosActualizados$=this.productosActualizados.asObservable();getImagenUrl(i){return i?`http://localhost:5000/uploads/productos/${i}`:"assets/img/no-image.png"}getProductos(){return this.http.get(this.apiUrl).pipe($e(i=>i.success&&Array.isArray(i.data)?i.data:[]),Fo(i=>(console.error("\u274C Error en getProductos",i),Ne([]))))}getProducto(i){return this.http.get(`${this.apiUrl}/${i}`).pipe($e(e=>e.data))}crearProducto(i){return this.http.post(this.apiUrl,i).pipe($e(e=>(this.productosActualizados.next(!0),e.data)))}crearProductoConImagen(i,e){let t=new FormData;return t.append("nombre",i.nombre),t.append("descripcion",i.descripcion),t.append("precio",i.precio.toString()),i.destino==="stock"?(t.append("stock",(i.stock??1).toString()),t.append("cantidadBodega","0")):i.destino==="bodega"&&(t.append("stock","0"),t.append("cantidadBodega",(i.cantidadBodega??1).toString())),t.append("categoria",i.categoria._id),i.proveedor?._id&&t.append("proveedor",i.proveedor._id),i.costoCompra!=null&&t.append("costoCompra",i.costoCompra.toString()),i.ubicacionAlmacen&&t.append("ubicacionAlmacen",i.ubicacionAlmacen),i.destino&&t.append("destino",i.destino),e&&t.append("imagen",e),this.crearProducto(t)}actualizarProducto(i,e){return this.http.put(`${this.apiUrl}/${i}`,e).pipe($e(t=>(this.productosActualizados.next(!0),t.data)))}guardarProducto(i,e){return i?this.actualizarProducto(i,e):this.crearProducto(e)}eliminarProducto(i){return this.http.delete(`${this.apiUrl}/${i}`).pipe($e(e=>(this.productosActualizados.next(!0),e)))}actualizarDestino(i,e,t){return this.http.patch(`${this.apiUrl}/${i}/destino`,{destino:e,cantidad:t}).pipe($e(o=>(this.productosActualizados.next(!0),o.data)))}registrarMovimiento(i,e){return this.http.post(`${this.apiUrl}/${i}/movimientos`,e).pipe($e(t=>(this.productosActualizados.next(!0),t)))}actualizarStock(i,e,t=!1){let o=t?{cantidadVendida:e}:{cantidad:e};return this.http.put(`${this.apiUrl}/${i}/stock`,o).pipe($e(r=>(this.productosActualizados.next(!0),r.data)),Fo(r=>{throw console.error("\u274C Error al actualizar stock",r),r}))}getCategorias(){return this.http.get(this.apiCategorias)}crearCategoria(i){return this.http.post(this.apiCategorias,{nombre:i})}getProveedores(){return this.http.get(this.apiProveedores)}crearProveedor(i){return this.http.post(this.apiProveedores,i)}getProveedorById(i){return this.http.get(`${this.apiProveedores}/${i}`)}actualizarProveedor(i,e){return this.http.put(`${this.apiProveedores}/${i}`,e)}eliminarProveedor(i){return this.http.delete(`${this.apiProveedores}/${i}`)}static \u0275fac=function(e){return new(e||n)(vt(it))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var hu=(n,i,e)=>({"stock-bajo":n,"stock-alto":i,"sin-stock":e}),gu=n=>["/productos",n],En=class n{producto;agregarAlCarrito(){console.log("\u{1F6D2} Producto a\xF1adido al carrito:",this.producto),alert(`\u2705 Producto a\xF1adido al carrito: ${this.producto.nombre}`)}verDetalle(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-card"]],inputs:{producto:"producto"},decls:18,vars:17,consts:[[3,"src","alt"],[1,"card-content"],[1,"nombre"],[1,"categoria"],[1,"descripcion"],[1,"stock",3,"ngClass"],[1,"precio"],[1,"acciones"],["mat-raised-button","",3,"disabled","color","routerLink"]],template:function(e,t){e&1&&(s(0,"mat-card"),M(1,"img",0),s(2,"div",1)(3,"div",2),c(4),a(),s(5,"div",3),c(6),a(),s(7,"div",4),c(8),a(),s(9,"div",5),c(10),a(),s(11,"div",6),c(12),a(),s(13,"div",7)(14,"button",8)(15,"mat-icon"),c(16,"add_shopping_cart"),a(),c(17," Agregar "),a()()()()),e&2&&(d(),ji("alt",t.producto.nombre),h("src",t.producto.imagen,xe),d(3),O(t.producto.nombre),d(2),O(t.producto.categoria.nombre),d(2),O(t.producto.descripcion),d(),h("ngClass",hc(11,hu,t.producto.stock>0&&t.producto.stock<=20,t.producto.stock>20,t.producto.stock===0)),d(),P(" Stock: ",t.producto.stock===0?"Agotado":t.producto.stock," "),d(2),P("$ ",t.producto.precio,""),d(2),h("disabled",t.producto.stock===0)("color",t.producto.stock<=10?"accent":"primary")("routerLink",Hi(15,gu,t.producto._id)))},dependencies:[L,Ht,ct,At,be,Se,$,oe,K,G],styles:["[_nghost-%COMP%]{display:block}.mat-mdc-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;box-shadow:0 6px 20px #00000014;overflow:hidden;display:flex;flex-direction:column;transition:transform .2s ease;height:100%}.mat-mdc-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001f}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:300px}img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:contain;background-color:#f5f5f5;padding:12px}.card-content[_ngcontent-%COMP%]{padding:16px}.card-content[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#212121}.card-content[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{font-size:.95rem;color:#757575;margin-bottom:4px}.card-content[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:8px}.card-content[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#1976d2;margin-bottom:4px}.card-content[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:8px;font-weight:500}.card-content[_ngcontent-%COMP%]   .stock.stock-alto[_ngcontent-%COMP%]{color:#2e7d32}.card-content[_ngcontent-%COMP%]   .stock.stock-bajo[_ngcontent-%COMP%]{color:#ef6c00}.card-content[_ngcontent-%COMP%]   .stock.sin-stock[_ngcontent-%COMP%]{color:#9e9e9e}.card-content[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.card-content[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:24px;font-weight:600}.card-content[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#1976d2;text-decoration:none}.card-content[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var yd=(()=>{class n{_animationMode=p(Be,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,o){t&2&&X("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,o){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var fu=["text"],_u=[[["mat-icon"]],"*"],bu=["mat-icon","*"];function vu(n,i){if(n&1&&M(0,"mat-pseudo-checkbox",1),n&2){let e=_();h("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function yu(n,i){if(n&1&&M(0,"mat-pseudo-checkbox",3),n&2){let e=_();h("disabled",e.disabled)}}function Cu(n,i){if(n&1&&(s(0,"span",4),c(1),a()),n&2){let e=_();d(),P("(",e.group.label,")")}}var Vs=new q("MAT_OPTION_PARENT_COMPONENT"),js=new q("MatOptgroup");var zs=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},ni=(()=>{class n{_element=p(Q);_changeDetectorRef=p(Ve);_parent=p(Vs,{optional:!0});group=p(js,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=p(gt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ce;_text;_stateChanges=new V;constructor(){let e=p(ti);e.load(Qi),e.load(Rc),this._signalDisableRipple=!!this._parent&&cc(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,t){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!xt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new zs(this,e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-option"]],viewQuery:function(t,o){if(t&1&&Y(fu,7),t&2){let r;k(r=E())&&(o._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(t,o){t&1&&v("click",function(){return o._selectViaInteraction()})("keydown",function(l){return o._handleKeydown(l)}),t&2&&(Ho("id",o.id),ee("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),X("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",W]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:bu,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,o){t&1&&(Ue(_u),f(0,vu,1,2,"mat-pseudo-checkbox",1),ge(1),s(2,"span",2,0),ge(4,1),a(),f(5,yu,1,1,"mat-pseudo-checkbox",3)(6,Cu,2,1,"span",4),M(7,"div",5)),t&2&&(ke(o.multiple?0:-1),d(5),ke(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),d(),ke(o.group&&o.group._inert?6:-1),d(),h("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[yd,zn],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function Cd(n,i,e){if(e.length){let t=i.toArray(),o=e.toArray(),r=0;for(let l=0;l<n+1;l++)t[l].group&&t[l].group===o[r]&&r++;return r}return 0}function Md(n,i,e,t){return n<e?n:n+i>e+t?Math.max(0,n-t+i):e}var Hn=class{applyChanges(i,e,t,o,r){i.forEachOperation((l,m,u)=>{let g,b;if(l.previousIndex==null){let w=t(l,m,u);g=e.createEmbeddedView(w.templateRef,w.context,w.index),b=On.INSERTED}else u==null?(e.remove(m),b=On.REMOVED):(g=e.get(m),e.move(g,u),b=On.MOVED);r&&r({context:g?.context,operation:b,record:l})})}detach(){}};var Jo=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new V;constructor(i=!1,e,t=!0,o){this._multiple=i,this._emitChanges=t,this.compareWith=o,e&&e.length&&(i?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(t=>this._markSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(t=>this._unmarkSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,t=new Set(i.map(r=>this._getConcreteValue(r)));i.forEach(r=>this._markSelected(r)),e.filter(r=>!t.has(this._getConcreteValue(r,t))).forEach(r=>this._unmarkSelected(r));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let t of e)if(this.compareWith(i,t))return t;return i}else return i}};var la=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me]})}return n})();var Hs=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[uo,me,la]})}return n})();var xu=["trigger"],wu=["panel"],Pu=[[["mat-select-trigger"]],"*"],Ou=["mat-select-trigger","*"];function Su(n,i){if(n&1&&(s(0,"span",4),c(1),a()),n&2){let e=_();d(),O(e.placeholder)}}function ku(n,i){n&1&&ge(0)}function Eu(n,i){if(n&1&&(s(0,"span",11),c(1),a()),n&2){let e=_(2);d(),O(e.triggerValue)}}function Du(n,i){if(n&1&&(s(0,"span",5),f(1,ku,1,0)(2,Eu,2,1,"span",11),a()),n&2){let e=_();d(),ke(e.customTrigger?1:2)}}function Tu(n,i){if(n&1){let e=S();s(0,"div",12,1),v("keydown",function(o){y(e);let r=_();return C(r._handleKeydown(o))}),ge(2,1),a()}if(n&2){let e=_();pc("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),X("mat-select-panel-animations-enabled",!e._animationsDisabled),h("ngClass",e.panelClass),ee("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Ws=new q("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.reposition()}});function wd(n){return()=>n.scrollStrategies.reposition()}var Pd=new q("MAT_SELECT_CONFIG"),Od={provide:Ws,deps:[Ze],useFactory:wd},Sd=new q("MatSelectTrigger"),ca=class{source;value;constructor(i,e){this.source=i,this.value=e}},Ii=(()=>{class n{_viewportRuler=p(en);_changeDetectorRef=p(Ve);_elementRef=p(Q);_dir=p(ft,{optional:!0});_idGenerator=p(gt);_renderer=p(ci);_parentFormField=p(Yc,{optional:!0});ngControl=p(Vc,{self:!0,optional:!0});_liveAnnouncer=p(Tr);_defaultOptions=p(Pd,{optional:!0});_animationsDisabled=p(Be,{optional:!0})==="NoopAnimations";_initialized=new V;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let o=this.panel.nativeElement,r=Cd(e,this.options,this.optionGroups),l=t._getHostElement();e===0&&r===1?o.scrollTop=0:o.scrollTop=Md(l.offsetTop,l.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ca(this,e)}_scrollStrategyFactory=p(Ws);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new V;_errorStateTracker;stateChanges=new V;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(we.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ro(()=>{let e=this.options;return e?e.changes.pipe(Tt(e),Kt(()=>tt(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(Kt(()=>this.optionSelectionChanges))});openedChange=new ce;_openedStream=this.openedChange.pipe(bt(e=>e),$e(()=>{}));_closedStream=this.openedChange.pipe(bt(e=>!e),$e(()=>{}));selectionChange=new ce;valueChange=new ce;constructor(){let e=p($c),t=p(Lr,{optional:!0}),o=p(Xi,{optional:!0}),r=p(new Nn("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Gc(e,this.ngControl,o,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Jo(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Pe(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Pe(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Tt(null),Pe(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Bt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&ks(this._trackedModal,"aria-owns",t),Bc(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;ks(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{t(),clearTimeout(o),this._cleanupDetach=void 0};let e=this.panel.nativeElement,t=this._renderer.listen(e,"animationend",r=>{r.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),o=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,o=t===40||t===38||t===37||t===39,r=t===13||t===32,l=this._keyManager;if(!l.isTyping()&&r&&!xt(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){let m=this.selected;l.onKeydown(e);let u=this.selected;u&&m!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,o=e.keyCode,r=o===40||o===38,l=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!l&&(o===13||o===32)&&t.activeItem&&!xt(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!l&&this._multiple&&o===65&&e.ctrlKey){e.preventDefault();let m=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(m?u.select():u.deselect())})}else{let m=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==m&&t.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!xt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return(o.value!=null||this.canSelectNullableOptions)&&this._compareWith(o.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Co?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Nc(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=tt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pe(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),tt(...this.options.map(t=>t._stateChanges)).pipe(Pe(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let o=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,o)=>this.sortComparator?this.sortComparator(t,o,e):e.indexOf(t)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(o=>o.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-select"]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,Sd,5),Oe(r,ni,5),Oe(r,js,5)),t&2){let l;k(l=E())&&(o.customTrigger=l.first),k(l=E())&&(o.options=l),k(l=E())&&(o.optionGroups=l)}},viewQuery:function(t,o){if(t&1&&(Y(xu,5),Y(wu,5),Y(Jr,5)),t&2){let r;k(r=E())&&(o.trigger=r.first),k(r=E())&&(o.panel=r.first),k(r=E())&&(o._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,o){t&1&&v("keydown",function(l){return o._handleKeydown(l)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),t&2&&(ee("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),X("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",W],disableRipple:[2,"disableRipple","disableRipple",W],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Rt(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",W],placeholder:"placeholder",required:[2,"required","required",W],multiple:[2,"multiple","multiple",W],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",W],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Rt],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",W]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ze([{provide:Qc,useExisting:n},{provide:Vs,useExisting:n}]),yt],ngContentSelectors:Ou,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,o){if(t&1){let r=S();Ue(Pu),s(0,"div",2,0),v("click",function(){return y(r),C(o.open())}),s(3,"div",3),f(4,Su,2,1,"span",4)(5,Du,3,1,"span",5),a(),s(6,"div",6)(7,"div",7),zt(),s(8,"svg",8),M(9,"path",9),a()()()(),f(10,Tu,3,10,"ng-template",10),v("detach",function(){return y(r),C(o.close())})("backdropClick",function(){return y(r),C(o.close())})("overlayKeydown",function(m){return y(r),C(o._handleOverlayKeydown(m))})}if(t&2){let r=fe(1);d(3),ee("id",o._valueId),d(),ke(o.empty?4:5),d(6),h("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||r)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Co,Jr,Ht],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var kt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Od],imports:[ii,Hs,me,pn,je,Hs,me]})}return n})();var kd=n=>["/categoria",n],Iu=n=>({"border-left":n}),Ru=(n,i)=>({"tarjetas-scroll":n,"tarjetas-grid":i});function Au(n,i){if(n&1){let e=S();s(0,"a",9),v("click",function(){let o=y(e).$implicit,r=_();return C(r.filtrarPorCategoria(o))}),c(1),a()}if(n&2){let e=i.$implicit,t=_();X("activa",t.categoriaSeleccionada===e),d(),P(" ",e," ")}}function Fu(n,i){if(n&1&&(s(0,"a",19),c(1," Ver m\xE1s "),s(2,"mat-icon",20),c(3,"arrow_forward"),a()()),n&2){let e=_(2).$implicit;h("routerLink",Hi(1,kd,e))}}function Lu(n,i){if(n&1&&M(0,"app-product-card",21),n&2){let e=i.$implicit;h("producto",e)}}function Nu(n,i){if(n&1&&(D(0),s(1,"div",14)(2,"a",15),c(3),a(),f(4,Fu,4,3,"a",16),a(),s(5,"div",17),f(6,Lu,1,1,"app-product-card",18),a(),T()),n&2){let e=_().$implicit,t=_(2);d(2),h("routerLink",Hi(6,kd,e))("ngStyle",Hi(8,Iu,"6px solid "+t.getColorParaCategoria(e))),d(),P(" ",e," "),d(),h("ngIf",t.filtrarPorNombreCategoria(t.productosFiltrados,e).length>4&&!t.categoriaSeleccionada),d(),h("ngClass",uc(10,Ru,!t.categoriaSeleccionada,t.categoriaSeleccionada)),d(),h("ngForOf",t.categoriaSeleccionada?t.filtrarPorNombreCategoria(t.productosFiltrados,e):t.filtrarPorNombreCategoria(t.productosFiltrados,e).slice(0,4))}}function Bu(n,i){if(n&1&&(s(0,"div",12),f(1,Nu,7,13,"ng-container",13),a()),n&2){let e=i.$implicit,t=_(2);d(),h("ngIf",t.filtrarPorNombreCategoria(t.productosFiltrados,e).length)}}function zu(n,i){if(n&1&&(s(0,"div",10),f(1,Bu,2,1,"div",11),a()),n&2){let e=_();d(),h("ngForOf",e.categorias)}}function Vu(n,i){n&1&&(s(0,"div",22)(1,"p"),c(2,"No se encontraron productos."),a()())}var ma=class n{productos=[];productosFiltrados=[];categorias=[];terminoBusqueda="";categoriaSeleccionada="";cargando=!0;error=null;productoService=p(mt);ngOnInit(){this.cargarProductos()}cargarProductos(){this.cargando=!0,this.error=null,this.productoService.getProductos().subscribe({next:i=>{this.productos=i,this.categorias=this.extraerCategorias(i),this.productosFiltrados=[...this.productos],this.cargando=!1},error:i=>{console.error("\u274C Error cargando productos:",i),this.error="Hubo un problema al cargar los productos.",this.cargando=!1}})}extraerCategorias(i){let e=new Set;return i.forEach(t=>{let o=this.obtenerNombreCategoria(t);e.add(o)}),Array.from(e).sort()}obtenerNombreCategoria(i){return i.categoria?.nombre||"Sin categor\xEDa"}onSearch(i){this.terminoBusqueda=i.trim().toLowerCase(),this.filtrarProductos()}filtrarPorCategoria(i){this.categoriaSeleccionada=i,this.filtrarProductos()}limpiarFiltros(){this.terminoBusqueda="",this.categoriaSeleccionada="",this.filtrarProductos()}filtrarProductos(){this.productosFiltrados=this.productos.filter(i=>{let e=this.obtenerNombreCategoria(i),t=!this.categoriaSeleccionada||e===this.categoriaSeleccionada,o=!this.terminoBusqueda||i.nombre.toLowerCase().includes(this.terminoBusqueda)||i.descripcion.toLowerCase().includes(this.terminoBusqueda);return t&&o})}filtrarPorNombreCategoria(i,e){return i.filter(t=>this.obtenerNombreCategoria(t)===e)}getClaseCategoria(i){return"cat-"+i.toLowerCase().replace(/\s+/g,"-")}agregarAlCarrito(i){console.log("\u{1F6D2} Agregar al carrito:",i)}getColorParaCategoria(i){let e=0;for(let o=0;o<i.length;o++)e=i.charCodeAt(o)+((e<<5)-e);return"#"+(e&16777215).toString(16).padStart(6,"0")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-list"]],decls:12,vars:4,consts:[[1,"main-content"],[1,"filtro","sticky-filtro"],["appearance","outline",1,"busqueda"],["matInput","","placeholder","Buscar productos",3,"ngModelChange","input","ngModel"],[1,"categoria-opciones"],[3,"activa","click",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["class","productos",4,"ngIf"],["class","no-result",4,"ngIf"],[3,"click"],[1,"productos"],["class","categoria-bloque",4,"ngFor","ngForOf"],[1,"categoria-bloque"],[4,"ngIf"],[1,"categoria-header"],[1,"categoria-titulo",3,"routerLink","ngStyle"],["class","ver-mas-btn","mat-stroked-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"ngClass"],[3,"producto",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"ver-mas-btn",3,"routerLink"],[2,"margin-left","4px"],[3,"producto"],[1,"no-result"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"input",3),ne("ngModelChange",function(r){return ie(t.terminoBusqueda,r)||(t.terminoBusqueda=r),r}),v("input",function(){return t.onSearch(t.terminoBusqueda)}),a()(),s(4,"h3"),c(5,"Filtrar por categor\xEDa"),a(),s(6,"div",4),f(7,Au,2,3,"a",5),a(),s(8,"button",6),v("click",function(){return t.limpiarFiltros()}),c(9,"Limpiar filtros"),a()(),f(10,zu,2,1,"div",7)(11,Vu,3,0,"div",8),a()),e&2&&(d(3),te("ngModel",t.terminoBusqueda),d(4),h("ngForOf",t.categorias),d(3),h("ngIf",t.productosFiltrados.length>0),d(),h("ngIf",!t.productosFiltrados.length))},dependencies:[L,Ht,_e,Z,lo,Ae,Ie,Re,Ke,En,je,Fe,Le,He,kt,K,G,$,yn,oe,At],styles:[".main-content[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:1rem}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]{width:260px;background-color:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 10px #00000012;position:sticky;top:1rem;z-index:100;max-height:calc(100vh - 2rem);overflow-y:auto}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:1rem}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   .categoria-opciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;margin-bottom:1rem}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   .categoria-opciones[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#1976d2;font-weight:500;text-decoration:none}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   .categoria-opciones[_ngcontent-%COMP%]   a.activa[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   .busqueda[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{flex:1}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]{margin-bottom:3rem}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .categoria-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;flex-wrap:wrap;gap:.5rem}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .categoria-header[_ngcontent-%COMP%]   .categoria-titulo[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#000;padding:8px 16px;border-left:6px solid var(--categoria-color);border-radius:4px;text-decoration:none;background-color:transparent}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .categoria-header[_ngcontent-%COMP%]   .categoria-titulo[_ngcontent-%COMP%]:hover{text-decoration:none;color:#1565c0}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .categoria-header[_ngcontent-%COMP%]   .ver-mas-btn[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 12px;height:auto;display:flex;align-items:center;gap:4px}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]{display:flex;gap:1.2rem;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:.5rem}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]{min-width:260px;flex:0 0 auto;scroll-snap-align:start}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:4px}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1.2rem}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-grid[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{font-size:1rem;color:#999;padding:2rem}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]{position:relative;width:100%;max-height:none;box-shadow:none;border:1px solid #eee}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-grid[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   .tarjetas-scroll[_ngcontent-%COMP%]{flex-direction:column;overflow-x:visible}.main-content[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .categoria-bloque[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]{min-width:100%}}"]})};var ju=["determinateSpinner"];function Hu(n,i){if(n&1&&(zt(),s(0,"svg",11),M(1,"circle",12),a()),n&2){let e=_();ee("viewBox",e._viewBox()),d(),di("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ee("r",e._circleRadius())}}var Wu=new q("mat-progress-spinner-default-options",{providedIn:"root",factory:Uu});function Uu(){return{diameter:Ed}}var Ed=100,qu=10,Ri=(()=>{class n{_elementRef=p(Q);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=p(Be,{optional:!0}),t=p(Wu);this._noopAnimations=e==="NoopAnimations"&&!!t&&!t._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Ed;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-qu)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,o){if(t&1&&Y(ju,5),t&2){let r;k(r=E())&&(o._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,o){t&2&&(ee("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),mi("mat-"+o.color),di("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),X("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Rt],diameter:[2,"diameter","diameter",Rt],strokeWidth:[2,"strokeWidth","strokeWidth",Rt]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,o){if(t&1&&(f(0,Hu,2,8,"ng-template",null,0,qe),s(2,"div",2,1),zt(),s(4,"svg",3),M(5,"circle",4),a()(),No(),s(6,"div",5)(7,"div",6)(8,"div",7),Mt(9,8),a(),s(10,"div",9),Mt(11,8),a(),s(12,"div",10),Mt(13,8),a()()()),t&2){let r=fe(1);d(4),ee("viewBox",o._viewBox()),d(),di("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),ee("r",o._circleRadius()),d(4),h("ngTemplateOutlet",r),d(2),h("ngTemplateOutlet",r),d(2),h("ngTemplateOutlet",r)}},dependencies:[vc],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})(),Dd=Ri,nn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me]})}return n})();var Td={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Qu(n,i){if(n&1){let e=S();s(0,"div",1)(1,"button",2),v("click",function(){y(e);let o=_();return C(o.action())}),c(2),a()()}if(n&2){let e=_();d(2),P(" ",e.data.action," ")}}var Yu=["label"];function $u(n,i){}var Gu=Math.pow(2,31)-1,tr=class{_overlayRef;instance;containerInstance;_afterDismissed=new V;_afterOpened=new V;_onAction=new V;_durationTimeoutId;_dismissedByAction=!1;constructor(i,e){this._overlayRef=e,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Gu))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Id=new q("MatSnackBarData"),wo=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Ku=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),Xu=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),Zu=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),Rd=(()=>{class n{snackBarRef=p(tr);data=p(Id);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,o){t&1&&(s(0,"div",0),c(1),a(),f(2,Qu,3,1,"div",1)),t&2&&(d(),P(" ",o.data.message,`
`),d(),ke(o.hasAction?2:-1))},dependencies:[oe,Ku,Xu,Zu],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),Us="_mat-snack-bar-enter",qs="_mat-snack-bar-exit",Ju=(()=>{class n extends mn{_ngZone=p(De);_elementRef=p(Q);_changeDetectorRef=p(Ve);_platform=p(nt);_rendersRef;_animationsDisabled=p(Be,{optional:!0})==="NoopAnimations";snackBarConfig=p(wo);_document=p(Te);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new V;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new V;_onExit=new V;_onEnter=new V;_animationState="void";_live;_label;_role;_liveElementId=p(gt).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=wr(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}attachDomPortal=e=>{this._assertNotAttached();let t=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),t};onAnimationEnd(e){e===qs?this._completeExit():e===Us&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(Bt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Us)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Us)},200)))}exit(){return this._destroyed?Ne(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(Bt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(qs)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(qs),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(l=>e.classList.add(l)):e.classList.add(t)),this._exposeToModals();let o=this._label.nativeElement,r="mdc-snackbar__label";o.classList.toggle(r,!o.querySelector(`.${r}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){let r=t[o],l=r.getAttribute("aria-owns");this._trackedModals.add(r),l?l.indexOf(e)===-1&&r.setAttribute("aria-owns",l+" "+e):r.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let o=t.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,t=e.querySelector("[aria-hidden]"),o=e.querySelector("[aria-live]");if(t&&o){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),o.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,o){if(t&1&&(Y(gi,7),Y(Yu,7)),t&2){let r;k(r=E())&&(o._portalOutlet=r.first),k(r=E())&&(o._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(t,o){t&1&&v("animationend",function(l){return o.onAnimationEnd(l.animationName)})("animationcancel",function(l){return o.onAnimationEnd(l.animationName)}),t&2&&X("mat-snack-bar-container-enter",o._animationState==="visible")("mat-snack-bar-container-exit",o._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!o._animationsDisabled)},features:[he],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(s(0,"div",1)(1,"div",2,0)(3,"div",3),f(4,$u,0,0,"ng-template",4),a(),M(5,"div"),a()()),t&2&&(d(5),ee("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[gi],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function eh(){return new wo}var th=new q("mat-snack-bar-default-options",{providedIn:"root",factory:eh}),fn=(()=>{class n{_overlay=p(Ze);_live=p(Tr);_injector=p(We);_breakpointObserver=p(Ss);_parentSnackBar=p(n,{optional:!0,skipSelf:!0});_defaultConfig=p(th);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Rd;snackBarContainerComponent=Ju;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",o){let r=de(de({},this._defaultConfig),o);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let o=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=We.create({parent:o||this._injector,providers:[{provide:wo,useValue:t}]}),l=new hi(this.snackBarContainerComponent,t.viewContainerRef,r),m=e.attach(l);return m.instance.snackBarConfig=t,m.instance}_attach(e,t){let o=de(de(de({},new wo),this._defaultConfig),t),r=this._createOverlay(o),l=this._attachSnackBarContainer(r,o),m=new tr(l,r);if(e instanceof Ge){let u=new Vt(e,null,{$implicit:o.data,snackBarRef:m});m.instance=l.attachTemplatePortal(u)}else{let u=this._createInjector(o,m),g=new hi(e,void 0,u),b=l.attachComponentPortal(g);m.instance=b.instance}return this._breakpointObserver.observe(Td.HandsetPortrait).pipe(Pe(r.detachments())).subscribe(u=>{r.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(m,o),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let t=new Ti;t.direction=e.direction;let o=this._overlay.position().global(),r=e.direction==="rtl",l=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!r||e.horizontalPosition==="end"&&r,m=!l&&e.horizontalPosition!=="center";return l?o.left("0"):m?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),t.positionStrategy=o,this._overlay.create(t)}_createInjector(e,t){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return We.create({parent:o||this._injector,providers:[{provide:tr,useValue:t},{provide:Id,useValue:e.data}]})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[fn],imports:[ii,Ji,$,me,Rd,me]})}return n})();function nh(n,i){n&1&&(s(0,"div",2),M(1,"mat-spinner"),a())}function oh(n,i){if(n&1&&M(0,"app-product-card",24),n&2){let e=i.$implicit;h("producto",e)}}function rh(n,i){if(n&1){let e=S();s(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"div",6)(4,"div",7),M(5,"img",8),a(),s(6,"div",9)(7,"h1",10),c(8),a(),s(9,"p",11),c(10),a(),s(11,"p",12),c(12),a()()()(),s(13,"mat-card",13)(14,"h2",14),c(15),H(16,"number"),a(),s(17,"p",15),c(18),a(),s(19,"div",16)(20,"button",17),v("click",function(){y(e);let o=_();return C(o.decrementarCantidad())}),s(21,"mat-icon"),c(22,"remove"),a()(),s(23,"input",18),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.cantidadSeleccionada,o)||(r.cantidadSeleccionada=o),C(o)}),v("change",function(){y(e);let o=_();return C(o.validarCantidad())}),a(),s(24,"button",17),v("click",function(){y(e);let o=_();return C(o.incrementarCantidad())}),s(25,"mat-icon"),c(26,"add"),a()()(),s(27,"button",19),v("click",function(){y(e);let o=_();return C(o.agregarAlCarrito())}),s(28,"mat-icon"),c(29,"add_shopping_cart"),a(),c(30," A\xF1adir al carrito "),a(),s(31,"button",20),v("click",function(){y(e);let o=_();return C(o.comprarAhora())}),s(32,"mat-icon"),c(33,"flash_on"),a(),c(34," Comprar ahora "),a()()(),s(35,"div",21)(36,"h2"),c(37,"Productos recomendados"),a(),s(38,"div",22),f(39,oh,1,1,"app-product-card",23),a()()()}if(n&2){let e=_();d(5),ji("alt",e.producto.nombre),h("src",e.producto.imagen,xe),d(3),O(e.producto.nombre),d(2),O(e.producto.categoria.nombre),d(2),O(e.producto.descripcion),d(3),P("$ ",le(16,14,e.producto.precio,"1.0-0"),""),d(3),P("Stock disponible: ",e.producto.stock,""),d(2),h("disabled",e.cantidadSeleccionada<=12),d(3),h("max",e.producto.stock),te("ngModel",e.cantidadSeleccionada),d(),h("disabled",e.cantidadSeleccionada>=e.producto.stock),d(3),h("disabled",e.producto.stock<12),d(4),h("disabled",e.producto.stock<12),d(8),h("ngForOf",e.recomendados)}}var pa=class n{producto;cargando=!0;recomendados=[];cantidadSeleccionada=12;route=p(Wi);router=p(lt);productoService=p(mt);authService=p(Ft);snackBar=p(fn);cartService=p(Yi);breadcrumbService=p(kn);ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id");e&&(this.cargando=!0,this.productoService.getProducto(e).subscribe(t=>{this.producto=t,this.cargando=!1,t?.nombre&&this.breadcrumbService.setNombre(t.nombre),t?.categoria&&this.breadcrumbService.setCategoria(t.categoria?.nombre),this.cargarRecomendados(e)}))})}validarCantidad(){this.cantidadSeleccionada<12&&(this.cantidadSeleccionada=12),this.producto&&this.cantidadSeleccionada>this.producto.stock&&(this.cantidadSeleccionada=this.producto.stock)}incrementarCantidad(){this.producto&&this.cantidadSeleccionada<this.producto.stock&&this.cantidadSeleccionada++}decrementarCantidad(){this.cantidadSeleccionada>12&&this.cantidadSeleccionada--}agregarAlCarrito(){if(!this.authService.isLoggedIn()){this.snackBar.open("\u26A0 Debes iniciar sesi\xF3n para continuar","Cerrar",{duration:3e3,panelClass:["snackbar-warning"]}),this.router.navigate(["/login"]);return}this.cartService.agregarAlCarrito(this.producto,this.cantidadSeleccionada);let i=document.querySelector(".btn-carrito");i&&(i.classList.add("animado"),setTimeout(()=>i.classList.remove("animado"),300)),this.snackBar.open(`${this.cantidadSeleccionada} unidad(es) a\xF1adida(s) al carrito`,"Cerrar",{duration:2500,panelClass:["snackbar-success"]})}comprarAhora(){if(!this.authService.isLoggedIn()){this.snackBar.open("\u26A0 Debes iniciar sesi\xF3n para continuar","Cerrar",{duration:3e3,panelClass:["snackbar-warning"]}),this.router.navigate(["/login"]);return}this.cartService.agregarAlCarrito(this.producto,this.cantidadSeleccionada),this.snackBar.open("Redirigiendo al checkout...","",{duration:2e3,panelClass:["snackbar-info"]}),this.router.navigate(["/checkout"])}cargarRecomendados(i){this.productoService.getProductos().subscribe(e=>{this.recomendados=e.filter(t=>t._id!==i).slice(0,4)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-detail"]],decls:2,vars:2,consts:[["class","cargando",4,"ngIf"],["class","detalle-wrapper",4,"ngIf"],[1,"cargando"],[1,"detalle-wrapper"],[1,"producto-detalle-horizontal"],[1,"info-contenedor"],[1,"contenido-interno"],[1,"zona-imagen"],[3,"src","alt"],[1,"zona-texto"],[1,"nombre"],[1,"categoria"],[1,"descripcion"],[1,"zona-info"],[1,"precio"],[1,"stock"],[1,"contador-cantidad"],[1,"btn-contador",3,"click","disabled"],["type","number","min","12",1,"input-cantidad",3,"ngModelChange","change","max","ngModel"],["mat-raised-button","","color","primary",1,"btn-carrito",3,"click","disabled"],["mat-stroked-button","","color","accent",1,"btn-comprar-ahora","mt-2",3,"click","disabled"],[1,"recomendados"],[1,"tarjetas"],[3,"producto",4,"ngFor","ngForOf"],[3,"producto"]],template:function(e,t){e&1&&f(0,nh,2,0,"div",0)(1,rh,40,17,"div",1),e&2&&(h("ngIf",t.cargando),d(),h("ngIf",!t.cargando&&t.producto))},dependencies:[L,_e,Z,Wt,ct,be,Se,$,oe,K,G,nn,Ri,Dn,je,Le,En,Ae,Ie,Ki,Re,Mn,jc,Ke],styles:['@charset "UTF-8";.detalle-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start;flex-wrap:wrap}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]{flex:2;padding:0;background-color:#fff;box-shadow:0 4px 10px #0000000f;border-radius:12px}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-imagen[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:0;padding:0}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;border-radius:0;margin:0}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-texto[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:1rem;padding:1.5rem 1rem 1.5rem 0}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin:0}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-texto[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{font-size:1rem;color:#666}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-texto[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]{flex:1;padding:2rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 10px #0000000f;display:flex;flex-direction:column;gap:1rem}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2e7d32}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{font-size:1rem;color:#555}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;height:38px}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#555;border:none;width:40px;height:100%;font-size:1.3rem;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease,color .2s ease}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#222}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#dfe3e6}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;background:transparent}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;height:100%;text-align:center;font-size:1rem;font-weight:500;border:none;background:transparent;outline:none;color:#333}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .btn-carrito[_ngcontent-%COMP%]{font-weight:700;padding:.7rem}.detalle-wrapper[_ngcontent-%COMP%]   .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .btn-comprar-ahora[_ngcontent-%COMP%]{font-weight:500;padding:.6rem}.detalle-wrapper[_ngcontent-%COMP%]   .recomendados[_ngcontent-%COMP%]{margin-top:2rem}.detalle-wrapper[_ngcontent-%COMP%]   .recomendados[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.detalle-wrapper[_ngcontent-%COMP%]   .recomendados[_ngcontent-%COMP%]   .tarjetas[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.2rem}  .snackbar-warning{background-color:#fbc02d;color:#000;font-weight:500}@media (max-width: 768px){.producto-detalle-horizontal[_ngcontent-%COMP%]{flex-direction:column}.producto-detalle-horizontal[_ngcontent-%COMP%]   .info-contenedor[_ngcontent-%COMP%], .producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]{width:100%}.producto-detalle-horizontal[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]{flex-direction:column}.producto-detalle-horizontal[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-imagen[_ngcontent-%COMP%], .producto-detalle-horizontal[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-texto[_ngcontent-%COMP%]{width:100%}.producto-detalle-horizontal[_ngcontent-%COMP%]   .contenido-interno[_ngcontent-%COMP%]   .zona-imagen[_ngcontent-%COMP%]{justify-content:center}.producto-detalle-horizontal[_ngcontent-%COMP%]   .zona-info[_ngcontent-%COMP%]   .contador-cantidad[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};function ah(n,i){n&1&&(s(0,"div",5),M(1,"mat-spinner",6),a())}function sh(n,i){if(n&1&&M(0,"app-product-card",9),n&2){let e=i.$implicit;h("producto",e)}}function lh(n,i){if(n&1&&(s(0,"div",7),f(1,sh,1,1,"app-product-card",8),a()),n&2){let e=_();d(),h("ngForOf",e.productosFiltrados)}}function ch(n,i){n&1&&(s(0,"div",10)(1,"mat-icon"),c(2,"sentiment_dissatisfied"),a(),s(3,"p"),c(4,"No se encontraron productos en esta categor\xEDa."),a()())}var ua=class n{productosFiltrados=[];categoriaUrl="";cargando=!0;route=p(Wi);productoService=p(mt);breadcrumbService=p(kn);ngOnInit(){this.categoriaUrl=this.route.snapshot.paramMap.get("nombre")||"";let i=this.categoriaUrl.charAt(0).toUpperCase()+this.categoriaUrl.slice(1);this.breadcrumbService.setNombre(i),this.productoService.getProductos().subscribe(e=>{this.productosFiltrados=e.filter(t=>(typeof t.categoria=="string"?t.categoria:t.categoria?.nombre)?.toLowerCase()===this.categoriaUrl.toLowerCase()),this.cargando=!1,console.log("\u{1F9E0} Productos filtrados por categor\xEDa:",this.productosFiltrados)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-category"]],decls:7,vars:6,consts:[[1,"category-container"],[1,"category-title"],["class","spinner-container",4,"ngIf"],["class","products-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"spinner-container"],["diameter","40"],[1,"products-grid"],[3,"producto",4,"ngFor","ngForOf"],[3,"producto"],[1,"no-results"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2",1),c(2),H(3,"titlecase"),a(),f(4,ah,2,0,"div",2)(5,lh,2,1,"div",3)(6,ch,5,0,"div",4),a()),e&2&&(d(2),P("Categor\xEDa: ",Xt(3,4,t.categoriaUrl),""),d(2),h("ngIf",t.cargando),d(),h("ngIf",!t.cargando&&t.productosFiltrados.length>0),d(),h("ngIf",!t.cargando&&t.productosFiltrados.length===0))},dependencies:[L,_e,Z,pi,En,K,G,nn,Ri],styles:[".category-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;gap:1.5rem;background-color:#fff;min-height:100vh}.category-container[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#333;border-left:4px solid #3f51b5;padding-left:1rem;margin-bottom:1rem}.category-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.category-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1.5rem}.category-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;color:#777;font-size:1.1rem;display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-top:2rem}.category-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;color:#9e9e9e}"]})};var re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),bi="*";function Ai(n,i){return{type:re.Trigger,name:n,definitions:i,options:{}}}function ri(n,i=null){return{type:re.Animate,styles:i,timings:n}}function Ad(n,i=null){return{type:re.Sequence,steps:n,options:i}}function st(n){return{type:re.Style,styles:n,offset:null}}function ai(n,i,e=null){return{type:re.Transition,expr:n,animation:i,options:e}}function Qs(n,i,e=null){return{type:re.Query,selector:n,animation:i,options:e}}function Ys(n,i){return{type:re.Stagger,timings:n,animation:i}}var on=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},Wn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,t=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==r&&this._onFinish()}),l.onDestroy(()=>{++t==r&&this._onDestroy()}),l.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((l,m)=>Math.max(l,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(t=>{let o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){let i=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},Po="!";function dh(n,i){if(n&1){let e=S();s(0,"div",7)(1,"div",8),M(2,"img",9),a(),s(3,"div",10)(4,"div",11),c(5),a(),s(6,"div",12),c(7),H(8,"number"),a(),s(9,"div",13)(10,"label"),c(11,"Cantidad:"),a(),s(12,"input",14),ne("ngModelChange",function(o){let r=y(e).$implicit;return ie(r.cantidad,o)||(r.cantidad=o),C(o)}),v("ngModelChange",function(){let o=y(e).$implicit,r=_(2);return C(r.actualizarCantidad(o,o.cantidad))}),a()()(),s(13,"div",15)(14,"div",16),c(15),H(16,"number"),a(),s(17,"button",17),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.eliminarProducto(o.producto._id))}),s(18,"mat-icon"),c(19,"delete"),a()()()()}if(n&2){let e=i.$implicit;d(2),ji("alt",e.producto.nombre),h("src",e.producto.imagen,xe),d(3),O(e.producto.nombre),d(2),P("Precio unitario: $",le(8,6,e.producto.precio,"1.0-0"),""),d(5),te("ngModel",e.cantidad),d(3),P("Subtotal: $",le(16,9,e.producto.precio*e.cantidad,"1.0-0"),"")}}function mh(n,i){if(n&1&&(s(0,"div",5),f(1,dh,20,12,"div",6),a()),n&2){let e=_();d(),h("ngForOf",e.carrito)}}function ph(n,i){if(n&1){let e=S();s(0,"div",18)(1,"div",19),c(2),H(3,"number"),a(),s(4,"div",20)(5,"button",21),v("click",function(){y(e);let o=_();return C(o.vaciarCarrito())}),s(6,"mat-icon"),c(7,"delete_sweep"),a(),c(8," Vaciar carrito "),a(),s(9,"button",22),v("click",function(){y(e);let o=_();return C(o.irACheckout())}),s(10,"mat-icon"),c(11,"shopping_bag"),a(),c(12," Finalizar compra "),a()()()}if(n&2){let e=_();d(2),P("Total: $",le(3,1,e.total(),"1.0-0"),"")}}function uh(n,i){n&1&&(s(0,"div",23)(1,"mat-icon"),c(2,"remove_shopping_cart"),a(),s(3,"p"),c(4,"Tu carrito est\xE1 vac\xEDo"),a(),s(5,"button",24)(6,"mat-icon"),c(7,"storefront"),a(),c(8," Seguir comprando "),a()())}var ha=class n{carrito=[];cartService=p(Yi);router=p(lt);ngOnInit(){this.carrito=this.cartService.obtenerCarrito()}actualizarCantidad(i,e){e<1||(i.cantidad=e,this.cartService.agregarAlCarrito(i.producto,0),this.carrito=this.cartService.obtenerCarrito())}eliminarProducto(i){this.cartService.eliminarDelCarrito(i),this.carrito=this.cartService.obtenerCarrito()}vaciarCarrito(){this.cartService.vaciarCarrito(),this.carrito=[]}total(){return this.cartService.obtenerTotal()}irACheckout(){this.router.navigate(["/checkout"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-cart"]],decls:7,vars:3,consts:[["vacio",""],[1,"carrito-container"],[1,"titulo"],["class","carrito-lista",4,"ngIf","ngIfElse"],["class","total-container",4,"ngIf"],[1,"carrito-lista"],["class","item-card",4,"ngFor","ngForOf"],[1,"item-card"],[1,"imagen"],[3,"src","alt"],[1,"info"],[1,"nombre"],[1,"precio-unitario"],[1,"cantidad-input"],["type","number","min","1",3,"ngModelChange","ngModel"],[1,"acciones"],[1,"subtotal"],["mat-icon-button","","color","warn",3,"click"],[1,"total-container"],[1,"resumen-total"],[1,"acciones-finales"],["mat-raised-button","",1,"btn-vaciar",3,"click"],["mat-raised-button","",1,"btn-checkout",3,"click"],[1,"carrito-vacio"],["mat-raised-button","","color","primary","routerLink","/productos"]],template:function(e,t){if(e&1&&(s(0,"div",1)(1,"h2",2),c(2,"Tu carrito de compras"),a(),f(3,mh,2,1,"div",3)(4,ph,13,4,"div",4)(5,uh,9,0,"ng-template",null,0,qe),a()),e&2){let o=fe(6);d(3),h("ngIf",t.carrito.length>0)("ngIfElse",o),d(),h("ngIf",t.carrito.length>0)}},dependencies:[L,_e,Z,Wt,ct,At,Ae,Ie,Ki,Re,Mn,Ke,be,$,oe,dt,K,G],styles:[".carrito-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f9fafc;display:flex;flex-direction:column;gap:2rem;min-height:80vh}.carrito-container[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a1a1a;border-left:4px solid #3f51b5;padding-left:1rem}.carrito-container[_ngcontent-%COMP%]   .carrito-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]{display:flex;gap:1.5rem;background:#fff;border-radius:12px;padding:1rem;box-shadow:0 8px 20px #0000000a;align-items:center;transition:box-shadow .3s ease}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 24px #0000000f}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:8px;overflow:hidden;flex-shrink:0;display:flex;align-items:center;justify-content:center;background-color:#f0f0f0}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.4rem}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem;color:#222}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .precio-unitario[_ngcontent-%COMP%]{color:#888;font-size:.9rem}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;align-items:center;gap:.5rem}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px;padding:.3rem;border:1px solid #ccc;border-radius:6px}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#3f51b5}.carrito-container[_ngcontent-%COMP%]   .item-card[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px;color:#d32f2f}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;border-top:1px solid #ddd;padding-top:1.5rem}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .resumen-total[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#1a1a1a}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]{display:flex;gap:1rem}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px;font-weight:600;border-radius:8px}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]   .btn-vaciar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]   .btn-vaciar[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]   .btn-checkout[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.carrito-container[_ngcontent-%COMP%]   .total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]   .btn-checkout[_ngcontent-%COMP%]:hover{background-color:#303f9f}.carrito-container[_ngcontent-%COMP%]   .carrito-vacio[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:3rem;gap:1rem}.carrito-container[_ngcontent-%COMP%]   .carrito-vacio[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;color:#b0bec5}.carrito-container[_ngcontent-%COMP%]   .carrito-vacio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.carrito-container[_ngcontent-%COMP%]   .carrito-vacio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 768px){.item-card[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.item-card[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{align-self:center}.item-card[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;margin-top:.5rem}.total-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.total-container[_ngcontent-%COMP%]   .acciones-finales[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;flex-wrap:wrap}}"],data:{animation:[Ai("fadeSlide",[ai(":enter",[st({opacity:0,transform:"translateY(20px)"}),ri("300ms ease-out",st({opacity:1,transform:"translateY(0)"}))]),ai(":leave",[ri("200ms ease-in",st({opacity:0,transform:"translateY(20px)"}))])])]}})};var pt=class n{constructor(i,e){this.http=i;this.authService=e}apiUrl="http://localhost:5000/api/ordenes";getAuthHeaders(){let i=this.authService.getToken();return new ei({Authorization:`Bearer ${i}`})}crearPedido(i){return this.http.post(`${this.apiUrl}`,i,{headers:this.getAuthHeaders().set("Content-Type","application/json")})}subirComprobante(i,e){let t=new FormData;return t.append("comprobante",e),this.http.put(`${this.apiUrl}/${i}/comprobante`,t,{headers:this.getAuthHeaders()})}obtenerPedidos(){return this.http.get(this.apiUrl,{headers:this.getAuthHeaders()})}getPedidosPorCliente(i){return this.http.get(`${this.apiUrl}/cliente/${i}`,{headers:this.getAuthHeaders()})}getMisPedidos(){return this.http.get(`${this.apiUrl}/mis`,{headers:this.getAuthHeaders()})}getPedidosVendedor(){return this.http.get(`${this.apiUrl}/mis-vendidos`,{headers:this.getAuthHeaders()})}getPedidosPorVendedorAdmin(i){return this.http.get(`${this.apiUrl}/vendedor/${i}`,{headers:this.getAuthHeaders()})}actualizarEstadoPedido(i,e){return this.http.put(`${this.apiUrl}/${i}/estado`,{estado:e},{headers:this.getAuthHeaders().set("Content-Type","application/json")})}actualizarEstadoComprobante(i,e){return this.http.put(`${this.apiUrl}/${i}/estado-comprobante`,{estado:e},{headers:this.getAuthHeaders().set("Content-Type","application/json")})}confirmarPedido(i){return this.http.put(`${this.apiUrl}/${i}/confirmar`,{},{headers:this.getAuthHeaders().set("Content-Type","application/json")})}actualizarPedidoCompleto(i,e){return this.http.put(`${this.apiUrl}/${i}`,e,{headers:this.getAuthHeaders().set("Content-Type","application/json")})}eliminarPedido(i){return this.http.delete(`${this.apiUrl}/${i}`,{headers:this.getAuthHeaders()})}static \u0275fac=function(e){return new(e||n)(vt(it),vt(Ft))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};function hh(n,i){if(n&1&&(s(0,"div",15),M(1,"img",16),s(2,"div",17)(3,"strong"),c(4),a(),s(5,"small"),c(6),H(7,"number"),a()()()),n&2){let e=i.$implicit;d(),h("src",e.producto.imagen,xe),d(3),O(e.producto.nombre),d(2),Pr("",e.cantidad," x $",le(7,4,e.producto.precio,"1.0-0"),"")}}var ga=class n{nombre="";email="";telefono="";ciudad="";direccion="";indicaciones="";carrito=[];total=0;modoExcedente=!1;cartService=p(Yi);router=p(lt);snackBar=p(fn);orderService=p(pt);ngOnInit(){let i=localStorage.getItem("checkoutData");if(i)try{let e=JSON.parse(i);if(e.modo==="excedente"&&e.pedidoId&&e.total>0){this.modoExcedente=!0,console.log("\u{1F4A1} Reanudando flujo excedente..."),this.router.navigate(["/pago"],{state:{modo:"excedente",pedidoId:e.pedidoId,total:e.total}});return}else localStorage.removeItem("checkoutData")}catch(e){console.warn("\u26A0\uFE0F Error al leer checkoutData:",e),localStorage.removeItem("checkoutData")}this.carrito=this.cartService.obtenerCarrito(),this.total=this.cartService.obtenerTotal()}procesarPago(){if(this.modoExcedente){let e=JSON.parse(localStorage.getItem("checkoutData"));this.router.navigate(["/pago"],{state:{modo:"excedente",pedidoId:e.pedidoId,total:e.total}});return}if(!this.validarCampos())return;let i={total:this.total,nombre:this.nombre,email:this.email,telefono:this.telefono,ciudad:this.ciudad,direccion:this.direccion,indicaciones:this.indicaciones,productos:this.carrito,modo:"normal"};localStorage.setItem("checkoutData",JSON.stringify(i)),this.mostrarSnack("\u2705 Datos guardados. Contin\xFAa al pago.","success"),this.router.navigate(["/pago"])}validarCampos(){return!this.nombre.trim()||!this.email.trim()||!this.telefono.trim()||!this.ciudad.trim()||!this.direccion.trim()?(this.mostrarSnack("\u26A0\uFE0F Todos los campos obligatorios deben estar llenos","warning"),!1):/^[a-zA-Z0-9\s#\-\.]{5,}$/.test(this.direccion.trim())?/^[0-9]{7,12}$/.test(this.telefono.trim())?!0:(this.mostrarSnack("\u{1F4DE} Ingresa un n\xFAmero de tel\xE9fono v\xE1lido","warning"),!1):(this.mostrarSnack("\u{1F4CD} Ingresa una direcci\xF3n v\xE1lida","warning"),!1)}mostrarSnack(i,e){this.snackBar.open(i,"Cerrar",{duration:3e3,panelClass:[`snackbar-${e}`]})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-checkout"]],decls:45,vars:12,consts:[[1,"checkout-wrapper"],[1,"checkout-container"],[1,"checkout-card"],["appearance","outline",1,"full-width"],["matInput","","name","nombre","required","",3,"ngModelChange","ngModel"],["matInput","","name","email","type","email","required","",3,"ngModelChange","ngModel"],["matInput","","type","tel","pattern","[0-9]*","inputmode","numeric","maxlength","10","name","telefono","placeholder","Ej: 3001234567","required","",3,"ngModelChange","ngModel"],["matInput","","name","ciudad","required","",3,"ngModelChange","ngModel"],["matInput","","name","direccion","required","",3,"ngModelChange","ngModel"],["matInput","","rows","3","name","indicaciones",3,"ngModelChange","ngModel"],[1,"nota-informativa"],[1,"resumen"],["mat-raised-button","","color","primary",1,"btn-pago",3,"click"],[1,"resumen-carrito"],["class","producto",4,"ngFor","ngForOf"],[1,"producto"],["alt","img",3,"src"],[1,"detalle"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"h2"),c(4,"Informaci\xF3n de env\xEDo"),a(),s(5,"mat-form-field",3)(6,"mat-label"),c(7,"Nombre completo"),a(),s(8,"input",4),ne("ngModelChange",function(r){return ie(t.nombre,r)||(t.nombre=r),r}),a()(),s(9,"mat-form-field",3)(10,"mat-label"),c(11,"Correo electr\xF3nico"),a(),s(12,"input",5),ne("ngModelChange",function(r){return ie(t.email,r)||(t.email=r),r}),a()(),s(13,"mat-form-field",3)(14,"mat-label"),c(15,"Tel\xE9fono"),a(),s(16,"input",6),ne("ngModelChange",function(r){return ie(t.telefono,r)||(t.telefono=r),r}),a()(),s(17,"mat-form-field",3)(18,"mat-label"),c(19,"Ciudad"),a(),s(20,"input",7),ne("ngModelChange",function(r){return ie(t.ciudad,r)||(t.ciudad=r),r}),a()(),s(21,"mat-form-field",3)(22,"mat-label"),c(23,"Direcci\xF3n de env\xEDo"),a(),s(24,"input",8),ne("ngModelChange",function(r){return ie(t.direccion,r)||(t.direccion=r),r}),a()(),s(25,"mat-form-field",3)(26,"mat-label"),c(27,"Indicaciones adicionales (opcional)"),a(),s(28,"textarea",9),ne("ngModelChange",function(r){return ie(t.indicaciones,r)||(t.indicaciones=r),r}),a()(),s(29,"p",10),c(30," \u{1F4A1} El pago se realiza escaneando el c\xF3digo QR de Nequi al finalizar el pedido. "),a(),s(31,"div",11)(32,"p"),c(33,"Total a pagar:"),a(),s(34,"h3"),c(35),H(36,"number"),a()(),s(37,"button",12),v("click",function(){return t.procesarPago()}),s(38,"mat-icon"),c(39,"payment"),a(),c(40," Continuar con el pago "),a()(),s(41,"mat-card",13)(42,"h3"),c(43,"\u{1F6D2} Tu pedido"),a(),f(44,hh,8,7,"div",14),a()()()),e&2&&(h("@fadeIn",void 0),d(8),te("ngModel",t.nombre),d(4),te("ngModel",t.email),d(4),te("ngModel",t.telefono),d(4),te("ngModel",t.ciudad),d(4),te("ngModel",t.direccion),d(4),te("ngModel",t.indicaciones),d(7),P("$ ",le(36,9,t.total,"1.0-0"),""),d(9),h("ngForOf",t.carrito))},dependencies:[L,_e,Wt,Ae,Ie,Re,xn,Hc,Vr,Ke,ct,be,Se,$,oe,je,Fe,Xe,Le,He,K,G,Dn],styles:[".checkout-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#f9fafc;min-height:100vh;animation:_ngcontent-%COMP%_fadeIn .5s ease}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-container[_ngcontent-%COMP%]{display:flex;gap:2rem;max-width:1200px;width:100%;align-items:flex-start;flex-wrap:wrap}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{flex:1;min-width:300px;padding:2rem;border-radius:16px;box-shadow:0 4px 20px #00000014;background-color:#fff;display:flex;flex-direction:column;gap:1.25rem}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin-bottom:1rem;color:#333}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .resumen[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;border:1px dashed #ccc;border-radius:8px;background-color:#f4f6f8}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .resumen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:500;color:#666}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .resumen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;color:#2e7d32}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .btn-pago[_ngcontent-%COMP%]{align-self:flex-end;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border-radius:8px;display:flex;align-items:center;gap:.5rem}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .btn-pago[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]{width:320px;background-color:#fff;padding:1.5rem;border-radius:16px;box-shadow:0 4px 20px #00000014}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1.4rem;font-weight:600;margin-bottom:1rem}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;align-items:center}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px;object-fit:cover;border-radius:8px;border:1px solid #ddd}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#333}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666}.nota-informativa[_ngcontent-%COMP%]{font-size:.9rem;color:#5a5a5a;margin-top:-.5rem;background-color:#f3f4f6;padding:.75rem;border-left:4px solid #2196f3;border-radius:4px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.checkout-wrapper[_ngcontent-%COMP%]{padding:1rem}.checkout-wrapper[_ngcontent-%COMP%]   .checkout-container[_ngcontent-%COMP%]{flex-direction:column}.checkout-wrapper[_ngcontent-%COMP%]   .resumen-carrito[_ngcontent-%COMP%]{width:100%;margin-top:1rem}}"],data:{animation:[Ai("fadeIn",[ai(":enter",[st({opacity:0,transform:"translateY(15px)"}),ri("300ms ease-out",st({opacity:1,transform:"translateY(0)"}))])])]}})};function gh(n,i){if(n&1&&(s(0,"p")(1,"strong"),c(2,"Indicaciones:"),a(),c(3),a()),n&2){let e=_();d(3),P(" ",e.indicaciones,"")}}function fh(n,i){if(n&1&&(s(0,"div",17)(1,"div",18)(2,"strong"),c(3),a(),s(4,"span"),c(5),a()(),s(6,"span",19),c(7),H(8,"number"),a()()),n&2){let e=i.$implicit;d(3),O(e.nombre||(e.producto==null?null:e.producto.nombre)),d(2),P("Cantidad: ",e.cantidad,""),d(2),P("$",le(8,3,e.precio||(e.producto==null?null:e.producto.precio),"1.0-0"),"")}}var fa=class n{constructor(i,e,t,o){this.router=i;this.http=e;this.orderService=t;this.snackBar=o}total=0;numeroNequi="3001234567";qrUrl="";pedidoId="";modo="normal";direccion="";telefono="";ciudad="";nombre="";indicaciones="";productos=[];loading=!0;apiBase="http://localhost:5000/secure";ngOnInit(){try{let i=history.state;i?.modo&&(this.modo=i.modo);let e=localStorage.getItem("checkoutData");if(e){let t=JSON.parse(e);this.total=Number(t.total)||0,this.modo=t.modo??this.modo,this.productos=Array.isArray(t.productos)?t.productos:[],t.cliente?(this.nombre=t.cliente.nombre??"",this.telefono=t.cliente.telefono??"",this.ciudad=t.cliente.ciudad??"",this.direccion=t.cliente.direccion??"",this.indicaciones=t.cliente.indicaciones??""):(this.nombre=t.nombre??"",this.telefono=t.telefono??"",this.ciudad=t.ciudad??"",this.direccion=t.direccion??"",this.indicaciones=t.indicaciones??"")}console.log("\u{1F9FE} Datos cargados en Payment:",{total:this.total,modo:this.modo,nombre:this.nombre,productos:this.productos}),this.obtenerQrSeguro()}catch(i){console.error("\u274C Error en PaymentComponent:",i),this.router.navigate(["/carrito"])}}obtenerQrSeguro(){this.loading=!0,this.http.get(`${this.apiBase}/token`).subscribe({next:i=>{let e=i.token;this.qrUrl=`${this.apiBase}/qr-nequi?token=${e}`,this.loading=!1},error:i=>{console.error("\u274C Error al obtener token del QR:",i),this.qrUrl="assets/img/qr-fallback.png",this.loading=!1}})}onQrError(i){console.error("\u26A0\uFE0F Error al cargar el QR, usando respaldo"),i.target.src="assets/img/qr-fallback.png"}volverAlCarrito(){this.snackBar.open("Compra cancelada. No se gener\xF3 ning\xFAn pedido.","Cerrar",{duration:3e3,panelClass:["snackbar-warning"]}),localStorage.removeItem("checkoutData"),this.router.navigate(["/carrito"])}continuar(){if(this.total<=0||!this.productos.length){this.snackBar.open("\u274C Datos del pedido inv\xE1lidos","Cerrar",{duration:3e3,panelClass:["snackbar-error"]}),this.router.navigate(["/carrito"]);return}if(!this.nombre||!this.telefono||!this.ciudad||!this.direccion){this.snackBar.open("\u274C Faltan datos del comprador.","Cerrar",{duration:3e3,panelClass:["snackbar-error"]});return}let i=this.productos.map(t=>{let o=t._id||t.producto?._id||t.producto||null;return o?{producto:o,cantidad:t.cantidad??1}:null}).filter(t=>!!t);if(!i.length){this.snackBar.open("\u274C No se encontraron productos v\xE1lidos en el pedido","Cerrar",{duration:3e3,panelClass:["snackbar-error"]});return}let e={productos:i,total:this.total,metodoPago:"Nequi",nombre:this.nombre,telefono:this.telefono,ciudad:this.ciudad,direccion:this.direccion,indicaciones:this.indicaciones};console.log("\u{1F4E6} Pedido a enviar:",e),this.orderService.crearPedido(e).subscribe({next:t=>{let o=t.pedido?._id||"";if(!o){this.snackBar.open("\u274C No se pudo obtener el ID del pedido","Cerrar",{duration:3e3,panelClass:["snackbar-error"]});return}console.log("\u2705 Pedido creado con \xE9xito:",o),localStorage.setItem("ordenId",o),this.router.navigate(["/subir-recibo"],{state:{ordenId:o,modo:this.modo,total:this.total,direccion:this.direccion,telefono:this.telefono,ciudad:this.ciudad,productos:this.productos}})},error:t=>{console.error("\u274C Error al crear pedido:",t);let o=t.error?.mensaje||"Error al crear el pedido. Int\xE9ntalo de nuevo.";this.snackBar.open(o,"Cerrar",{duration:3e3,panelClass:["snackbar-error"]})}})}static \u0275fac=function(e){return new(e||n)(z(lt),z(it),z(pt),z(fn))};static \u0275cmp=x({type:n,selectors:[["app-payment"]],decls:47,vars:12,consts:[[1,"payment-container"],[1,"payment-card"],[1,"title"],[1,"buyer-info"],[4,"ngIf"],[1,"productos-section"],["class","producto",4,"ngFor","ngForOf"],[1,"nequi-section"],[1,"nequi-number"],[1,"nequi-description"],[1,"qr-container"],["alt","QR Nequi",1,"qr-image",3,"error","src"],[1,"total"],[1,"amount"],[1,"actions"],["mat-stroked-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"producto"],[1,"producto-info"],[1,"precio"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"mat-card",1)(2,"h2",2),c(3,"Pago con Nequi"),a(),s(4,"div",3)(5,"p")(6,"strong"),c(7,"Nombre:"),a(),c(8),a(),s(9,"p")(10,"strong"),c(11,"Tel\xE9fono:"),a(),c(12),a(),s(13,"p")(14,"strong"),c(15,"Ciudad:"),a(),c(16),a(),s(17,"p")(18,"strong"),c(19,"Direcci\xF3n:"),a(),c(20),a(),f(21,gh,4,1,"p",4),a(),M(22,"mat-divider"),s(23,"div",5)(24,"h3"),c(25,"Productos"),a(),f(26,fh,9,6,"div",6),a(),M(27,"mat-divider"),s(28,"div",7)(29,"p",8),c(30),a(),s(31,"p",9),c(32," Escanea el c\xF3digo QR o transfiere el valor exacto a este n\xFAmero desde tu cuenta Nequi. "),a(),s(33,"div",10)(34,"img",11),v("error",function(r){return t.onQrError(r)}),a()()(),M(35,"mat-divider"),s(36,"div",12)(37,"p"),c(38,"Total a pagar:"),a(),s(39,"span",13),c(40),H(41,"number"),a()(),s(42,"div",14)(43,"button",15),v("click",function(){return t.volverAlCarrito()}),c(44,"Cancelar"),a(),s(45,"button",16),v("click",function(){return t.continuar()}),c(46,"Subir Comprobante"),a()()()()),e&2&&(d(8),P(" ",t.nombre,""),d(4),P(" ",t.telefono,""),d(4),P(" ",t.ciudad,""),d(4),P(" ",t.direccion,""),d(),h("ngIf",t.indicaciones),d(5),h("ngForOf",t.productos),d(4),P("\u{1F4F1} ",t.numeroNequi,""),d(4),h("src",t.qrUrl,xe),d(6),P("$",le(41,9,t.total,"1.0-0"),""))},dependencies:[L,_e,Z,Wt,ct,kr,be,Se,$,oe,tn,xo,Dn],styles:[".payment-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f4f6f9;padding:1rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#fff;padding:1.2rem 1.5rem;border-radius:14px;box-shadow:0 3px 14px #00000014;display:flex;flex-direction:column;gap:1rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:600;color:#333;margin-bottom:.3rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;text-align:center}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]   .nequi-info[_ngcontent-%COMP%]   .nequi-number[_ngcontent-%COMP%]{font-weight:600;color:#99005e;font-size:1rem;margin-bottom:.3rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]   .nequi-info[_ngcontent-%COMP%]   .nequi-description[_ngcontent-%COMP%]{font-size:.85rem;color:#555;margin-bottom:.3rem;line-height:1.3}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]   .qr-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#1a001a;padding:.8rem;border-radius:10px}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]   .qr-container[_ngcontent-%COMP%]   .qr-image[_ngcontent-%COMP%]{width:auto;height:70vh;border-radius:6px;transition:transform .3s ease}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .nequi-section[_ngcontent-%COMP%]   .qr-container[_ngcontent-%COMP%]   .qr-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:.3rem 0}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#333;margin-top:.3rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{display:block;font-weight:700;color:#2e7d32;font-size:1.1rem;margin-top:.2rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.6rem;margin-top:.6rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.6rem .8rem;font-size:.9rem;border-radius:8px;transition:all .2s ease}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}@media (max-width: 768px){.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]{max-width:340px;padding:1rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .qr-image[_ngcontent-%COMP%]{width:100px;height:100px}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.3rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:.85rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1rem}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex-direction:column}.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.payment-container[_ngcontent-%COMP%]   .payment-card[_ngcontent-%COMP%]{max-width:320px;padding:.8rem}}"]})};function _h(n,i){if(n&1&&(s(0,"span",15),c(1),a()),n&2){let e=_(2);d(),P("\u{1F4C1} ",e.nombreArchivo,"")}}function bh(n,i){if(n&1&&M(0,"img",16),n&2){let e=_(2);h("src",e.vistaPrevia,xe)}}function vh(n,i){if(n&1){let e=S();s(0,"mat-card",3)(1,"h2",4),c(2,"Subir Comprobante"),a(),s(3,"form",5),v("ngSubmit",function(){y(e);let o=_();return C(o.enviar())}),s(4,"mat-form-field",6)(5,"mat-label"),c(6,"Nombre del titular"),a(),s(7,"input",7),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nombreTitular,o)||(r.nombreTitular=o),C(o)}),a()(),s(8,"mat-form-field",6)(9,"mat-label"),c(10,"Referencia de pago"),a(),s(11,"input",8),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.referenciaPago,o)||(r.referenciaPago=o),C(o)}),a()(),s(12,"div",9)(13,"button",10),v("click",function(){y(e);let o=fe(16);return C(o.click())}),c(14," \u{1F4CE} Seleccionar comprobante "),a(),s(15,"input",11,0),v("change",function(o){y(e);let r=_();return C(r.subirArchivo(o))}),a(),f(17,_h,2,1,"span",12),a(),f(18,bh,1,1,"img",13),s(19,"button",14),c(20," \u2705 Enviar comprobante "),a()()()}if(n&2){let e=_();d(7),te("ngModel",e.nombreTitular),d(4),te("ngModel",e.referenciaPago),d(6),h("ngIf",e.nombreArchivo),d(),h("ngIf",e.vistaPrevia)}}function yh(n,i){n&1&&(s(0,"mat-card",17)(1,"p"),c(2,"\u23F3 Subiendo comprobante, por favor espera..."),a()())}var _a=class n{archivo=null;vistaPrevia=null;cargando=!1;nombreArchivo="";nombreTitular="";referenciaPago="";ordenId="";router=p(lt);http=p(it);snackBar=p(fn);cartService=p(Yi);authService=p(Ft);ngOnInit(){let i=history.state;i&&i.ordenId?this.ordenId=i.ordenId:(this.snackBar.open("\u274C ID de orden no encontrado","Cerrar",{duration:3e3}),this.router.navigate(["/carrito"]))}subirArchivo(i){let e=i.target;if(e.files&&e.files[0]){this.archivo=e.files[0],this.nombreArchivo=this.archivo.name;let t=new FileReader;t.onload=()=>{this.vistaPrevia=t.result},t.readAsDataURL(this.archivo)}}enviar(){if(!this.archivo||!this.nombreTitular.trim()||!this.referenciaPago.trim()){this.snackBar.open("\u26A0\uFE0F Todos los campos son obligatorios","Cerrar",{duration:3e3});return}if(!this.ordenId){this.snackBar.open("\u274C ID de orden no encontrado","Cerrar",{duration:3e3});return}let i=new FormData;i.append("comprobante",this.archivo),i.append("nombreTitular",this.nombreTitular),i.append("referenciaPago",this.referenciaPago);let e=this.authService.getToken(),t=new ei().set("Authorization",`Bearer ${e}`);this.cargando=!0,this.http.put(`http://localhost:5000/api/ordenes/${this.ordenId}/comprobante`,i,{headers:t}).subscribe({next:()=>{this.snackBar.open("\u2705 Comprobante subido correctamente","Cerrar",{duration:3e3}),this.cartService.vaciarCarrito(),this.authService.getUser()?.rol==="vendedor"?this.router.navigate(["/vendedor/pedidos-en-espera"]):this.router.navigate(["/cliente/mis-pedidos"])},error:o=>{console.error(o),this.snackBar.open("\u274C Error al subir comprobante","Cerrar",{duration:3e3}),this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-receipt-form"]],decls:2,vars:2,consts:[["fileInput",""],["class","form-card",4,"ngIf"],["class","loading-card",4,"ngIf"],[1,"form-card"],[1,"form-title"],[1,"form-content",3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","name","nombreTitular","required","","placeholder","Ej: Juan P\xE9rez",3,"ngModelChange","ngModel"],["matInput","","name","referenciaPago","required","","placeholder","Ej: 987654321",3,"ngModelChange","ngModel"],[1,"upload-section"],["mat-flat-button","","color","primary","type","button",3,"click"],["type","file","accept","image/*,application/pdf","hidden","",3,"change"],["class","file-name",4,"ngIf"],["class","vista-previa",3,"src",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",1,"submit-button"],[1,"file-name"],[1,"vista-previa",3,"src"],[1,"loading-card"]],template:function(e,t){e&1&&f(0,vh,21,4,"mat-card",1)(1,yh,3,0,"mat-card",2),e&2&&(h("ngIf",!t.cargando),d(),h("ngIf",t.cargando))},dependencies:[L,Z,Ae,Gi,Ie,Re,$i,xn,Ke,Lr,ct,be,Se,$,oe,Le,He,Fe,Xe,Dn],styles:[".form-card[_ngcontent-%COMP%]{max-width:500px;margin:3rem auto;padding:2rem;border-radius:12px;box-shadow:0 6px 24px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%}.upload-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:1rem 0;flex-wrap:wrap}.vista-previa[_ngcontent-%COMP%]{width:100%;max-height:280px;object-fit:contain;margin-top:1rem;border:1px dashed #ccc;border-radius:8px;transition:all .3s ease-in-out}.submit-button[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%}.loading-card[_ngcontent-%COMP%]{max-width:400px;margin:3rem auto;padding:2rem;text-align:center}"],data:{animation:[Ai("fadeInUp",[ai(":enter",[Qs("*",[st({opacity:0,transform:"translateY(20px)"}),Ys(100,[ri("400ms ease-out",st({opacity:1,transform:"translateY(0)"}))])])])])]}})};var Ch=["*"],Mh=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,xh=["unscopedContent"],wh=["text"],Ph=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Oh=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Sh=new q("ListOption"),kh=(()=>{class n{_elementRef=p(Q);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),Eh=(()=>{class n{_elementRef=p(Q);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),Dh=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),Fd=(()=>{class n{_listOption=p(Sh,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,hostVars:4,hostBindings:function(t,o){t&2&&X("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())}})}return n})(),Th=(()=>{class n extends Fd{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[he]})}return n})(),Ih=(()=>{class n extends Fd{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[he]})}return n})(),Rh=new q("MAT_LIST_CONFIG"),Gs=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ui(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ui(e)}_disabled=!1;_defaultOptions=p(Rh,{optional:!0});static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,hostVars:1,hostBindings:function(t,o){t&2&&ee("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Ah=(()=>{class n{_elementRef=p(Q);_ngZone=p(De);_listBase=p(Gs,{optional:!0});_platform=p(nt);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=cn(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ui(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=ui(e)}_disabled=!1;_subscriptions=new et;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){p(ti).load(Qi);let e=p(Ds,{optional:!0}),t=p(Be,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=t==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new zc(this,this._ngZone,this._hostElement,this._platform,p(We)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(tt(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let t=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",t===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",t===3),this._hasUnscopedTextContent){let r=this._titles.length===0&&t===1;o.classList.toggle("mdc-list-item__primary-text",r),o.classList.toggle("mdc-list-item__secondary-text",!r)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,contentQueries:function(t,o,r){if(t&1&&(Oe(r,Th,4),Oe(r,Ih,4)),t&2){let l;k(l=E())&&(o._avatars=l),k(l=E())&&(o._icons=l)}},hostVars:4,hostBindings:function(t,o){t&2&&(ee("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),X("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var Ld=(()=>{class n extends Ah{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=ui(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,Eh,5),Oe(r,kh,5),Oe(r,Dh,5)),t&2){let l;k(l=E())&&(o._lines=l),k(l=E())&&(o._titles=l),k(l=E())&&(o._meta=l)}},viewQuery:function(t,o){if(t&1&&(Y(xh,5),Y(wh,5)),t&2){let r;k(r=E())&&(o._unscopedContent=r.first),k(r=E())&&(o._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(t,o){t&2&&(ee("aria-current",o._getAriaCurrent()),X("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",o._hasBothLeadingAndTrailing())("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[he],ngContentSelectors:Oh,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(t,o){if(t&1){let r=S();Ue(Ph),ge(0),s(1,"span",1),ge(2,1),ge(3,2),s(4,"span",2,0),v("cdkObserveContent",function(){return y(r),C(o._updateItemLines(!0))}),ge(6,3),a()(),ge(7,4),ge(8,5),M(9,"div",3)}},dependencies:[Dr],encapsulation:2,changeDetection:0})}return n})();var Nd=(()=>{class n extends Gs{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[ze([{provide:Gs,useExisting:n}]),he],ngContentSelectors:Ch,decls:1,vars:0,template:function(t,o){t&1&&(Ue(),ge(0))},styles:[Mh],encapsulation:2,changeDetection:0})}return n})();var ba=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[Ac,me,uo,la,tn]})}return n})();var va=class n{constructor(i){this.auth=i}logout(){this.auth.logout()}static \u0275fac=function(e){return new(e||n)(z(Ft))};static \u0275cmp=x({type:n,selectors:[["app-user-layout"]],decls:23,vars:0,consts:[[1,"user-layout"],["color","primary",1,"topbar"],[1,"toolbar-title"],[1,"layout-body"],[1,"sidebar"],["mat-list-item","","routerLink","/cliente/perfil","routerLinkActive","active"],["mat-list-item","","routerLink","/cliente/mis-pedidos","routerLinkActive","active"],["mat-list-item","",3,"click"],[1,"content"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),c(3,"Panel del Cliente"),a()(),s(4,"div",3)(5,"mat-nav-list",4)(6,"a",5)(7,"mat-icon"),c(8,"person"),a(),s(9,"span"),c(10,"Mi perfil"),a()(),s(11,"a",6)(12,"mat-icon"),c(13,"shopping_bag"),a(),s(14,"span"),c(15,"Mis pedidos"),a()(),s(16,"a",7),v("click",function(){return t.logout()}),s(17,"mat-icon"),c(18,"logout"),a(),s(19,"span"),c(20,"Cerrar sesi\xF3n"),a()()(),s(21,"div",8),M(22,"router-outlet"),a()()())},dependencies:[vn,At,co,fo,go,ba,Nd,Ld,K,G],styles:[".user-layout[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#fff;font-family:Segoe UI,Roboto,sans-serif}.user-layout[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{height:60px;background-color:#1e88e5;color:#fff;font-size:1.3rem;font-weight:600;display:flex;align-items:center;padding:0 24px;border-bottom:2px solid #1565c0}.user-layout[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:12px}.user-layout[_ngcontent-%COMP%]   .layout-body[_ngcontent-%COMP%]{flex:1;display:flex;padding:20px;gap:24px}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:250px;background-color:#fff;border-radius:16px;padding:24px 16px;box-shadow:0 4px 16px #00000014;display:flex;flex-direction:column}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-radius:10px;text-decoration:none;color:#37474f;font-weight:500;font-size:15px;transition:all .3s ease;background:none;border:none;text-align:left;width:100%;cursor:pointer}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#1e88e5;transition:transform .2s}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e3f2fd;color:#1565c0}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.15)}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#bbdefb;color:#1565c0;font-weight:600}.user-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:12px 0;background-color:#e0e0e0}.user-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 20px #0000000f;overflow-y:auto}"]})};var ya=class n{fb=p(wn);auth=p(Ft);http=p(it);form;ngOnInit(){let i=this.auth.getUser();this.form=this.fb.group({nombre:[i.nombre||"",we.required],correo:[i.token?this.decodeToken(i.token).correo:"",we.required],rol:[i.rol||"",we.required],contrasena:[""]})}guardarCambios(){if(this.form.invalid)return;let i=this.form.value;this.auth.actualizarPerfil(i).subscribe({next:e=>{alert("\u2705 Perfil actualizado exitosamente")},error:e=>{alert("\u274C Error al actualizar el perfil"),console.error(e)}})}decodeToken(i){try{let e=i.split(".")[1];return JSON.parse(atob(e))}catch{return{}}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-profile"]],decls:21,vars:3,consts:[[1,"profile-container"],[1,"profile-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre","placeholder","Tu nombre"],["matInput","","formControlName","correo",3,"readonly"],["matInput","","formControlName","contrasena","type","password","placeholder","Deja en blanco si no deseas cambiarla"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"mat-card",1)(2,"h2"),c(3,"Mi Perfil"),a(),s(4,"form",2),v("ngSubmit",function(){return t.guardarCambios()}),s(5,"mat-form-field",3)(6,"mat-label"),c(7,"Nombre"),a(),M(8,"input",4),a(),s(9,"mat-form-field",3)(10,"mat-label"),c(11,"Correo electr\xF3nico"),a(),M(12,"input",5),a(),s(13,"mat-form-field",3)(14,"mat-label"),c(15,"Nueva contrase\xF1a"),a(),M(16,"input",6),a(),s(17,"button",7)(18,"mat-icon"),c(19,"save"),a(),c(20," Guardar cambios "),a()()()()),e&2&&(d(4),h("formGroup",t.form),d(8),h("readonly",!0),d(5),h("disabled",t.form.invalid))},dependencies:[L,Pn,Gi,Ie,Re,$i,Xi,Cn,Le,He,Fe,Xe,$,oe,be,Se,je,K,G],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#fff;min-height:100vh}mat-card[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2rem;border-radius:1rem;box-shadow:0 8px 20px #0000001a;background-color:#fff}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;font-size:1.8rem;color:#333}mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center;padding:.6rem 2rem;font-weight:600}"]})};function Lh(n,i){}var In=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Xs=(()=>{class n extends mn{_elementRef=p(Q);_focusTrapFactory=p(Lc);_config;_interactivityChecker=p(Fc);_ngZone=p(De);_overlayRef=p(jn);_focusMonitor=p(qi);_renderer=p(ci);_changeDetectorRef=p(Ve);_injector=p(We);_platform=p(nt);_document=p(Te,{optional:!0});_portalOutlet;_focusTrapped=new V;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=p(In,{optional:!0})||new In,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),l(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),l=this._renderer.listen(e,"mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(e){this._isDestroyed||It(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let o=Wo(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=Wo();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Wo()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(t&1&&Y(gi,7),t&2){let r;k(r=E())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){t&2&&ee("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[he],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){t&1&&f(0,Lh,0,0,"ng-template",0)},dependencies:[gi],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),ir=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new V;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!xt(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(i),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Nh=new q("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.block()}}),Bh=new q("DialogData"),zh=new q("DefaultDialogConfig");var Zs=(()=>{class n{_overlay=p(Ze);_injector=p(We);_defaultOptions=p(zh,{optional:!0});_parentDialog=p(n,{optional:!0,skipSelf:!0});_overlayContainer=p(Zr);_idGenerator=p(gt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new V;_afterOpenedAtThisLevel=new V;_ariaHiddenElements=new Map;_scrollStrategy=p(Nh);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ro(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tt(void 0)));constructor(){}open(e,t){let o=this._defaultOptions||new In;t=de(de({},o),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let r=this._getOverlayConfig(t),l=this._overlay.create(r),m=new ir(l,t),u=this._attachContainer(l,m,t);if(m.containerInstance=u,!this.openDialogs.length){let g=this._overlayContainer.getContainerElement();u._focusTrapped?u._focusTrapped.pipe(Bt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(g)}):this._hideNonDialogContentFromAssistiveTechnology(g)}return this._attachDialogContent(e,m,u,t),this.openDialogs.push(m),m.closed.subscribe(()=>this._removeOpenDialog(m,!0)),this.afterOpened.next(m),m}closeAll(){Ks(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Ks(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Ks(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new Ti({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,o){let r=o.injector||o.viewContainerRef?.injector,l=[{provide:In,useValue:o},{provide:ir,useValue:t},{provide:jn,useValue:e}],m;o.container?typeof o.container=="function"?m=o.container:(m=o.container.type,l.push(...o.container.providers(o))):m=Xs;let u=new hi(m,o.viewContainerRef,We.create({parent:r||this._injector,providers:l}));return e.attach(u).instance}_attachDialogContent(e,t,o,r){if(e instanceof Ge){let l=this._createInjector(r,t,o,void 0),m={$implicit:r.data,dialogRef:t};r.templateContext&&(m=de(de({},m),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new Vt(e,null,m,l))}else{let l=this._createInjector(r,t,o,this._injector),m=o.attachComponentPortal(new hi(e,r.viewContainerRef,l));t.componentRef=m,t.componentInstance=m.instance}}_createInjector(e,t,o,r){let l=e.injector||e.viewContainerRef?.injector,m=[{provide:Bh,useValue:e.data},{provide:ir,useValue:t}];return e.providers&&(typeof e.providers=="function"?m.push(...e.providers(t,e,o)):m.push(...e.providers)),e.direction&&(!l||!l.get(ft,null,{optional:!0}))&&m.push({provide:ft,useValue:{value:e.direction,change:Ne()}}),We.create({parent:l||r,providers:m})}_removeOpenDialog(e,t){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){let r=t[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ks(n,i){let e=n.length;for(;e--;)i(n[e])}var Bd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Zs],imports:[ii,Ji,Ir,Ji]})}return n})();function Vh(n,i){}var or=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Js="mdc-dialog--open",zd="mdc-dialog--opening",Vd="mdc-dialog--closing",jh=150,Hh=75,Wd=(()=>{class n extends Xs{_animationMode=p(Be,{optional:!0});_animationStateChanged=new ce;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Hd(this._config.enterAnimationDuration)??jh:0;_exitAnimationDuration=this._animationsEnabled?Hd(this._config.exitAnimationDuration)??Hh:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(jd,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zd,Js)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Js),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Js),this._animationsEnabled?(this._hostElement.style.setProperty(jd,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Vd)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(zd,Vd)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,o){t&2&&(Ho("id",o._config.id),ee("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),X("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[he],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(s(0,"div",0)(1,"div",1),f(2,Vh,0,0,"ng-template",2),a()())},dependencies:[gi],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),jd="--mat-dialog-transition-duration";function Hd(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?cn(n.substring(0,n.length-2)):n.endsWith("s")?cn(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var nr=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(nr||{}),wt=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new V;_beforeClosed=new V;_result;_closeFallbackTimeout;_state=nr.OPEN;_closeInteractionType;constructor(i,e,t){this._ref=i,this._containerInstance=t,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(bt(o=>o.state==="opened"),Bt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(bt(o=>o.state==="closed"),Bt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),tt(this.backdropClick(),this.keydownEvents().pipe(bt(o=>o.keyCode===27&&!this.disableClose&&!xt(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),el(this,o.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(bt(e=>e.state==="closing"),Bt(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=nr.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=nr.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function el(n,i,e){return n._closeInteractionType=i,n.close(e)}var Pt=new q("MatMdcDialogData"),Ud=new q("mat-mdc-dialog-default-options"),qd=new q("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.block()}});var Ot=(()=>{class n{_overlay=p(Ze);_defaultOptions=p(Ud,{optional:!0});_scrollStrategy=p(qd);_parentDialog=p(n,{optional:!0,skipSelf:!0});_idGenerator=p(gt);_dialog=p(Zs);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new V;_afterOpenedAtThisLevel=new V;dialogConfigClass=or;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ro(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tt(void 0)));constructor(){this._dialogRefConstructor=wt,this._dialogContainerType=Wd,this._dialogDataToken=Pt}open(e,t){let o;t=de(de({},this._defaultOptions||new or),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,Gt(de({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:In,useValue:t}]},templateContext:()=>({dialogRef:o}),providers:(l,m,u)=>(o=new this._dialogRefConstructor(l,t,u),o.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:m.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Un=(()=>{class n{dialogRef=p(wt,{optional:!0});_elementRef=p(Q);_dialog=p(Ot);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Yd(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){el(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,o){t&1&&v("click",function(l){return o._onButtonClick(l)}),t&2&&ee("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[yt]})}return n})(),Qd=(()=>{class n{_dialogRef=p(wt,{optional:!0});_elementRef=p(Q);_dialog=p(Ot);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Yd(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n})}return n})(),qn=(()=>{class n extends Qd{id=p(gt).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,o){t&2&&Ho("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[he]})}return n})(),Qn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[mc([$o])]})}return n})(),Yn=(()=>{class n extends Qd{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,o){t&2&&X("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[he]})}return n})();function Yd(n,i){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(t=>t.id===e.id):null}var ut=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Ot],imports:[Bd,ii,Ji,me,me]})}return n})();function Wh(n,i){if(n&1&&(s(0,"div",8),M(1,"img",9),s(2,"div",10)(3,"h4"),c(4),a(),s(5,"p"),c(6),a(),s(7,"p"),c(8),H(9,"currency"),a()()()),n&2){let e=i.$implicit;d(),h("src",e.producto.imagen,xe),d(3),O(e.producto.nombre),d(2),P("Cantidad: ",e.cantidad,""),d(2),P("Precio: ",Or(9,4,e.producto.precio,"COP","symbol"),"")}}function Uh(n,i){if(n&1&&(s(0,"section",2)(1,"h3")(2,"mat-icon"),c(3,"inventory_2"),a(),c(4," Productos"),a(),s(5,"div",6),f(6,Wh,10,8,"div",7),a()()),n&2){let e=_();d(6),h("ngForOf",e.data.productos)}}function qh(n,i){if(n&1&&(s(0,"section",2)(1,"h3")(2,"mat-icon"),c(3,"receipt"),a(),c(4," Comprobante de Pago"),a(),M(5,"img",11),s(6,"a",12)(7,"mat-icon"),c(8,"open_in_new"),a(),c(9," Ver en nueva pesta\xF1a "),a()()),n&2){let e=_();d(5),h("src",e.data.comprobantePago,xe),d(),h("href",e.data.comprobantePago,xe)}}function Qh(n,i){if(n&1&&(s(0,"a",18)(1,"mat-icon"),c(2,"receipt"),a(),c(3," Comprobante "),a()),n&2){let e=_().$implicit;h("href",e.comprobantePago,xe)}}function Yh(n,i){if(n&1){let e=S();s(0,"mat-card",9)(1,"div",10)(2,"div",11)(3,"mat-icon",12),c(4,"confirmation_number"),a(),s(5,"span"),c(6),a()(),s(7,"span",13),c(8),a()(),s(9,"div",14)(10,"p")(11,"strong"),c(12,"Fecha:"),a(),c(13),H(14,"date"),a(),s(15,"p")(16,"strong"),c(17,"Total:"),a(),c(18),H(19,"currency"),a()(),s(20,"div",15)(21,"button",16),v("click",function(){let o=y(e).$implicit,r=_(3);return C(r.verDetalle(o))}),s(22,"mat-icon"),c(23,"visibility"),a(),c(24," Ver Detalle "),a(),f(25,Qh,4,1,"a",17),a()()}if(n&2){let e=i.$implicit;d(6),P("#",e._id.slice(0,8),"..."),d(),h("ngClass",e.estado),d(),O(e.estado),d(5),P(" ",le(14,6,e.fecha,"mediumDate"),""),d(5),P(" ",Or(19,9,e.total,"COP","symbol"),""),d(7),h("ngIf",e.comprobantePago)}}function $h(n,i){if(n&1&&(s(0,"div",7),f(1,Yh,26,13,"mat-card",8),a()),n&2){let e=_(2);d(),h("ngForOf",e.pedidos)}}function Gh(n,i){if(n&1&&(D(0),f(1,$h,2,1,"div",6),T()),n&2){let e=_(),t=fe(11);d(),h("ngIf",e.pedidos.length)("ngIfElse",t)}}function Kh(n,i){n&1&&(s(0,"div",19),M(1,"mat-spinner",20),a())}function Xh(n,i){n&1&&(s(0,"p",21),c(1,"A\xFAn no has realizado ning\xFAn pedido."),a())}var tl=class n{constructor(i,e){this.data=i;this.dialogRef=e}static \u0275fac=function(e){return new(e||n)(z(Pt),z(wt))};static \u0275cmp=x({type:n,selectors:[["pedido-cliente-detalle-dialog"]],decls:33,vars:13,consts:[["mat-dialog-title",""],[1,"contenido"],[1,"seccion"],["class","seccion",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","","color","primary"],[1,"productos-grid"],["class","producto-card",4,"ngFor","ngForOf"],[1,"producto-card"],["alt","Producto",1,"producto-img",3,"src"],[1,"producto-info"],["alt","Comprobante",1,"comprobante-img",3,"src"],["target","_blank","rel","noopener",1,"comprobante-link",3,"href"]],template:function(e,t){e&1&&(s(0,"h2",0)(1,"mat-icon"),c(2,"receipt_long"),a(),c(3," Detalles del Pedido "),a(),s(4,"mat-dialog-content",1)(5,"section",2)(6,"h3")(7,"mat-icon"),c(8,"info"),a(),c(9," Informaci\xF3n del pedido"),a(),s(10,"p")(11,"strong"),c(12,"ID:"),a(),c(13),a(),s(14,"p")(15,"strong"),c(16,"Fecha:"),a(),c(17),H(18,"date"),a(),s(19,"p")(20,"strong"),c(21,"Total:"),a(),c(22),H(23,"currency"),a(),s(24,"p")(25,"strong"),c(26,"Estado:"),a(),c(27),a()(),f(28,Uh,7,1,"section",3)(29,qh,10,2,"section",3),a(),s(30,"mat-dialog-actions",4)(31,"button",5),c(32,"Cerrar"),a()()),e&2&&(d(13),P(" ",t.data._id,""),d(4),P(" ",le(18,6,t.data.fecha,"fullDate"),""),d(5),P(" ",Or(23,9,t.data.total,"COP","symbol"),""),d(5),P(" ",t.data.estado,""),d(),h("ngIf",t.data.productos==null?null:t.data.productos.length),d(),h("ngIf",t.data.comprobantePago))},dependencies:[L,_e,Z,Jt,Zt,ut,Un,qn,Yn,Qn,K,G,$,oe],styles:[".mat-dialog-container{max-width:900px!important;width:100%;padding:2rem}.contenido[_ngcontent-%COMP%]{padding:1rem}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]{margin-bottom:1.5rem}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;color:#3f51b5;display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;margin:.3rem 0}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .productos-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .producto-card[_ngcontent-%COMP%]{display:flex;gap:1rem;background-color:#f5f5f5;border-radius:10px;padding:1rem;box-shadow:0 2px 6px #0000001a;align-items:center}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .producto-card[_ngcontent-%COMP%]   .producto-img[_ngcontent-%COMP%]{width:90px;height:90px;object-fit:cover;border-radius:8px}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .producto-card[_ngcontent-%COMP%]   .producto-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .producto-card[_ngcontent-%COMP%]   .producto-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#333}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .producto-card[_ngcontent-%COMP%]   .producto-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#555}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .comprobante-img[_ngcontent-%COMP%]{max-width:100%;margin-top:.5rem;border:1px solid #ccc;border-radius:6px}.contenido[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]   .comprobante-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;margin-top:.5rem;font-size:.9rem;color:#3f51b5;text-decoration:none}"]})},Ca=class n{pedidos=[];cargando=!0;http=p(it);dialog=p(Ot);ngOnInit(){let i=localStorage.getItem("token"),e=new ei().set("Authorization",`Bearer ${i}`);this.http.get("http://localhost:5000/api/ordenes/mis",{headers:e}).subscribe({next:t=>{this.pedidos=t,this.cargando=!1,console.log("\u{1F9FE} Pedidos del cliente:",this.pedidos)},error:t=>{console.error("\u274C Error al cargar pedidos:",t),this.cargando=!1}})}verDetalle(i){this.dialog.open(tl,{width:"900px",data:i})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-order-list"]],decls:12,vars:2,consts:[["cargandoSpinner",""],["sinPedidos",""],[1,"mis-pedidos"],[1,"header"],[1,"contenido-scroll"],[4,"ngIf","ngIfElse"],["class","pedido-grid",4,"ngIf","ngIfElse"],[1,"pedido-grid"],["class","pedido-card",4,"ngFor","ngForOf"],[1,"pedido-card"],[1,"pedido-header"],[1,"pedido-id"],["color","primary"],[1,"estado",3,"ngClass"],[1,"pedido-detalle"],[1,"pedido-acciones"],["mat-flat-button","","color","primary",3,"click"],["target","_blank","rel","noopener","mat-flat-button","","color","accent",3,"href",4,"ngIf"],["target","_blank","rel","noopener","mat-flat-button","","color","accent",3,"href"],[1,"spinner"],["diameter","40"],[1,"mensaje-vacio"]],template:function(e,t){if(e&1&&(s(0,"section",2)(1,"div",3)(2,"h2")(3,"mat-icon"),c(4,"list_alt"),a(),c(5," Mis Pedidos"),a()(),s(6,"div",4),f(7,Gh,2,2,"ng-container",5)(8,Kh,2,0,"ng-template",null,0,qe)(10,Xh,2,0,"ng-template",null,1,qe),a()()),e&2){let o=fe(9);d(7),h("ngIf",!t.cargando)("ngIfElse",o)}},dependencies:[L,Ht,_e,Z,Jt,Zt,ct,be,Se,$,yn,oe,K,G,nn,Ri,ut],styles:[".mis-pedidos[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(to right,#f7f9fc,#eef2f7);border-radius:1rem;min-height:100vh}.mis-pedidos[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1.5rem}.mis-pedidos[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#2c3e50;display:flex;align-items:center;gap:.5rem}.mis-pedidos[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;color:#007bff}.mis-pedidos[_ngcontent-%COMP%]   .contenido-scroll[_ngcontent-%COMP%]{max-height:calc(100vh - 200px);overflow-y:auto;padding-right:.5rem;scroll-behavior:smooth}.mis-pedidos[_ngcontent-%COMP%]   .contenido-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.mis-pedidos[_ngcontent-%COMP%]   .contenido-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#007bff4d;border-radius:4px}.mis-pedidos[_ngcontent-%COMP%]   .pedido-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 4px 10px #00000014;padding:1rem;display:flex;flex-direction:column;justify-content:space-between;transition:transform .3s ease,box-shadow .3s ease;background:#fff}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 18px #0000001f}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .pedido-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#34495e}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .estado[_ngcontent-%COMP%]{padding:.3rem .7rem;border-radius:1rem;font-size:.8rem;font-weight:700;text-transform:uppercase;color:#fff}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .estado.pendiente[_ngcontent-%COMP%]{background-color:#f39c12}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .estado.enviado[_ngcontent-%COMP%]{background-color:#3498db}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .estado.entregado[_ngcontent-%COMP%]{background-color:#2ecc71}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .estado.cancelado[_ngcontent-%COMP%]{background-color:#e74c3c}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-detalle[_ngcontent-%COMP%]{font-size:.95rem;color:#555;margin-bottom:1rem}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-detalle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.2rem 0}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-acciones[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;min-width:120px;text-align:center}.mis-pedidos[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   .pedido-acciones[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.mis-pedidos[_ngcontent-%COMP%]   .mensaje-vacio[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;color:#888;margin-top:2rem}.mis-pedidos[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}"]})};var Ma=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-order-detail"]],decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),c(1,"order-detail works!"),a())},encapsulation:2})};var $d=()=>({exact:!0}),Zh=()=>({tipo:"cliente"}),Jh=()=>({tipo:"vendedor"});function eg(n,i){n&1&&(s(0,"div",17)(1,"a",18)(2,"mat-icon"),c(3,"person"),a(),s(4,"span"),c(5,"Pedidos de Clientes"),a()(),s(6,"a",18)(7,"mat-icon"),c(8,"storefront"),a(),s(9,"span"),c(10,"Pedidos de Vendedores"),a()()()),n&2&&(d(),h("queryParams",ht(2,Zh)),d(5),h("queryParams",ht(3,Jh)))}var xa=class n{constructor(i){this.auth=i}pedidosMenuAbierto=!1;tipoUsuario="admin";ngOnInit(){let i=this.obtenerUsuarioDesdeToken();i?.rol==="vendedor"?this.tipoUsuario="vendedor":i?.rol==="cliente"?this.tipoUsuario="cliente":this.tipoUsuario="admin"}togglePedidosMenu(){this.pedidosMenuAbierto=!this.pedidosMenuAbierto}obtenerUsuarioDesdeToken(){let i=localStorage.getItem("token");if(!i)return null;try{let t=i.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=JSON.parse(atob(t));return o?.usuario||o?.user||o}catch(e){return console.error("\u274C Error al decodificar el token:",e),null}}static \u0275fac=function(e){return new(e||n)(z(Ft))};static \u0275cmp=x({type:n,selectors:[["app-admin-layout"]],decls:57,vars:7,consts:[[1,"admin-layout"],[1,"topbar"],[1,"layout-body"],[1,"sidebar"],[1,"nav-group"],["routerLink","/admin","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/admin/usuarios","routerLinkActive","active"],[1,"submenu"],[1,"submenu-btn",3,"click"],[1,"arrow"],["class","submenu-content",4,"ngIf"],[1,"section-title"],["routerLink","/admin/control-mercancia","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/admin/productos","routerLinkActive","active"],["routerLink","/admin/productos/nuevo","routerLinkActive","active"],[1,"logout-btn",3,"click"],[1,"content"],[1,"submenu-content"],["routerLink","/admin/pedidos","routerLinkActive","active",3,"queryParams"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"header",1)(2,"mat-icon"),c(3,"admin_panel_settings"),a(),s(4,"span"),c(5,"Panel de Administraci\xF3n"),a()(),s(6,"div",2)(7,"nav",3)(8,"div",4)(9,"a",5)(10,"mat-icon"),c(11,"dashboard"),a(),s(12,"span"),c(13,"Dashboard"),a()(),s(14,"a",6)(15,"mat-icon"),c(16,"group"),a(),s(17,"span"),c(18,"Usuarios"),a()(),s(19,"div",7)(20,"button",8),v("click",function(){return t.togglePedidosMenu()}),s(21,"mat-icon"),c(22,"shopping_cart"),a(),s(23,"span"),c(24,"Pedidos"),a(),s(25,"mat-icon",9),c(26,"expand_more"),a()(),f(27,eg,11,4,"div",10),a(),M(28,"mat-divider"),s(29,"span",11),c(30,"Mercanc\xEDa"),a(),s(31,"a",12)(32,"mat-icon"),c(33,"warehouse"),a(),s(34,"span"),c(35,"Control de Mercanc\xEDa"),a()(),M(36,"mat-divider"),s(37,"span",11),c(38,"Productos"),a(),s(39,"a",13)(40,"mat-icon"),c(41,"inventory_2"),a(),s(42,"span"),c(43,"Lista de Productos"),a()(),s(44,"a",14)(45,"mat-icon"),c(46,"add_box"),a(),s(47,"span"),c(48,"Nuevo Producto"),a()(),M(49,"mat-divider"),s(50,"button",15),v("click",function(){return t.auth.logout()}),s(51,"mat-icon"),c(52,"logout"),a(),s(53,"span"),c(54,"Cerrar sesi\xF3n"),a()()()(),s(55,"main",16),M(56,"router-outlet"),a()()()),e&2&&(d(9),h("routerLinkActiveOptions",ht(5,$d)),d(16),X("open",t.pedidosMenuAbierto),d(2),h("ngIf",t.pedidosMenuAbierto),d(4),h("routerLinkActiveOptions",ht(6,$d)))},dependencies:[L,Z,ct,vn,At,co,K,G,tn,xo],styles:[".admin-layout[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#f4f6f9;font-family:Segoe UI,Roboto,sans-serif}.admin-layout[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#78909c;margin:12px 0 4px 8px;text-transform:uppercase}.admin-layout[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{height:60px;background-color:#263238;color:#fff;font-size:1.4rem;font-weight:600;display:flex;align-items:center;padding:0 24px;border-bottom:3px solid #00bcd4}.admin-layout[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:12px;color:#00bcd4}.admin-layout[_ngcontent-%COMP%]   .layout-body[_ngcontent-%COMP%]{flex:1;display:flex;padding:20px;gap:20px}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:240px;background-color:#fff;border-radius:12px;padding:20px 16px;box-shadow:0 4px 12px #00000014;display:flex;flex-direction:column}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 14px;border-radius:8px;text-decoration:none;color:#37474f;font-weight:500;background:none;border:none;cursor:pointer;transition:all .3s ease;font-size:15px}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:#00bcd4;transition:transform .2s}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0f7fa;color:#00796b}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#b2ebf2;color:#00796b;font-weight:600}.admin-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:16px 0;background-color:#cfd8dc}.admin-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:12px;padding:24px;box-shadow:0 4px 20px #0000000d;overflow-y:auto}"]})};var tg=[[["caption"]],[["colgroup"],["col"]],"*"],ig=["caption","colgroup, col","*"];function ng(n,i){n&1&&ge(0,2)}function og(n,i){n&1&&(s(0,"thead",0),Mt(1,1),a(),s(2,"tbody",0),Mt(3,2)(4,3),a(),s(5,"tfoot",0),Mt(6,4),a())}function rg(n,i){n&1&&Mt(0,1)(1,2)(2,3)(3,4)}var Fi=new q("CDK_TABLE");var Ea=(()=>{class n{template=p(Ge);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),Da=(()=>{class n{template=p(Ge);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),Xd=(()=>{class n{template=p(Ge);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),Oo=(()=>{class n{_table=p(Fi,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,Ea,5),Oe(r,Da,5),Oe(r,Xd,5)),t&2){let l;k(l=E())&&(o.cell=l.first),k(l=E())&&(o.headerCell=l.first),k(l=E())&&(o.footerCell=l.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",W],stickyEnd:[2,"stickyEnd","stickyEnd",W]},features:[ze([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})(),Pa=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},Zd=(()=>{class n extends Pa{constructor(){super(p(Oo),p(Q))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[he]})}return n})();var Jd=(()=>{class n extends Pa{constructor(){let e=p(Oo),t=p(Q);super(e,t);let o=e._table?._getCellRole();o&&t.nativeElement.setAttribute("role",o)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[he]})}return n})(),Oa=class{tasks=[];endTasks=[]},Sa=new q("_COALESCED_STYLE_SCHEDULER"),nl=(()=>{class n{_currentSchedule=null;_ngZone=p(De);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Oa,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new Oa;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();var ol=(()=>{class n{template=p(Ge);_differs=p(Bn);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof rr?e.headerCell.template:this instanceof rl?e.footerCell.template:e.cell.template}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,features:[yt]})}return n})(),rr=(()=>{class n extends ol{_table=p(Fi,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(p(Ge),p(Bn))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",W]},features:[he,yt]})}return n})(),rl=(()=>{class n extends ol{_table=p(Fi,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(p(Ge),p(Bn))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",W]},features:[he,yt]})}return n})(),Ta=(()=>{class n extends ol{_table=p(Fi,{optional:!0});when;constructor(){super(p(Ge),p(Bn))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[he]})}return n})(),$n=(()=>{class n{_viewContainer=p(Ct);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),al=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,o){t&1&&Mt(0,0)},dependencies:[$n],encapsulation:2})}return n})();var sl=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,o){t&1&&Mt(0,0)},dependencies:[$n],encapsulation:2})}return n})(),em=(()=>{class n{templateRef=p(Ge);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),Gd=["top","bottom","left","right"],il=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(i=>this._updateCachedSizes(i)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(i,e,t,o,r=!0,l=!0,m,u){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=o,this._isBrowser=r,this._needsPositionStickyOnElement=l,this._positionListener=m,this._tableInjector=u,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let t=[];for(let o of i)o.nodeType===o.ELEMENT_NODE&&t.push(o,...Array.from(o.children));this._afterNextRender({write:()=>{for(let o of t)this._removeStickyStyle(o,e)}})}updateStickyColumns(i,e,t,o=!0,r=!0){if(!i.length||!this._isBrowser||!(e.some(pe=>pe)||t.some(pe=>pe))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let l=i[0],m=l.children.length,u=this.direction==="rtl",g=u?"right":"left",b=u?"left":"right",w=e.lastIndexOf(!0),N=t.indexOf(!0),A,I,j;r&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...t]}),this._afterNextRender({earlyRead:()=>{A=this._getCellWidths(l,o),I=this._getStickyStartColumnPositions(A,e),j=this._getStickyEndColumnPositions(A,t)},write:()=>{for(let pe of i)for(let ye=0;ye<m;ye++){let rt=pe.children[ye];e[ye]&&this._addStickyStyle(rt,g,I[ye],ye===w),t[ye]&&this._addStickyStyle(rt,b,j[ye],ye===N)}this._positionListener&&A.some(pe=>!!pe)&&(this._positionListener.stickyColumnsUpdated({sizes:w===-1?[]:A.slice(0,w+1).map((pe,ye)=>e[ye]?pe:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:N===-1?[]:A.slice(N).map((pe,ye)=>t[ye+N]?pe:null).reverse()}))}})}stickRows(i,e,t){if(!this._isBrowser)return;let o=t==="bottom"?i.slice().reverse():i,r=t==="bottom"?e.slice().reverse():e,l=[],m=[],u=[];this._afterNextRender({earlyRead:()=>{for(let g=0,b=0;g<o.length;g++){if(!r[g])continue;l[g]=b;let w=o[g];u[g]=this._isNativeHtmlTable?Array.from(w.children):[w];let N=this._retrieveElementSize(w).height;b+=N,m[g]=N}},write:()=>{let g=r.lastIndexOf(!0);for(let b=0;b<o.length;b++){if(!r[b])continue;let w=l[b],N=b===g;for(let A of u[b])this._addStickyStyle(A,t,w,N)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:m,offsets:l,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:m,offsets:l,elements:u})}})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let t=i.querySelector("tfoot");t&&(e.some(o=>!o)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(i,e){if(!i.classList.contains(this._stickCellCss))return;for(let o of e)i.style[o]="",i.classList.remove(this._borderCellCss[o]);Gd.some(o=>e.indexOf(o)===-1&&i.style[o])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,t,o){i.classList.add(this._stickCellCss),o&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${t}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},t=0;for(let o of Gd)i.style[o]&&(t+=e[o]);return t?`${t}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],o=i.children;for(let r=0;r<o.length;r++){let l=o[r];t.push(this._retrieveElementSize(l).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(i,e){let t=[],o=0;for(let r=0;r<i.length;r++)e[r]&&(t[r]=o,o+=i[r]);return t}_getStickyEndColumnPositions(i,e){let t=[],o=0;for(let r=i.length;r>0;r--)e[r]&&(t[r]=o,o+=i[r]);return t}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let t=i.getBoundingClientRect(),o={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(i,o),this._resizeObserver.observe(i,{box:"border-box"})),o}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(o=>!e.has(o));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(i){let e=!1;for(let t of i){let o=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};o.width!==this._elemSizeCache.get(t.target)?.width&&ag(t.target)&&(e=!0),this._elemSizeCache.set(t.target,o)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(i){this._tableInjector?It(i,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{i.earlyRead?.(),i.write()})}};function ag(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>n.classList.contains(i))}var ka=new q("CDK_SPL");var ll=(()=>{class n{viewContainer=p(Ct);elementRef=p(Q);constructor(){let e=p(Fi);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","rowOutlet",""]]})}return n})(),cl=(()=>{class n{viewContainer=p(Ct);elementRef=p(Q);constructor(){let e=p(Fi);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),dl=(()=>{class n{viewContainer=p(Ct);elementRef=p(Q);constructor(){let e=p(Fi);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),ml=(()=>{class n{viewContainer=p(Ct);elementRef=p(Q);constructor(){let e=p(Fi);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})();var pl=(()=>{class n{_differs=p(Bn);_changeDetectorRef=p(Ve);_elementRef=p(Q);_dir=p(ft,{optional:!0});_platform=p(nt);_viewRepeater=p(vo);_coalescedStyleScheduler=p(Sa);_viewportRuler=p(en);_stickyPositioningListener=p(ka,{optional:!0,skipSelf:!0});_document=p(Te);_data;_onDestroy=new V;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ce;viewChange=new li({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=p(We);constructor(){p(new Nn("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((t,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Pe(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Yo(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(o,r,l)=>this._getEmbeddedViewArgs(o.item,l),o=>o.item.data,o=>{o.operation===On.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{let r=t.get(o.currentIndex);r.context.$implicit=o.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let o=Kd(this._headerRowOutlet,"thead");o&&(o.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let o=Kd(this._footerRowOutlet,"tfoot");o&&(o.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,l)=>{this._addStickyColumnStyles([r],this._headerRowDefs[l])}),this._rowDefs.forEach(r=>{let l=[];for(let m=0;m<t.length;m++)this._renderRows[m].rowDef===r&&l.push(t[m]);this._addStickyColumnStyles(l,r)}),o.forEach((r,l)=>{this._addStickyColumnStyles([r],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let o=0;o<this._data.length;o++){let r=this._data[o],l=this._getRenderRowsForData(r,o,t.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let m=0;m<l.length;m++){let u=l[m],g=this._cachedRenderRowsMap.get(u.data);g.has(u.rowDef)?g.get(u.rowDef).push(u):g.set(u.rowDef,[u]),e.push(u)}}return e}_getRenderRowsForData(e,t,o){return this._getRowDefs(e,t).map(l=>{let m=o&&o.has(l)?o.get(l):[];if(m.length){let u=m.shift();return u.dataIndex=t,u}else return{data:e,rowDef:l,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wa(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=wa(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wa(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wa(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(l,m)=>{let u=!!m.getColumnsDiff();return l||u},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();let r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),t||o||r}_switchDataSource(e){this._data=[],Yo(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Yo(this.dataSource)?e=this.dataSource.connect(this):Cs(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ne(this.dataSource)),this._renderChangeSubscription=e.pipe(Pe(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let o=Array.from(t?.columns||[]).map(m=>{let u=this._columnDefsByName.get(m);return u}),r=o.map(m=>m.sticky),l=o.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let o=0;o<e.viewContainer.length;o++){let r=e.viewContainer.get(o);t.push(r.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(r=>!r.when||r.when(t,e));else{let r=this._rowDefs.find(l=>l.when&&l.when(t,e))||this._defaultRowDef;r&&o.push(r)}return o.length,o}_getEmbeddedViewArgs(e,t){let o=e.rowDef,r={$implicit:e.data};return{templateRef:o.template,context:r,index:t}}_renderRow(e,t,o,r={}){let l=e.viewContainer.createEmbeddedView(t.template,r,o);return this._renderCellTemplateForItem(t,r),l}_renderCellTemplateForItem(e,t){for(let o of this._getCellTemplates(e))$n.mostRecentCellOutlet&&$n.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,o=e.length;t<o;t++){let l=e.get(t).context;l.count=o,l.first=t===0,l.last=t===o-1,l.even=t%2===0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[t].dataIndex,l.renderIndex=t):l.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let o=this._columnDefsByName.get(t);return e.extractCellTemplate(o)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,o)=>t||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new il(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Ne()).pipe(Pe(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let o=this._noDataRowOutlet.viewContainer;if(t){let r=o.createEmbeddedView(e.templateRef),l=r.rootNodes[0];r.rootNodes.length===1&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,em,5),Oe(r,Oo,5),Oe(r,Ta,5),Oe(r,rr,5),Oe(r,rl,5)),t&2){let l;k(l=E())&&(o._noDataRow=l.first),k(l=E())&&(o._contentColumnDefs=l),k(l=E())&&(o._contentRowDefs=l),k(l=E())&&(o._contentHeaderRowDefs=l),k(l=E())&&(o._contentFooterRowDefs=l)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,o){t&2&&X("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",W],fixedLayout:[2,"fixedLayout","fixedLayout",W]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ze([{provide:Fi,useExisting:n},{provide:vo,useClass:Hn},{provide:Sa,useClass:nl},{provide:ka,useValue:null}])],ngContentSelectors:ig,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,o){t&1&&(Ue(tg),ge(0),ge(1,1),f(2,ng,1,0)(3,og,7,0)(4,rg,4,0)),t&2&&(d(2),ke(o._isServer?2:-1),d(),ke(o._isNativeHtmlTable?3:4))},dependencies:[cl,ll,ml,dl],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return n})();function wa(n,i){return n.concat(Array.from(i))}function Kd(n,i){let e=i.toUpperCase(),t=n.viewContainer.element.nativeElement;for(;t;){let o=t.nodeType===1?t.nodeName:null;if(o===e)return t;if(o==="TABLE")break;t=t.parentNode}return null}var tm=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[Go]})}return n})();var sg=[[["caption"]],[["colgroup"],["col"]],"*"],lg=["caption","colgroup, col","*"];function cg(n,i){n&1&&ge(0,2)}function dg(n,i){n&1&&(s(0,"thead",0),Mt(1,1),a(),s(2,"tbody",2),Mt(3,3)(4,4),a(),s(5,"tfoot",0),Mt(6,5),a())}function mg(n,i){n&1&&Mt(0,1)(1,3)(2,4)(3,5)}var yi=(()=>{class n extends pl{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,o){t&2&&X("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[ze([{provide:pl,useExisting:n},{provide:Fi,useExisting:n},{provide:Sa,useClass:nl},{provide:vo,useClass:Hn},{provide:ka,useValue:null}]),he],ngContentSelectors:lg,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,o){t&1&&(Ue(sg),ge(0),ge(1,1),f(2,cg,1,0)(3,dg,7,0)(4,mg,4,0)),t&2&&(d(2),ke(o._isServer?2:-1),d(),ke(o._isNativeHtmlTable?3:4))},dependencies:[cl,ll,ml,dl],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return n})(),Ci=(()=>{class n extends Ea{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matCellDef",""]],features:[ze([{provide:Ea,useExisting:n}]),he]})}return n})(),Mi=(()=>{class n extends Da{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matHeaderCellDef",""]],features:[ze([{provide:Da,useExisting:n}]),he]})}return n})();var xi=(()=>{class n extends Oo{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[ze([{provide:Oo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),he]})}return n})(),wi=(()=>{class n extends Zd{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[he]})}return n})();var Pi=(()=>{class n extends Jd{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[he]})}return n})();var Oi=(()=>{class n extends rr{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",W]},features:[ze([{provide:rr,useExisting:n}]),he]})}return n})();var Si=(()=>{class n extends Ta{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[ze([{provide:Ta,useExisting:n}]),he]})}return n})(),ki=(()=>{class n extends al{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[ze([{provide:al,useExisting:n}]),he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,o){t&1&&Mt(0,0)},dependencies:[$n],encapsulation:2})}return n})();var Ei=(()=>{class n extends sl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[ze([{provide:sl,useExisting:n}]),he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,o){t&1&&Mt(0,0)},dependencies:[$n],encapsulation:2})}return n})();var qt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me,tm,me]})}return n})(),pg=9007199254740991,vi=class extends Qo{_data;_renderData=new li([]);_filter=new li("");_internalPageChanges=new V;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(i,e)=>{let t=i[e];if(Dc(t)){let o=Number(t);return o<pg?o:t}return t};sortData=(i,e)=>{let t=e.active,o=e.direction;return!t||o==""?i:i.sort((r,l)=>{let m=this.sortingDataAccessor(r,t),u=this.sortingDataAccessor(l,t),g=typeof m,b=typeof u;g!==b&&(g==="number"&&(m+=""),b==="number"&&(u+=""));let w=0;return m!=null&&u!=null?m>u?w=1:m<u&&(w=-1):m!=null?w=1:u!=null&&(w=-1),w*(o=="asc"?1:-1)})};filterPredicate=(i,e)=>{let t=e.trim().toLowerCase();return Object.values(i).some(o=>`${o}`.toLowerCase().includes(t))};constructor(i=[]){super(),this._data=new li(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?tt(this._sort.sortChange,this._sort.initialized):Ne(null),e=this._paginator?tt(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ne(null),t=this._data,o=oo([t,this._filter]).pipe($e(([m])=>this._filterData(m))),r=oo([o,i]).pipe($e(([m])=>this._orderData(m))),l=oo([r,e]).pipe($e(([m])=>this._pageData(m)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=l.subscribe(m=>this._renderData.next(m))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,t);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};function ug(n,i){if(n&1&&(s(0,"mat-card",7)(1,"mat-icon"),c(2,"inventory_2"),a(),s(3,"div",4)(4,"h2"),c(5,"Productos"),a(),s(6,"p"),c(7),a()()()),n&2){let e=_();h("@cardAnim",void 0),d(7),O(e.productos)}}var Ia=class n{constructor(i){this.http=i}productos=0;pedidos=0;usuarios=0;ingresos=0;apiUrl="http://localhost:5000/api/dashboard";ngOnInit(){vr(0,15e3).pipe(Kt(()=>this.http.get(this.apiUrl))).subscribe(i=>{this.animate("productos",i.productos,400),this.animate("pedidos",i.pedidos,400),this.animate("usuarios",i.usuarios,400),this.animate("ingresos",i.ingresos,600)})}animate(i,e,t){let o=this[i],r=typeof o=="number"?o:0,l=e-r,m=10,u=t/m,g=0,b=setInterval(()=>{g++;let w=Math.round(r+l*g/u);this[i]=w,g>=u&&(this[i]=e,clearInterval(b))},m)}formatCurrency(i){return!i||isNaN(i)?"$0.0M COP":`$${(i/1e6).toFixed(1)}M COP`}static \u0275fac=function(e){return new(e||n)(z(it))};static \u0275cmp=x({type:n,selectors:[["app-admin-dashboard"]],decls:27,vars:7,consts:[[1,"dashboard-container"],[1,"stats"],["class","stat-card blue",4,"ngIf"],[1,"stat-card","green"],[1,"stat-info"],[1,"stat-card","yellow"],[1,"stat-card","purple"],[1,"stat-card","blue"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1),f(2,ug,8,2,"mat-card",2),s(3,"mat-card",3)(4,"mat-icon"),c(5,"shopping_cart"),a(),s(6,"div",4)(7,"h2"),c(8,"Pedidos"),a(),s(9,"p"),c(10),a()()(),s(11,"mat-card",5)(12,"mat-icon"),c(13,"group"),a(),s(14,"div",4)(15,"h2"),c(16,"Clientes"),a(),s(17,"p"),c(18),a()()(),s(19,"mat-card",6)(20,"mat-icon"),c(21,"attach_money"),a(),s(22,"div",4)(23,"h2"),c(24,"Ingresos"),a(),s(25,"p"),c(26),a()()()()()),e&2&&(d(2),h("ngIf",t.productos!==null),d(),h("@cardAnim",void 0),d(7),O(t.pedidos),d(),h("@cardAnim",void 0),d(7),O(t.usuarios),d(),h("@cardAnim",void 0),d(7),O(t.formatCurrency(t.ingresos)))},dependencies:[L,Z,kr,be,Se,K,G,qt],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1rem}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:1.2rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:1.2rem;padding:1.2rem;border-radius:20px;color:#fff;min-height:90px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 18px #00000040}.stat-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;flex-shrink:0;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:500}.stat-card.blue[_ngcontent-%COMP%]{background-color:#2196f3}.stat-card.green[_ngcontent-%COMP%]{background-color:#4caf50}.stat-card.yellow[_ngcontent-%COMP%]{background-color:#ffca28;color:#333}.stat-card.purple[_ngcontent-%COMP%]{background-color:#9c27b0}.recent-orders[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem}.recent-orders[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;font-weight:600}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:capitalize}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .pendiente[_ngcontent-%COMP%]{background-color:#ffeb3b;color:#333}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .completado[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.recent-orders[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .cancelado[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"],data:{animation:[Ai("cardAnim",[ai(":enter",[st({opacity:0,transform:"scale(0.95)"}),ri("300ms ease-out",st({opacity:1,transform:"scale(1)"}))])])]}})};var hg=["tooltip"],ul=20;var hl=new q("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=p(Ze);return()=>n.scrollStrategies.reposition({scrollThrottle:ul})}});function om(n){return()=>n.scrollStrategies.reposition({scrollThrottle:ul})}var rm={provide:hl,deps:[Ze],useFactory:om};function am(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var sm=new q("mat-tooltip-default-options",{providedIn:"root",factory:am});var im="tooltip-panel",nm=Ec({passive:!0}),gg=8,fg=8,_g=24,bg=200,Gn=(()=>{class n{_elementRef=p(Q);_ngZone=p(De);_platform=p(nt);_ariaDescriber=p(Ar);_focusMonitor=p(qi);_dir=p(ft);_injector=p(We);_viewContainerRef=p(Ct);_defaultOptions=p(sm,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=lm;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ui(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=ui(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=cn(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=cn(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new V;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=gg}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Pe(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,o])=>{e.removeEventListener(t,o,nm)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(t);this._detach(),this._portal=this._portal||new hi(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=o.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Pe(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let l=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&l._origin instanceof Q)return this._overlayRef;this._detach()}let t=this._injector.get(yo).getAncestorScrollContainers(this._elementRef),o=this._injector.get(Ze),r=o.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return r.positionChanges.pipe(Pe(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=o.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${im}`,scrollStrategy:this._injector.get(hl)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Pe(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Pe(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Pe(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&l.keyCode===27&&!xt(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Pe(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,o=this._getOrigin(),r=this._getOverlayPosition();t.withPositions([this._addOffset(de(de({},o.main),r.main)),this._addOffset(de(de({},o.fallback),r.fallback))])}_addOffset(e){let t=fg,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=o?-t:t:e.originX==="end"&&(e.offsetX=o?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"||t=="below"?o={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:r,y:l}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:r,originY:l}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"?o={overlayX:"center",overlayY:"bottom"}:t=="below"?o={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:r,y:l}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:r,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),It(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:o,originY:r}=e,l;if(t==="center"?this._dir&&this._dir.value==="rtl"?l=o==="end"?"left":"right":l=o==="start"?"left":"right":l=t==="bottom"&&r==="top"?"above":"below",l!==this._currentPosition){let m=this._overlayRef;if(m){let u=`${this._cssClassPrefix}-${im}-`;m.removePanelClass(u+this._currentPosition),m.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],o=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions?.touchLongPressShowDelay??r)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let o=t.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,o])=>{this._elementRef.nativeElement.addEventListener(t,o,nm)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._injector.get(Te).elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;t!==o&&!o.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,o=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!t.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||It({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,o){t&2&&X("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),lm=(()=>{class n{_changeDetectorRef=p(Ve);_elementRef=p(Q);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new V;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=p(Be,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>_g&&e.width>=bg}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,o=this._showAnimation,r=this._hideAnimation;if(t.classList.remove(e?r:o),t.classList.add(e?o:r),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let l=getComputedStyle(t);(l.getPropertyValue("animation-duration")==="0s"||l.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,o){if(t&1&&Y(hg,7),t&2){let r;k(r=E())&&(o._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,o){t&1&&v("mouseleave",function(l){return o._handleMouseLeave(l)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,o){if(t&1){let r=S();s(0,"div",1,0),v("animationend",function(m){return y(r),C(o._handleAnimationEnd(m))}),s(2,"div",2),c(3),a()()}t&2&&(X("mdc-tooltip--multiline",o._isMultiline),h("ngClass",o.tooltipClass),d(3),O(o.message))},dependencies:[Ht],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})(),Kn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[rm],imports:[Ir,ii,me,me,pn]})}return n})();function vg(n,i){if(n&1&&(s(0,"mat-option",17),c(1),a()),n&2){let e=i.$implicit;h("value",e),d(),P(" ",e," ")}}function yg(n,i){if(n&1){let e=S();s(0,"mat-form-field",14)(1,"mat-select",16,0),v("selectionChange",function(o){y(e);let r=_(2);return C(r._changePageSize(o.value))}),Vo(3,vg,2,2,"mat-option",17,zo),a(),s(5,"div",18),v("click",function(){y(e);let o=fe(2);return C(o.open())}),a()()}if(n&2){let e=_(2);h("appearance",e._formFieldAppearance)("color",e.color),d(),h("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),d(2),jo(e._displayedPageSizeOptions)}}function Cg(n,i){if(n&1&&(s(0,"div",15),c(1),a()),n&2){let e=_(2);d(),O(e.pageSize)}}function Mg(n,i){if(n&1&&(s(0,"div",3)(1,"div",13),c(2),a(),f(3,yg,6,7,"mat-form-field",14)(4,Cg,2,1,"div",15),a()),n&2){let e=_();d(),ee("id",e._pageSizeLabelId),d(),P(" ",e._intl.itemsPerPageLabel," "),d(),ke(e._displayedPageSizeOptions.length>1?3:-1),d(),ke(e._displayedPageSizeOptions.length<=1?4:-1)}}function xg(n,i){if(n&1){let e=S();s(0,"button",19),v("click",function(){y(e);let o=_();return C(o._buttonClicked(0,o._previousButtonsDisabled()))}),zt(),s(1,"svg",8),M(2,"path",20),a()()}if(n&2){let e=_();h("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),ee("aria-label",e._intl.firstPageLabel)}}function wg(n,i){if(n&1){let e=S();s(0,"button",21),v("click",function(){y(e);let o=_();return C(o._buttonClicked(o.getNumberOfPages()-1,o._nextButtonsDisabled()))}),zt(),s(1,"svg",8),M(2,"path",22),a()()}if(n&2){let e=_();h("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),ee("aria-label",e._intl.lastPageLabel)}}var Ra=(()=>{class n{changes=new V;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,t,o)=>{if(o==0||t==0)return`0 of ${o}`;o=Math.max(o,0);let r=e*t,l=r<o?Math.min(r+t,o):r+t;return`${r+1} \u2013 ${l} of ${o}`};static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pg(n){return n||new Ra}var Og={provide:Ra,deps:[[new ao,new Lo,Ra]],useFactory:Pg},Sg=50;var kg=new q("MAT_PAGINATOR_DEFAULT_OPTIONS"),Et=(()=>{class n{_intl=p(Ra);_changeDetectorRef=p(Ve);_formFieldAppearance;_pageSizeLabelId=p(gt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new _r(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>Rt(t,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new ce;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,t=p(kg,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),t){let{pageSize:o,pageSizeOptions:r,hidePageSize:l,showFirstLastButtons:m}=t;o!=null&&(this._pageSize=o),r!=null&&(this._pageSizeOptions=r),l!=null&&(this.hidePageSize=l),m!=null&&(this.showFirstLastButtons=m)}this._formFieldAppearance=t?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Sg),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let t=this.pageIndex;e!==t&&(this.pageIndex=e,this._emitPageEvent(t))}_buttonClicked(e,t){t||this._navigate(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Rt],length:[2,"length","length",Rt],pageSize:[2,"pageSize","pageSize",Rt],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",W],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",W],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",W]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,o){t&1&&(s(0,"div",1)(1,"div",2),f(2,Mg,5,4,"div",3),s(3,"div",4)(4,"div",5),c(5),a(),f(6,xg,3,5,"button",6),s(7,"button",7),v("click",function(){return o._buttonClicked(o.pageIndex-1,o._previousButtonsDisabled())}),zt(),s(8,"svg",8),M(9,"path",9),a()(),No(),s(10,"button",10),v("click",function(){return o._buttonClicked(o.pageIndex+1,o._nextButtonsDisabled())}),zt(),s(11,"svg",8),M(12,"path",11),a()(),f(13,wg,3,5,"button",12),a()()()),t&2&&(d(2),ke(o.hidePageSize?-1:2),d(3),P(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),d(),ke(o.showFirstLastButtons?6:-1),d(),h("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("disabled",o._previousButtonsDisabled())("tabindex",o._previousButtonsDisabled()?-1:null),ee("aria-label",o._intl.previousPageLabel),d(3),h("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("disabled",o._nextButtonsDisabled())("tabindex",o._nextButtonsDisabled()?-1:null),ee("aria-label",o._intl.nextPageLabel),d(3),ke(o.showFirstLastButtons?13:-1))},dependencies:[Fe,Ii,ni,dt,Gn],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),an=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Og],imports:[$,kt,Kn,Et]})}return n})();var Aa=class n{constructor(i){this.http=i}apiUrl="http://localhost:5000/api/usuarios";obtenerUsuarios(){let i=localStorage.getItem("token"),e=i?new ei().set("Authorization",`Bearer ${i}`):void 0;return this.http.get(this.apiUrl,{headers:e})}actualizarRol(i,e){let t=localStorage.getItem("token"),o=t?new ei().set("Authorization",`Bearer ${t}`):void 0;return this.http.put(`${this.apiUrl}/${i}/rol`,{rol:e},{headers:o})}static \u0275fac=function(e){return new(e||n)(vt(it))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var Eg=["clientesPaginator"],Dg=["vendedoresPaginator"];function Tg(n,i){n&1&&(s(0,"th",17),c(1,"Nombre"),a())}function Ig(n,i){if(n&1&&(s(0,"td",18),c(1),a()),n&2){let e=i.$implicit;d(),O(e.nombre)}}function Rg(n,i){n&1&&(s(0,"th",17),c(1,"Correo"),a())}function Ag(n,i){if(n&1&&(s(0,"td",18),c(1),a()),n&2){let e=i.$implicit;d(),O(e.correo)}}function Fg(n,i){n&1&&(s(0,"th",17),c(1,"Rol"),a())}function Lg(n,i){if(n&1){let e=S();s(0,"td",18)(1,"mat-form-field",19)(2,"mat-select",20),v("selectionChange",function(o){let r=y(e).$implicit,l=_();return C(l.actualizarRol(r,o.value))}),s(3,"mat-option",21),c(4,"Cliente"),a(),s(5,"mat-option",22),c(6,"Vendedor"),a(),s(7,"mat-option",23),c(8,"Administrador"),a()()()()}if(n&2){let e=i.$implicit;d(2),h("value",e.rol)}}function Ng(n,i){n&1&&M(0,"tr",24)}function Bg(n,i){n&1&&M(0,"tr",25)}function zg(n,i){n&1&&(s(0,"th",17),c(1,"Nombre"),a())}function Vg(n,i){if(n&1&&(s(0,"td",18),c(1),a()),n&2){let e=i.$implicit;d(),O(e.nombre)}}function jg(n,i){n&1&&(s(0,"th",17),c(1,"Correo"),a())}function Hg(n,i){if(n&1&&(s(0,"td",18),c(1),a()),n&2){let e=i.$implicit;d(),O(e.correo)}}function Wg(n,i){n&1&&(s(0,"th",17),c(1,"Rol"),a())}function Ug(n,i){if(n&1){let e=S();s(0,"td",18)(1,"mat-form-field",19)(2,"mat-select",20),v("selectionChange",function(o){let r=y(e).$implicit,l=_();return C(l.actualizarRol(r,o.value))}),s(3,"mat-option",21),c(4,"Cliente"),a(),s(5,"mat-option",22),c(6,"Vendedor"),a(),s(7,"mat-option",23),c(8,"Administrador"),a()()()()}if(n&2){let e=i.$implicit;d(2),h("value",e.rol)}}function qg(n,i){n&1&&M(0,"tr",24)}function Qg(n,i){n&1&&M(0,"tr",25)}var Fa=class n{usuarioService=p(Aa);displayedColumns=["nombre","correo","rol"];clientesDataSource=new vi([]);vendedoresDataSource=new vi([]);clientesPaginator;vendedoresPaginator;ngOnInit(){this.cargarUsuarios()}ngAfterViewInit(){this.clientesPaginator&&(this.clientesDataSource.paginator=this.clientesPaginator),this.vendedoresPaginator&&(this.vendedoresDataSource.paginator=this.vendedoresPaginator)}cargarUsuarios(){this.usuarioService.obtenerUsuarios().subscribe(i=>{this.clientesDataSource.data=i.filter(e=>e.rol==="cliente"),this.vendedoresDataSource.data=i.filter(e=>e.rol==="vendedor")})}aplicarFiltro(i,e){let t=i.trim().toLowerCase();e==="cliente"?(this.clientesDataSource.filterPredicate=(o,r)=>o.nombre.toLowerCase().includes(r)||o.correo.toLowerCase().includes(r),this.clientesDataSource.filter=t,this.clientesDataSource.paginator&&this.clientesDataSource.paginator.firstPage()):e==="vendedor"&&(this.vendedoresDataSource.filterPredicate=(o,r)=>o.nombre.toLowerCase().includes(r)||o.correo.toLowerCase().includes(r),this.vendedoresDataSource.filter=t,this.vendedoresDataSource.paginator&&this.vendedoresDataSource.paginator.firstPage())}actualizarRol(i,e){let t=e;i.rol!==t&&this.usuarioService.actualizarRol(i._id,t).subscribe({next:()=>{i.rol=t,this.cargarUsuarios()},error:()=>{alert("Error al actualizar el rol")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-user-management"]],viewQuery:function(e,t){if(e&1&&(Y(Eg,5),Y(Dg,5)),e&2){let o;k(o=E())&&(t.clientesPaginator=o.first),k(o=E())&&(t.vendedoresPaginator=o.first)}},decls:45,vars:8,consts:[["inputCliente",""],["clientesPaginator",""],["inputVendedor",""],["vendedoresPaginator",""],[1,"user-section"],[1,"user-card"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Buscar por nombre o correo",3,"keyup"],["mat-table","",1,"mat-elevation-z2","full-width",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","correo"],["matColumnDef","rol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize"],["mat-header-cell",""],["mat-cell",""],["appearance","fill"],[3,"selectionChange","value"],["value","cliente"],["value","vendedor"],["value","admin"],["mat-header-row",""],["mat-row",""]],template:function(e,t){if(e&1){let o=S();s(0,"div",4)(1,"mat-card",5)(2,"h2"),c(3,"Clientes"),a(),s(4,"mat-form-field",6)(5,"mat-label"),c(6,"Buscar cliente"),a(),s(7,"input",7,0),v("keyup",function(){y(o);let l=fe(8);return C(t.aplicarFiltro(l.value,"cliente"))}),a()(),s(9,"table",8),D(10,9),f(11,Tg,2,0,"th",10)(12,Ig,2,1,"td",11),T(),D(13,12),f(14,Rg,2,0,"th",10)(15,Ag,2,1,"td",11),T(),D(16,13),f(17,Fg,2,0,"th",10)(18,Lg,9,1,"td",11),T(),f(19,Ng,1,0,"tr",14)(20,Bg,1,0,"tr",15),a(),M(21,"mat-paginator",16,1),a(),s(23,"mat-card",5)(24,"h2"),c(25,"Vendedores"),a(),s(26,"mat-form-field",6)(27,"mat-label"),c(28,"Buscar vendedor"),a(),s(29,"input",7,2),v("keyup",function(){y(o);let l=fe(30);return C(t.aplicarFiltro(l.value,"vendedor"))}),a()(),s(31,"table",8),D(32,9),f(33,zg,2,0,"th",10)(34,Vg,2,1,"td",11),T(),D(35,12),f(36,jg,2,0,"th",10)(37,Hg,2,1,"td",11),T(),D(38,13),f(39,Wg,2,0,"th",10)(40,Ug,9,1,"td",11),T(),f(41,qg,1,0,"tr",14)(42,Qg,1,0,"tr",15),a(),M(43,"mat-paginator",16,3),a()()}e&2&&(d(9),h("dataSource",t.clientesDataSource),d(10),h("matHeaderRowDef",t.displayedColumns),d(),h("matRowDefColumns",t.displayedColumns),d(),h("pageSize",5),d(10),h("dataSource",t.vendedoresDataSource),d(10),h("matHeaderRowDef",t.displayedColumns),d(),h("matRowDefColumns",t.displayedColumns),d(),h("pageSize",5))},dependencies:[L,Ae,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,an,Et,je,Fe,Xe,Le,He,kt,Ii,ni,$,K,be,Se],styles:[".user-section[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap;justify-content:center;margin:2rem 1rem;animation:_ngcontent-%COMP%_fadeInUp .5s ease forwards}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:2rem 1.5rem;background:#fff;border-radius:12px;box-shadow:0 8px 20px #00000014;transition:box-shadow .3s ease,transform .3s ease}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 32px #00000026;transform:translateY(-6px)}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-weight:700;font-size:1.75rem;color:#212121;letter-spacing:.03em;-webkit-user-select:none;user-select:none}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem 1rem;font-size:1rem;color:#424242;vertical-align:middle}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#1976d2;border-bottom:2px solid #e3f2fd;text-transform:uppercase;letter-spacing:.04em}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fefefe;border-radius:8px;transition:background-color .25s ease}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:.4rem}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{font-size:1rem;color:#212121}.user-section[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#1976d2!important;font-weight:600}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function Yg(n,i){if(n&1&&M(0,"img",10),n&2){let e=_().$implicit;h("src",e.producto==null?null:e.producto.imagen,xe)}}function $g(n,i){if(n&1&&(s(0,"div",7),f(1,Yg,1,1,"img",8),s(2,"div",9)(3,"p")(4,"strong"),c(5,"Nombre:"),a(),c(6),a(),s(7,"p")(8,"strong"),c(9,"Precio:"),a(),c(10),H(11,"number"),a(),s(12,"p")(13,"strong"),c(14,"Cantidad:"),a(),c(15),a(),s(16,"p")(17,"strong"),c(18,"Subtotal:"),a(),c(19),H(20,"number"),a()()()),n&2){let e=i.$implicit;d(),h("ngIf",e.producto==null?null:e.producto.imagen),d(5),P(" ",e.producto==null?null:e.producto.nombre,""),d(4),P(" $",le(11,5,e.producto==null?null:e.producto.precio,"1.0-0"),""),d(5),P(" ",e.cantidad,""),d(4),P(" $",le(20,8,(e.producto==null?null:e.producto.precio)*e.cantidad,"1.0-0"),"")}}function Gg(n,i){if(n&1&&(s(0,"mat-dialog-content")(1,"div",4)(2,"p")(3,"strong"),c(4,"Cliente:"),a(),c(5),a(),s(6,"p")(7,"strong"),c(8,"Fecha:"),a(),c(9),H(10,"date"),a(),s(11,"p")(12,"strong"),c(13,"Estado:"),a(),c(14),a(),s(15,"p")(16,"strong"),c(17,"Total:"),a(),c(18),H(19,"number"),a()(),s(20,"div",5)(21,"h3"),c(22,"Productos"),a(),f(23,$g,21,11,"div",6),a()()),n&2){let e=_();d(5),P(" ",(e.data.pedido.cliente==null?null:e.data.pedido.cliente.nombre)||"Sin nombre",""),d(4),P(" ",le(10,5,e.data.pedido.fecha,"short"),""),d(5),P(" ",e.data.pedido.estado,""),d(4),P(" $",le(19,8,e.data.pedido.total,"1.0-0"),""),d(5),h("ngForOf",e.data.pedido.productos)}}var La=class n{constructor(i){this.data=i}getTotal(){return this.data?.productos?.reduce((i,e)=>i+e.precio*e.cantidad,0)||0}static \u0275fac=function(e){return new(e||n)(z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-order-summary"]],decls:6,vars:1,consts:[["mat-dialog-title",""],[4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"pedido-info"],[1,"productos-container"],["class","producto-card",4,"ngFor","ngForOf"],[1,"producto-card"],["alt","imagen producto","class","producto-imagen",3,"src",4,"ngIf"],[1,"producto-detalle"],["alt","imagen producto",1,"producto-imagen",3,"src"]],template:function(e,t){e&1&&(s(0,"h2",0),c(1,"Resumen del Pedido"),a(),f(2,Gg,24,11,"mat-dialog-content",1),s(3,"mat-dialog-actions",2)(4,"button",3),c(5,"Cerrar"),a()()),e&2&&(d(2),h("ngIf",t.data==null?null:t.data.pedido))},dependencies:[L,_e,Z,Wt,Zt,ut,Un,qn,Yn,Qn,be,tn,ba,$,oe],styles:[".pedido-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.productos-container[_ngcontent-%COMP%]{margin-top:1rem}.producto-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f4f6f8;border-radius:8px;padding:10px;margin-bottom:10px}.producto-imagen[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px;border-radius:6px;border:1px solid #ccc}.producto-detalle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0}.comprobante-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.comprobante-img[_ngcontent-%COMP%]{width:200px;border-radius:6px;border:1px solid #ccc}"]})};var Kg=()=>[5,10,20];function Xg(n,i){if(n&1){let e=S();s(0,"button",8),v("click",function(){y(e);let o=_();return o.searchText="",C(o.filtrarPedidos())}),s(1,"mat-icon"),c(2,"close"),a()()}}function Zg(n,i){n&1&&(s(0,"th",23),c(1,"Fecha"),a())}function Jg(n,i){if(n&1&&(s(0,"td",24),c(1),H(2,"date"),a()),n&2){let e=i.$implicit;d(),O(le(2,1,e.fecha,"short"))}}function ef(n,i){n&1&&(s(0,"th",23),c(1,"Total"),a())}function tf(n,i){if(n&1&&(s(0,"td",24),c(1),H(2,"number"),a()),n&2){let e=i.$implicit;d(),P("$",le(2,1,e.total,"1.0-0"),"")}}function nf(n,i){n&1&&(s(0,"th",23),c(1,"Estado del pedido"),a())}function of(n,i){if(n&1&&(s(0,"mat-option",28),c(1),H(2,"titlecase"),a()),n&2){let e=i.$implicit;h("value",e),d(),P(" ",Xt(2,2,e)," ")}}function rf(n,i){if(n&1){let e=S();s(0,"td",24)(1,"mat-form-field",25)(2,"mat-select",26),ne("ngModelChange",function(o){let r=y(e).$implicit;return ie(r.estado,o)||(r.estado=o),C(o)}),f(3,of,3,4,"mat-option",27),a()()()}if(n&2){let e=i.$implicit,t=_(2);d(2),te("ngModel",e.estado),d(),h("ngForOf",t.estadosPedido)}}function af(n,i){n&1&&(s(0,"th",23),c(1,"Estado del comprobante"),a())}function sf(n,i){if(n&1&&(s(0,"mat-option",28),c(1),H(2,"titlecase"),a()),n&2){let e=i.$implicit;h("value",e),d(),P(" ",Xt(2,2,e)," ")}}function lf(n,i){if(n&1){let e=S();s(0,"td",24)(1,"mat-form-field",25)(2,"mat-select",26),ne("ngModelChange",function(o){let r=y(e).$implicit;return ie(r.estadoComprobante,o)||(r.estadoComprobante=o),C(o)}),f(3,sf,3,4,"mat-option",27),a()()()}if(n&2){let e=i.$implicit,t=_(2);d(2),te("ngModel",e.estadoComprobante),d(),h("ngForOf",t.estadosComprobante)}}function cf(n,i){n&1&&(s(0,"th",23),c(1,"Comprobante"),a())}function df(n,i){if(n&1){let e=S();D(0),s(1,"img",30),v("click",function(){y(e);let o=_().$implicit,r=_(2);return C(r.abrirComprobante(o))}),a(),T()}if(n&2){let e=_().$implicit,t=_(2);d(),h("src",t.getComprobanteUrl(e),xe)}}function mf(n,i){n&1&&(s(0,"span",31),c(1,"Sin comprobante"),a())}function pf(n,i){if(n&1&&(s(0,"td",24),f(1,df,2,1,"ng-container",29)(2,mf,2,0,"ng-template",null,1,qe),a()),n&2){let e=i.$implicit,t=fe(3);d(),h("ngIf",e.comprobante)("ngIfElse",t)}}function uf(n,i){n&1&&(s(0,"th",23),c(1,"Ciudad"),a())}function hf(n,i){if(n&1&&(s(0,"td",24),c(1),a()),n&2){let e=i.$implicit;d(),O(e.ciudad)}}function gf(n,i){n&1&&(s(0,"th",23),c(1,"Acciones"),a())}function ff(n,i){if(n&1){let e=S();s(0,"td",24)(1,"button",32),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.verPedido(o))}),s(2,"mat-icon"),c(3,"visibility"),a()(),s(4,"button",33),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.guardarEstados(o))}),c(5," Guardar "),a()()}}function _f(n,i){n&1&&M(0,"tr",34)}function bf(n,i){n&1&&M(0,"tr",35)}function vf(n,i){if(n&1){let e=S();s(0,"div",9)(1,"table",10),D(2,11),f(3,Zg,2,0,"th",12)(4,Jg,3,4,"td",13),T(),D(5,14),f(6,ef,2,0,"th",12)(7,tf,3,4,"td",13),T(),D(8,15),f(9,nf,2,0,"th",12)(10,rf,4,2,"td",13),T(),D(11,16),f(12,af,2,0,"th",12)(13,lf,4,2,"td",13),T(),D(14,17),f(15,cf,2,0,"th",12)(16,pf,4,2,"td",13),T(),D(17,18),f(18,uf,2,0,"th",12)(19,hf,2,1,"td",13),T(),D(20,19),f(21,gf,2,0,"th",12)(22,ff,6,0,"td",13),T(),f(23,_f,1,0,"tr",20)(24,bf,1,0,"tr",21),a(),s(25,"mat-paginator",22),v("page",function(o){y(e);let r=_();return C(r.onPageChange(o))}),a()()}if(n&2){let e=_();d(),h("dataSource",e.pagedPedidos),d(22),h("matHeaderRowDef",e.columnas),d(),h("matRowDefColumns",e.columnas),d(),h("length",e.pedidosFiltrados.length)("pageSize",e.pageSize)("pageSizeOptions",ht(6,Kg))}}function yf(n,i){n&1&&(s(0,"p",36),c(1,"No se encontraron pedidos para este cliente."),a())}var Na=class n{constructor(i,e,t){this.orderService=i;this.data=e;this.dialog=t}columnas=["fecha","total","estado","estadoComprobante","comprobante","acciones"];pedidos=[];pedidosFiltrados=[];pageSize=5;currentPage=0;searchText="";estadosPedido=["pendiente","verificado","rechazado","enviado"];estadosComprobante=["pendiente","aprobado","rechazado"];ngOnInit(){console.log("ID del cliente recibido:",this.data?.clienteId),this.data?.clienteId&&this.cargarPedidosCliente(this.data.clienteId)}cargarPedidosCliente(i){this.orderService.getPedidosPorCliente(i).subscribe({next:e=>{this.pedidos=e.map(t=>Gt(de({},t),{estado:t.estado||"pendiente",estadoOriginal:t.estado||"pendiente",estadoComprobante:t.estadoComprobante||"pendiente",estadoComprobanteOriginal:t.estadoComprobante||"pendiente"})),this.pedidosFiltrados=[...this.pedidos]},error:e=>{console.error("Error cargando pedidos del cliente:",e)}})}getComprobanteUrl(i){return i?.comprobante?i.comprobante.startsWith("http")?i.comprobante:`http://localhost:5000${i.comprobante}`:""}guardarEstados(i){if(!i._id)return;let e=[];if(i.estado!==i.estadoOriginal&&e.push(new Promise((t,o)=>{this.orderService.actualizarEstadoPedido(i._id,i.estado).subscribe({next:()=>{i.estadoOriginal=i.estado,console.log("\u2705 Estado del pedido actualizado"),t(!0)},error:r=>{console.error("\u274C Error al actualizar estado del pedido:",r),o(r)}})})),i.estadoComprobante!==i.estadoComprobanteOriginal){let t=i.estadoComprobante??"pendiente";e.push(new Promise((o,r)=>{this.orderService.actualizarEstadoComprobante(i._id,t).subscribe({next:()=>{i.estadoComprobanteOriginal=t,console.log("\u2705 Estado del comprobante actualizado"),o(!0)},error:l=>{console.error("\u274C Error al actualizar estado del comprobante:",l),r(l)}})}))}if(e.length===0){console.log("\u2139\uFE0F No hay cambios para guardar.");return}Promise.all(e).then(()=>console.log("\u2705 Todos los cambios guardados.")).catch(()=>console.warn("\u26A0\uFE0F Algunos cambios no se pudieron guardar."))}filtrarPedidos(){let i=this.searchText.toLowerCase();this.pedidosFiltrados=this.pedidos.filter(e=>(e.estadoComprobante?.toLowerCase().includes(i)??!1)||(e.estado?.toLowerCase().includes(i)??!1)||e.fecha&&new Date(e.fecha).toLocaleDateString().includes(i)||e.total.toString().includes(i)),this.currentPage=0}get pagedPedidos(){let i=this.currentPage*this.pageSize;return this.pedidosFiltrados.slice(i,i+this.pageSize)}onPageChange(i){this.currentPage=i.pageIndex,this.pageSize=i.pageSize}verDetalles(i){console.log("Ver detalles del pedido:",i)}descargarComprobante(i){let e=this.getComprobanteUrl(i);e&&window.open(e,"_blank")}abrirComprobante(i){let e=this.getComprobanteUrl(i);e&&window.open(e,"_blank")}verPedido(i){this.dialog.open(La,{data:{pedido:i},width:"600px"})}static \u0275fac=function(e){return new(e||n)(z(pt),z(Pt),z(Ot))};static \u0275cmp=x({type:n,selectors:[["app-cliente-orders-modal"]],decls:11,vars:4,consts:[["sinPedidos",""],["noComprobante",""],[1,"cliente-pedidos-card"],[1,"titulo-pedidos"],["appearance","outline",1,"buscador"],["matInput","","placeholder","Buscar por estado o ciudad",3,"ngModelChange","input","ngModel"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["class","tabla-wrapper",4,"ngIf","ngIfElse"],["mat-icon-button","","matSuffix","",3,"click"],[1,"tabla-wrapper"],["mat-table","",1,"mat-elevation-z8","tabla-pedidos",3,"dataSource"],["matColumnDef","fecha"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","total"],["matColumnDef","estado"],["matColumnDef","estadoComprobante"],["matColumnDef","comprobante"],["matColumnDef","ciudad"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["appearance","fill"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf","ngIfElse"],["alt","Comprobante","width","40",1,"comprobante-img",2,"cursor","pointer","border-radius","4px",3,"click","src"],[1,"text-muted"],["mat-icon-button","","color","primary","matTooltip","Ver detalles del pedido",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"texto-vacio"]],template:function(e,t){if(e&1){let o=S();s(0,"mat-card",2)(1,"h2",3),c(2,"Pedidos del Cliente"),a(),s(3,"mat-form-field",4)(4,"mat-label"),c(5,"Buscar"),a(),s(6,"input",5),ne("ngModelChange",function(l){return y(o),ie(t.searchText,l)||(t.searchText=l),C(l)}),v("input",function(){return y(o),C(t.filtrarPedidos())}),a(),f(7,Xg,3,0,"button",6),a(),f(8,vf,26,7,"div",7)(9,yf,2,0,"ng-template",null,0,qe),a()}if(e&2){let o=fe(10);d(6),te("ngModel",t.searchText),d(),h("ngIf",t.searchText),d(),h("ngIf",t.pagedPedidos.length>0)("ngIfElse",o)}},dependencies:[L,_e,Z,Wt,pi,Zt,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,an,Et,je,Fe,Xe,Zi,Le,He,K,G,$,oe,dt,be,Se,kt,Ii,ni,Ae,Ie,Re,Ke],styles:[".cliente-pedidos-card[_ngcontent-%COMP%]{width:100%;max-height:90vh;overflow-y:auto;margin:2rem auto;padding:2rem;border-radius:1.5rem;background:linear-gradient(145deg,#fff,#f8f9fa);box-shadow:0 12px 32px #0000001f;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;display:flex;flex-direction:column;gap:1.5rem}.cliente-pedidos-card[_ngcontent-%COMP%]   .titulo-pedidos[_ngcontent-%COMP%]{text-align:center;font-size:2.2rem;font-weight:700;color:#263238;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem}.cliente-pedidos-card[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.cliente-pedidos-card[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1rem;border-radius:.75rem;border:1px solid #ccc;width:260px;transition:all .3s ease}.cliente-pedidos-card[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1e88e5;box-shadow:0 0 0 3px #1e88e533}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;overflow-x:auto}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#0d47a1;font-weight:700;padding:1rem;font-size:1rem;text-transform:uppercase;letter-spacing:.5px}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem;color:#37474f;vertical-align:middle}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease;box-shadow:0 4px 8px #0000001a;max-width:80px;max-height:80px;object-fit:cover;border-radius:.5rem;cursor:pointer}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1e88e5;transition:color .3s ease}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#0d47a1}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{border-bottom:2px solid #90caf9}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.cliente-pedidos-card[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}.cliente-pedidos-card[_ngcontent-%COMP%]   .texto-vacio[_ngcontent-%COMP%]{text-align:center;color:#9e9e9e;font-style:italic;font-size:1.1rem;margin-top:2rem}  .mat-mdc-dialog-surface{max-width:none!important;height:auto;max-height:90vh;padding:2rem;border-radius:1rem;background-color:#fff!important;box-shadow:0 20px 50px #00000040!important;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function Cf(n,i){if(n&1&&(s(0,"tr")(1,"td",17),M(2,"img",18),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),H(9,"currency"),a(),s(10,"td"),c(11),H(12,"currency"),a()()),n&2){let e=i.$implicit;d(2),ji("alt",e==null||e.producto==null?null:e.producto.nombre),h("src",(e==null||e.producto==null?null:e.producto.imagen)||"assets/img/no-image.png",xe),d(2),O((e==null||e.producto==null?null:e.producto.nombre)||"Sin nombre"),d(2),O(e==null?null:e.cantidad),d(2),O(le(9,6,e==null||e.producto==null?null:e.producto.precio,"COP")),d(3),O(le(12,9,(e==null||e.producto==null?null:e.producto.precio)*(e==null?null:e.cantidad),"COP"))}}function Mf(n,i){if(n&1&&(s(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th"),c(5,"Imagen"),a(),s(6,"th"),c(7,"Producto"),a(),s(8,"th"),c(9,"Cantidad"),a(),s(10,"th"),c(11,"Precio Unitario"),a(),s(12,"th"),c(13,"Subtotal"),a()()(),s(14,"tbody"),f(15,Cf,13,12,"tr",13),a(),s(16,"tfoot")(17,"tr",14)(18,"td",15),c(19,"Total del Pedido:"),a(),s(20,"td",16),c(21),H(22,"currency"),a()()()()()),n&2){let e=_();d(15),h("ngForOf",e.order.productos),d(6),O(le(22,2,e.totalPedido,"COP"))}}function xf(n,i){n&1&&(s(0,"p",19),c(1,"Este pedido no tiene productos registrados."),a())}var Ba=class n{constructor(i,e){this.dialogRef=i;this.data=e;this.order=e?.order}order;totalPedido=0;ngOnInit(){this.calcularTotal()}calcularTotal(){this.order?.productos?.length&&(this.totalPedido=this.order.productos.reduce((i,e)=>i+(e?.producto?.precio||0)*(e?.cantidad||0),0))}cerrar(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||n)(z(wt),z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-seller-order-products-modal"]],inputs:{order:"order"},decls:23,vars:7,consts:[["sinProductos",""],[1,"pedido-modal-container"],[1,"modal-header"],[1,"header-left"],[1,"pedido-id"],[1,"pedido-fecha"],[1,"close-btn",3,"click"],[1,"productos-section"],["class","productos-table-wrapper",4,"ngIf","ngIfElse"],[1,"modal-actions"],[1,"btn-cerrar",3,"click"],[1,"productos-table-wrapper"],[1,"productos-table"],[4,"ngFor","ngForOf"],[1,"total-row"],["colspan","4",1,"total-label"],[1,"total-value"],[1,"img-cell"],[3,"src","alt"],[1,"no-productos"]],template:function(e,t){if(e&1){let o=S();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2")(4,"mat-icon"),c(5,"receipt_long"),a(),c(6," Detalle del Pedido "),a(),s(7,"p",4),c(8),a(),s(9,"p",5),c(10),H(11,"date"),a()(),s(12,"button",6),v("click",function(){return y(o),C(t.cerrar())}),c(13,"\u2716"),a()(),s(14,"div",7)(15,"h3"),c(16,"\u{1F6CD} Productos incluidos"),a(),f(17,Mf,23,5,"div",8)(18,xf,2,0,"ng-template",null,0,qe),a(),s(20,"div",9)(21,"button",10),v("click",function(){return y(o),C(t.cerrar())}),c(22,"Cerrar"),a()()()}if(e&2){let o=fe(19);d(8),P("ID: ",t.order==null?null:t.order._id,""),d(2),P(" Fecha: ",le(11,4,t.order==null?null:t.order.fecha,"short")," "),d(7),h("ngIf",(t.order==null||t.order.productos==null?null:t.order.productos.length)>0)("ngIfElse",o)}},dependencies:[L,_e,Z,Jt,Zt,ut,G],styles:[".pedido-modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1rem;box-shadow:0 8px 28px #00000026;width:100%;margin:0 auto;font-family:Poppins,Segoe UI,sans-serif;color:#333}.pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;border-bottom:2px solid #eaeaea;padding-bottom:.8rem;margin-bottom:1.2rem}.pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:#164a9c;display:flex;align-items:center;gap:.4rem}.pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .pedido-id[_ngcontent-%COMP%], .pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .pedido-fecha[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:.1rem 0}.pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.3rem;color:#444;cursor:pointer;transition:all .3s ease}.pedido-modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#164a9c;transform:scale(1.1)}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#164a9c;margin-bottom:1rem;font-weight:600}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:10px;border:1px solid #eee;background:#fafafa}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#164a9c;color:#fff;font-weight:500;padding:.8rem;text-align:center}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem;text-align:center;border-bottom:1px solid #eaeaea}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   .img-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px;border:1px solid #ddd}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:#f4f6fb;font-weight:600}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{text-align:right;color:#164a9c;padding-right:1rem}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{color:#164a9c}.pedido-modal-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .no-productos[_ngcontent-%COMP%]{text-align:center;color:#777;margin:1.5rem 0;font-weight:500}.pedido-modal-container[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{text-align:center;margin-top:1.8rem}.pedido-modal-container[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#164a9c,#1e5bcc);color:#fff;padding:.6rem 1.4rem;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.pedido-modal-container[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:hover{background:#123a7a;transform:translateY(-2px);box-shadow:0 4px 10px #164a9c40}@media (max-width: 768px){.pedido-modal-container[_ngcontent-%COMP%]{padding:1.2rem}.pedido-modal-container[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pedido-modal-container[_ngcontent-%COMP%]   .productos-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.85rem;padding:.6rem}.pedido-modal-container[_ngcontent-%COMP%]   .img-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}}"]})};var wf=["productosModal"];function Pf(n,i){if(n&1&&(s(0,"span",10),c(1),a()),n&2){let e=_();d(),P(" ",e.data.vendedorNombre," ")}}function Of(n,i){if(n&1){let e=S();s(0,"div",11)(1,"input",12),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.searchTerm,o)||(r.searchTerm=o),C(o)}),v("input",function(){y(e);let o=_();return C(o.filtrarPedidos())}),a()()}if(n&2){let e=_();d(),te("ngModel",e.searchTerm)}}function Sf(n,i){n&1&&(s(0,"div",13)(1,"p"),c(2,"Cargando pedidos del vendedor..."),a()())}function kf(n,i){if(n&1&&(s(0,"div",14)(1,"p"),c(2),a()()),n&2){let e=_();d(2),O(e.errorMessage)}}function Ef(n,i){if(n&1){let e=S();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),H(7,"date"),a(),s(8,"td"),c(9),H(10,"currency"),a(),s(11,"td")(12,"select",18),ne("ngModelChange",function(o){let r=y(e).$implicit;return ie(r.estado,o)||(r.estado=o),C(o)}),v("change",function(){let o=y(e).$implicit,r=_(2);return C(r.cambiarEstado(o._id,o.estado))}),s(13,"option",19),c(14,"Pendiente"),a(),s(15,"option",20),c(16,"Enviado"),a(),s(17,"option",21),c(18,"Verificado"),a(),s(19,"option",22),c(20,"Rechazado"),a()()(),s(21,"td",23)(22,"button",24),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.abrirProductosModal(o))}),c(23," Ver productos "),a()()()}if(n&2){let e=i.$implicit;d(2),O(e._id),d(2),O(e.nombre),d(2),O(le(7,5,e.fecha,"short")),d(3),O(le(10,8,e.total,"USD")),d(3),te("ngModel",e.estado)}}function Df(n,i){if(n&1&&(s(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th"),c(5,"ID"),a(),s(6,"th"),c(7,"Cliente"),a(),s(8,"th"),c(9,"Fecha"),a(),s(10,"th"),c(11,"Total"),a(),s(12,"th"),c(13,"Estado"),a(),s(14,"th"),c(15,"Acciones"),a()()(),s(16,"tbody"),f(17,Ef,24,11,"tr",17),a()()()),n&2){let e=_();d(17),h("ngForOf",e.paginatedOrders)}}function Tf(n,i){if(n&1){let e=S();s(0,"div",25)(1,"button",26),v("click",function(){y(e);let o=_();return C(o.cambiarPagina(o.currentPage-1))}),c(2," \u2B05 "),a(),s(3,"span"),c(4),a(),s(5,"button",26),v("click",function(){y(e);let o=_();return C(o.cambiarPagina(o.currentPage+1))}),c(6," \u27A1 "),a()()}if(n&2){let e=_();d(),h("disabled",e.currentPage===1),d(3),Pr("P\xE1gina ",e.currentPage," de ",e.totalPages,""),d(),h("disabled",e.currentPage===e.totalPages)}}function If(n,i){n&1&&(s(0,"div",27)(1,"p"),c(2,"No hay pedidos que coincidan con tu b\xFAsqueda."),a()())}var za=class n{constructor(i,e,t,o){this.orderService=i;this.dialog=e;this.dialogRef=t;this.data=o}orders=[];filteredOrders=[];paginatedOrders=[];searchTerm="";loading=!0;errorMessage=null;selectedOrder=null;currentPage=1;itemsPerPage=5;totalPages=1;productosModal;ngOnInit(){this.data?.vendedorId?this.cargarPedidosDeVendedor(this.data.vendedorId):(console.error("\u26A0\uFE0F No se proporcion\xF3 vendedorId al abrir el modal."),this.errorMessage="No se encontr\xF3 el identificador del vendedor.",this.loading=!1)}cargarPedidosDeVendedor(i){this.loading=!0,this.errorMessage=null,this.orderService.getPedidosPorVendedorAdmin(i).subscribe({next:e=>{this.orders=e||[],this.filteredOrders=[...this.orders],this.loading=!1,this.actualizarPaginacion()},error:e=>{console.error("\u274C Error al cargar pedidos del vendedor:",e),this.errorMessage="Error al obtener los pedidos del vendedor.",this.loading=!1}})}filtrarPedidos(){let i=this.searchTerm.trim().toLowerCase();i?this.filteredOrders=this.orders.filter(e=>e._id?.toLowerCase().includes(i)||e.nombre?.toLowerCase().includes(i)||e.estado?.toLowerCase().includes(i)):this.filteredOrders=[...this.orders],this.currentPage=1,this.actualizarPaginacion()}actualizarPaginacion(){this.totalPages=Math.ceil(this.filteredOrders.length/this.itemsPerPage)||1;let i=(this.currentPage-1)*this.itemsPerPage,e=i+this.itemsPerPage;this.paginatedOrders=this.filteredOrders.slice(i,e)}cambiarPagina(i){i>=1&&i<=this.totalPages&&(this.currentPage=i,this.actualizarPaginacion())}cambiarEstado(i,e){if(!i||!e){console.warn("\u26A0\uFE0F Pedido sin ID v\xE1lido o estado no definido.");return}this.orderService.actualizarEstadoPedido(i,e).subscribe({next:()=>this.cargarPedidosDeVendedor(this.data.vendedorId),error:t=>{console.error("\u274C Error al actualizar estado:",t),this.errorMessage="No se pudo actualizar el estado del pedido."}})}abrirProductosModal(i){this.dialog.open(Ba,{width:"600px",data:{order:i}})}cerrarModal(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||n)(z(pt),z(Ot),z(wt),z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-seller-order-modal"]],viewQuery:function(e,t){if(e&1&&Y(wf,5),e&2){let o;k(o=E())&&(t.productosModal=o.first)}},decls:13,vars:7,consts:[[1,"modal-container"],[1,"modal-header"],["class","vendedor-nombre",4,"ngIf"],[1,"close-btn",3,"click"],["class","search-bar",4,"ngIf"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","pagination",4,"ngIf"],["class","no-orders",4,"ngIf"],[1,"vendedor-nombre"],[1,"search-bar"],["type","text","placeholder","\u{1F50D} Buscar por cliente, ID o estado...",3,"ngModelChange","input","ngModel"],[1,"loading"],[1,"error-message"],[1,"table-wrapper"],[1,"orders-table"],[4,"ngFor","ngForOf"],[1,"estado-select",3,"ngModelChange","change","ngModel"],["value","pendiente"],["value","enviado"],["value","verificado"],["value","rechazado"],[1,"actions"],[1,"btn","ver-productos",3,"click"],[1,"pagination"],[1,"page-btn",3,"click","disabled"],[1,"no-orders"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2"),c(3," Pedidos del vendedor "),f(4,Pf,2,1,"span",2),a(),s(5,"button",3),v("click",function(){return t.cerrarModal()}),c(6,"\u2716"),a()(),f(7,Of,2,1,"div",4)(8,Sf,3,0,"div",5)(9,kf,3,1,"div",6)(10,Df,18,1,"div",7)(11,Tf,7,4,"div",8)(12,If,3,0,"div",9),a()),e&2&&(d(4),h("ngIf",t.data==null?null:t.data.vendedorNombre),d(3),h("ngIf",t.orders.length>0),d(),h("ngIf",t.loading),d(),h("ngIf",!t.loading&&t.errorMessage),d(),h("ngIf",!t.loading&&!t.errorMessage&&t.filteredOrders.length>0),d(),h("ngIf",!t.loading&&t.filteredOrders.length>0),d(),h("ngIf",!t.loading&&!t.errorMessage&&t.filteredOrders.length===0))},dependencies:[L,_e,Z,Jt,Zt,Ae,Br,zr,Ie,Nr,Re,Ke],styles:[`.modal-container{background:#fff;border-radius:16px;padding:1.5rem;width:100%;overflow-y:auto;box-shadow:0 8px 24px #00000026;font-family:Poppins,sans-serif}.modal-container .modal-header{display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #f1f1f1;padding-bottom:.5rem;margin-bottom:1rem}.modal-container .modal-header h2{font-size:1.4rem;font-weight:600;color:#333}.modal-container .modal-header h2 .vendedor-nombre{color:#1976d2;font-weight:700;margin-left:.5rem}.modal-container .modal-header .close-btn{background:none;border:none;font-size:1.4rem;cursor:pointer;color:#999}.modal-container .modal-header .close-btn:hover{color:#333}.modal-container .search-bar{display:flex;justify-content:center;margin-bottom:1rem}.modal-container .search-bar input{width:100%;max-width:400px;padding:.6rem 1rem;border-radius:8px;border:1px solid #ccc;font-size:1rem;transition:all .2s}.modal-container .search-bar input:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 3px #1976d233}.modal-container .table-wrapper{overflow-x:auto;border-radius:12px;background:#f9fafc;padding:.5rem}.modal-container .table-wrapper table{width:100%;border-collapse:collapse;font-size:.95rem}.modal-container .table-wrapper table th{background:#1976d2;color:#fff;padding:.8rem;text-align:left;font-weight:600}.modal-container .table-wrapper table td{padding:.7rem;border-bottom:1px solid #e0e0e0;color:#333}.modal-container .table-wrapper table tr:hover{background:#eef5ff}.modal-container .table-wrapper table .estado-select{padding:.4rem;border-radius:6px;border:1px solid #ccc}.modal-container .table-wrapper table .btn{background:#1976d2;color:#fff;padding:.4rem .8rem;border-radius:6px;border:none;cursor:pointer;font-size:.85rem;transition:.2s}.modal-container .table-wrapper table .btn:hover{background:#1259a5}.modal-container .pagination{display:flex;justify-content:center;align-items:center;margin-top:1rem;gap:.6rem}.modal-container .pagination .page-btn{background:#1976d2;color:#fff;border:none;padding:.4rem .8rem;border-radius:6px;cursor:pointer}.modal-container .pagination .page-btn:disabled{background:#ccc;cursor:not-allowed}.modal-container .no-orders,.modal-container .error-message{text-align:center;color:#666;font-weight:500;margin-top:2rem}.modal-container .productos-modal{background:#fff;padding:1.5rem;border-radius:12px;width:100%;max-width:600px;box-shadow:0 6px 20px #0000001a}.modal-container .productos-modal .productos-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.modal-container .productos-modal .productos-header h3{color:#1976d2;font-weight:600}.modal-container .productos-modal .productos-header .close-btn{background:none;border:none;font-size:1.2rem;cursor:pointer;color:#666}.modal-container .productos-modal .productos-header .close-btn:hover{color:#000}.modal-container .productos-modal .productos-table-wrapper{overflow-x:auto}.modal-container .productos-modal .productos-table-wrapper table{width:100%;border-collapse:collapse}.modal-container .productos-modal .productos-table-wrapper table th{background:#f1f1f1;text-align:left;padding:.6rem}.modal-container .productos-modal .productos-table-wrapper table td{padding:.6rem;border-bottom:1px solid #eaeaea}
`],encapsulation:2})};function Rf(n,i){if(n&1){let e=S();s(0,"button",6),v("click",function(){y(e);let o=_();return C(o.limpiarFiltro())}),s(1,"mat-icon"),c(2,"close"),a()()}}function Af(n,i){n&1&&(s(0,"th",20),c(1,"Nombre"),a())}function Ff(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.nombre)}}function Lf(n,i){n&1&&(s(0,"th",20),c(1,"Correo"),a())}function Nf(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.correo)}}function Bf(n,i){n&1&&(s(0,"th",20),c(1,"Ciudad"),a())}function zf(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.ciudad||"-")}}function Vf(n,i){n&1&&(s(0,"th",20),c(1,"Tel\xE9fono"),a())}function jf(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.telefono||"-")}}function Hf(n,i){n&1&&(s(0,"th",20),c(1,"Pedidos"),a())}function Wf(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.cantidadPedidos||0)}}function Uf(n,i){n&1&&(s(0,"th",20),c(1,"Total Comprado"),a())}function qf(n,i){if(n&1&&(s(0,"td",21),c(1),H(2,"currency"),a()),n&2){let e=i.$implicit;d(),O(le(2,1,e.totalComprado,"COP"))}}function Qf(n,i){n&1&&(s(0,"th",20),c(1,"Acciones"),a())}function Yf(n,i){if(n&1){let e=S();s(0,"td",21)(1,"button",22),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.abrirPedidos(o))}),s(2,"mat-icon"),c(3,"visibility"),a()()()}}function $f(n,i){n&1&&M(0,"tr",23)}function Gf(n,i){n&1&&M(0,"tr",24)}function Kf(n,i){if(n&1&&(s(0,"div",7)(1,"table",8),D(2,9),f(3,Af,2,0,"th",10)(4,Ff,2,1,"td",11),T(),D(5,12),f(6,Lf,2,0,"th",10)(7,Nf,2,1,"td",11),T(),D(8,13),f(9,Bf,2,0,"th",10)(10,zf,2,1,"td",11),T(),D(11,14),f(12,Vf,2,0,"th",10)(13,jf,2,1,"td",11),T(),D(14,15),f(15,Hf,2,0,"th",10)(16,Wf,2,1,"td",11),T(),D(17,16),f(18,Uf,2,0,"th",10)(19,qf,3,4,"td",11),T(),D(20,17),f(21,Qf,2,0,"th",10)(22,Yf,4,0,"td",11),T(),f(23,$f,1,0,"tr",18)(24,Gf,1,0,"tr",19),a()()),n&2){let e=_();d(),h("dataSource",e.clientesFiltrados()),d(22),h("matHeaderRowDef",e.displayedColumnsCliente),d(),h("matRowDefColumns",e.displayedColumnsCliente)}}function Xf(n,i){n&1&&(s(0,"th",20),c(1,"Nombre"),a())}function Zf(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.nombre)}}function Jf(n,i){n&1&&(s(0,"th",20),c(1,"Correo"),a())}function e_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.correo)}}function t_(n,i){n&1&&(s(0,"th",20),c(1,"Tel\xE9fono"),a())}function i_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.telefono||"-")}}function n_(n,i){n&1&&(s(0,"th",20),c(1,"Pedidos"),a())}function o_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.cantidadPedidos||0)}}function r_(n,i){n&1&&(s(0,"th",20),c(1,"Total Vendido"),a())}function a_(n,i){if(n&1&&(s(0,"td",21),c(1),H(2,"currency"),a()),n&2){let e=i.$implicit;d(),O(le(2,1,e.totalVendido,"COP"))}}function s_(n,i){n&1&&(s(0,"th",20),c(1,"Acciones"),a())}function l_(n,i){if(n&1){let e=S();s(0,"td",21)(1,"button",22),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.abrirPedidos(o))}),s(2,"mat-icon"),c(3,"visibility"),a()()()}}function c_(n,i){n&1&&M(0,"tr",23)}function d_(n,i){n&1&&M(0,"tr",24)}function m_(n,i){if(n&1&&(s(0,"div",7)(1,"table",8),D(2,9),f(3,Xf,2,0,"th",10)(4,Zf,2,1,"td",11),T(),D(5,12),f(6,Jf,2,0,"th",10)(7,e_,2,1,"td",11),T(),D(8,14),f(9,t_,2,0,"th",10)(10,i_,2,1,"td",11),T(),D(11,15),f(12,n_,2,0,"th",10)(13,o_,2,1,"td",11),T(),D(14,25),f(15,r_,2,0,"th",10)(16,a_,3,4,"td",11),T(),D(17,17),f(18,s_,2,0,"th",10)(19,l_,4,0,"td",11),T(),f(20,c_,1,0,"tr",18)(21,d_,1,0,"tr",19),a()()),n&2){let e=_();d(),h("dataSource",e.vendedoresFiltrados()),d(19),h("matHeaderRowDef",e.displayedColumnsVendedor),d(),h("matRowDefColumns",e.displayedColumnsVendedor)}}var Va=class n{http=p(it);dialog=p(Ot);route=p(Wi);tipoUsuario="admin";tipoVista="cliente";clientes=[];vendedores=[];pedidosVendedor=[];filtroCliente="";filtroVendedor="";filtroActual="";displayedColumnsCliente=["nombre","correo","ciudad","telefono","cantidadPedidos","totalComprado","acciones"];displayedColumnsVendedor=["nombre","correo","telefono","cantidadPedidos","totalVendido","acciones"];displayedColumnsPedidosVendedor=["clienteNombre","estado","fecha","total","acciones"];ngOnInit(){let i=this.obtenerUsuarioDesdeToken();i?.rol==="vendedor"?(this.tipoUsuario="vendedor",this.tipoVista="vendedor",this.cargarPedidosVendedor()):i?.rol==="cliente"?(this.tipoUsuario="cliente",this.tipoVista="cliente",this.cargarClientes()):(this.tipoUsuario="admin",this.route.queryParams.subscribe(e=>{let t=e.tipo;this.tipoVista=t==="vendedor"?"vendedor":"cliente",this.cargarDatos()})),this.filtroActual=this.tipoVista==="cliente"?this.filtroCliente:this.filtroVendedor}actualizarFiltro(){this.tipoVista==="cliente"?this.filtroCliente=this.filtroActual:this.filtroVendedor=this.filtroActual}obtenerUsuarioDesdeToken(){let i=localStorage.getItem("token");if(!i)return null;try{let t=i.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=JSON.parse(atob(t));return o?.usuario||o?.user||o}catch(e){return console.error("\u274C Error al decodificar token:",e),null}}cargarDatos(){this.tipoVista==="cliente"?this.cargarClientes():this.cargarVendedores()}cargarClientes(){let i=localStorage.getItem("token"),e=i?new ei().set("Authorization",`Bearer ${i}`):void 0;this.http.get("http://localhost:5000/api/usuarios/estadisticas/clientes",{headers:e}).subscribe({next:t=>this.clientes=t,error:t=>console.error("\u274C Error al cargar clientes",t)})}cargarVendedores(){let i=localStorage.getItem("token"),e=i?new ei().set("Authorization",`Bearer ${i}`):void 0;this.http.get("http://localhost:5000/api/usuarios/estadisticas/vendedores",{headers:e}).subscribe({next:t=>this.vendedores=t,error:t=>console.error("\u274C Error al cargar vendedores",t)})}cargarPedidosVendedor(){let i=localStorage.getItem("token"),e=i?new ei().set("Authorization",`Bearer ${i}`):void 0;this.http.get("http://localhost:5000/api/order/mis-pedidos",{headers:e}).subscribe({next:t=>this.pedidosVendedor=t,error:t=>console.error("\u274C Error al cargar pedidos del vendedor",t)})}clientesFiltrados(){let i=this.filtroCliente.toLowerCase().trim();return this.clientes.filter(e=>e.nombre?.toLowerCase().includes(i)||e.correo?.toLowerCase().includes(i))}vendedoresFiltrados(){let i=this.filtroVendedor.toLowerCase().trim();return this.vendedores.filter(e=>e.nombre?.toLowerCase().includes(i)||e.correo?.toLowerCase().includes(i))}limpiarFiltro(){this.filtroActual="",this.filtroCliente="",this.filtroVendedor=""}abrirPedidos(i){let e=this.tipoVista==="cliente"?{clienteId:i._id}:{vendedorId:i._id};this.tipoVista==="vendedor"?this.dialog.open(za,{maxWidth:"95vw",width:"95vw",maxHeight:"90vh",autoFocus:!1,panelClass:"vendedor-pedidos-dialog",data:e}):this.dialog.open(Na,{maxWidth:"95vw",width:"95vw",maxHeight:"90vh",autoFocus:!1,panelClass:"cliente-pedidos-dialog",data:e})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-order-management"]],decls:13,vars:5,consts:[[1,"order-management-container"],[1,"buscador"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Buscar...",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["class","tabla-wrapper animate-fade",4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],[1,"tabla-wrapper","animate-fade"],["mat-table","",1,"mat-elevation-z2","tabla-pedidos",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","correo"],["matColumnDef","ciudad"],["matColumnDef","telefono"],["matColumnDef","cantidadPedidos"],["matColumnDef","totalComprado"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],["matColumnDef","totalVendido"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2")(2,"mat-icon"),c(3,"shopping_cart"),a(),c(4),a(),s(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),c(8,"Buscar por nombre o correo"),a(),s(9,"input",3),ne("ngModelChange",function(r){return ie(t.filtroActual,r)||(t.filtroActual=r),r}),v("ngModelChange",function(){return t.actualizarFiltro()}),a(),f(10,Rf,3,0,"button",4),a()(),f(11,Kf,25,3,"div",5)(12,m_,22,3,"div",5),a()),e&2&&(d(4),P(" ",t.tipoVista==="cliente"?"Pedidos de Clientes":"Pedidos de Vendedores"," "),d(5),te("ngModel",t.filtroActual),d(),h("ngIf",t.filtroActual),d(),h("ngIf",t.tipoVista==="cliente"),d(),h("ngIf",t.tipoVista==="vendedor"))},dependencies:[L,Z,Jt,Ae,Ie,Re,Ke,$,dt,K,G,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,be,je,Fe,Xe,Zi,Le,He,ut],styles:['.pedidos-container[_ngcontent-%COMP%]{min-height:100vh;padding:2rem;background:linear-gradient(135deg,#eef2ff,#f9fafc);display:flex;flex-direction:column;align-items:center;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#2b3a67;font-weight:700;text-align:center;margin-bottom:2.5rem;position:relative;letter-spacing:.3px}.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:80px;height:4px;background:#4f46e5;margin:.8rem auto 0;border-radius:4px}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]{width:100%;max-width:420px;margin-bottom:2.5rem;display:flex;align-items:center;justify-content:center;gap:.75rem;flex-wrap:wrap}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:10px;padding:.5rem .8rem;transition:all .2s ease-in-out;box-shadow:0 2px 6px #0000000d}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:focus-within{box-shadow:0 4px 10px #4f46e540;transform:translateY(-2px)}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;font-weight:500;border-radius:10px;padding:.6rem 1.2rem;transition:all .2s ease}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#6366f1;transform:translateY(-2px);box-shadow:0 4px 8px #6366f14d}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1100px;background:#fff;border-radius:16px;box-shadow:0 6px 18px #00000014;overflow:hidden;transition:all .3s ease-in-out}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0000001f}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea;transition:all .25s ease}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9ff;transform:scale(1.01)}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;color:#333;vertical-align:middle}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:.6rem}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f3f4f6;border-radius:8px;padding:.4rem .8rem;font-size:.8rem;transition:all .2s ease}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e0e7ff;color:#4f46e5}.pedidos-container[_ngcontent-%COMP%]   .paginacion[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center;align-items:center;gap:1rem;flex-wrap:wrap}.pedidos-container[_ngcontent-%COMP%]   .paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-radius:10px;padding:.5rem 1.2rem;font-weight:500;transition:all .2s ease}.pedidos-container[_ngcontent-%COMP%]   .paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#6366f1;transform:translateY(-2px)}.pedidos-container[_ngcontent-%COMP%]   .paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444;font-weight:600}@media (max-width: 992px){.pedidos-container[_ngcontent-%COMP%]{padding:1.5rem}.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}}@media (max-width: 768px){.pedidos-container[_ngcontent-%COMP%]{padding:1rem}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]{border-radius:12px;overflow-x:auto}.pedidos-container[_ngcontent-%COMP%]   .tabla-wrapper[_ngcontent-%COMP%]   .tabla-pedidos[_ngcontent-%COMP%]{min-width:700px}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]{flex-direction:column;max-width:100%}.pedidos-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:240px}}@media (max-width: 480px){.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}']})};var p_=["mat-sort-header",""],u_=["*"];function h_(n,i){n&1&&(s(0,"div",2),zt(),s(1,"svg",3),M(2,"path",4),a()())}var dm=new q("MAT_SORT_DEFAULT_OPTIONS"),Li=(()=>{class n{_defaultOptions;_initializedStream=new _r(1);sortables=new Map;_stateChanges=new V;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new ce;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=g_(e.start||this.start,t),r=o.indexOf(this.direction)+1;return r>=o.length&&(r=0),o[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||n)(z(dm,8))};static \u0275dir=R({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",W],disabled:[2,"matSortDisabled","disabled",W]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[yt]})}return n})();function g_(n,i){let e=["asc","desc"];return n=="desc"&&e.reverse(),i||e.push(""),e}var ja=(()=>{class n{changes=new V;static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f_(n){return n||new ja}var __={provide:ja,deps:[[new ao,new Lo,ja]],useFactory:f_},Ha=(()=>{class n{_intl=p(ja);_sort=p(Li,{optional:!0});_columnDef=p("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=p(Ve);_focusMonitor=p(qi);_elementRef=p(Q);_ariaDescriber=p(Ar,{optional:!0});_renderChanges;_animationModule=p(Be,{optional:!0});_recentlyCleared=xs(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){p(ti).load(Qi);let e=p(dm,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=tt(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),t=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?t:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,o){t&1&&v("click",function(){return o._toggleOnInteraction()})("keydown",function(l){return o._handleKeydown(l)})("mouseleave",function(){return o._recentlyCleared.set(null)}),t&2&&(ee("aria-sort",o._getAriaSortAttribute()),X("mat-sort-header-disabled",o._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",W],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",W]},exportAs:["matSortHeader"],attrs:p_,ngContentSelectors:u_,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(t,o){t&1&&(Ue(),s(0,"div",0)(1,"div",1),ge(2),a(),f(3,h_,3,0,"div",2),a()),t&2&&(X("mat-sort-header-sorted",o._isSorted())("mat-sort-header-position-before",o.arrowPosition==="before")("mat-sort-header-descending",o._sort.direction==="desc")("mat-sort-header-ascending",o._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",o._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",o._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",o._animationModule==="NoopAnimations"),ee("tabindex",o._isDisabled()?null:0)("role",o._isDisabled()?null:"button"),d(3),ke(o._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return n})(),ko=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[__],imports:[me]})}return n})();var b_=()=>[5,10,20];function v_(n,i){n&1&&(s(0,"th",20),c(1,"Imagen"),a())}function y_(n,i){if(n&1&&M(0,"img",23),n&2){let e=_().$implicit;h("src",e.imagen,xe)}}function C_(n,i){if(n&1&&(s(0,"td",21),f(1,y_,1,1,"img",22),a()),n&2){let e=i.$implicit;d(),h("ngIf",e.imagen)}}function M_(n,i){n&1&&(s(0,"th",24),c(1,"Nombre"),a())}function x_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.nombre)}}function w_(n,i){n&1&&(s(0,"th",24),c(1,"Categor\xEDa"),a())}function P_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.categoriaNombre)}}function O_(n,i){n&1&&(s(0,"th",24),c(1,"Precio"),a())}function S_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),P("$ ",e.precio,"")}}function k_(n,i){n&1&&(s(0,"th",24),c(1,"Stock"),a())}function E_(n,i){if(n&1&&(s(0,"td",21),c(1),a()),n&2){let e=i.$implicit;d(),O(e.stock)}}function D_(n,i){n&1&&(s(0,"th",20),c(1,"Acciones"),a())}function T_(n,i){if(n&1){let e=S();s(0,"td",21)(1,"button",25),v("click",function(){let o=y(e).$implicit,r=_();return C(r.editar(o._id))}),s(2,"mat-icon"),c(3,"edit"),a()(),s(4,"button",26),v("click",function(){let o=y(e).$implicit,r=_();return C(r.eliminar(o._id))}),s(5,"mat-icon"),c(6,"delete"),a()()()}}function I_(n,i){n&1&&M(0,"tr",27)}function R_(n,i){n&1&&M(0,"tr",28)}var Wa=class n{productoService=p(mt);router=p(lt);displayedColumns=["imagen","nombre","categoria","precio","stock","acciones"];dataSource=new vi;paginator;sort;ngOnInit(){this.cargarProductos()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}cargarProductos(){this.productoService.getProductos().subscribe({next:i=>{let e=i.map(t=>Gt(de({},t),{categoriaNombre:t.categoria?.nombre??"Sin categor\xEDa"}));this.dataSource.data=e},error:()=>alert("Error al cargar productos")})}filtrar(i){let e=i.target.value.trim().toLowerCase();this.dataSource.filter=e}editar(i){this.router.navigate(["/admin/productos/editar",i])}eliminar(i){confirm("\xBFSeguro que deseas eliminar este producto?")&&this.productoService.eliminarProducto(i).subscribe({next:()=>{alert("Producto eliminado"),this.cargarProductos()},error:()=>alert("Error al eliminar producto")})}crear(){this.router.navigate(["/admin/productos/nuevo"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-list"]],viewQuery:function(e,t){if(e&1&&(Y(Et,5),Y(Li,5)),e&2){let o;k(o=E())&&(t.paginator=o.first),k(o=E())&&(t.sort=o.first)}},decls:37,vars:5,consts:[[1,"product-list-card"],[1,"admin-header"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre del producto",3,"keyup"],["matSuffix",""],[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z8","full-width-table",3,"dataSource"],["matColumnDef","imagen"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","categoria"],["matColumnDef","precio"],["matColumnDef","stock"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["alt","Producto",3,"src",4,"ngIf"],["alt","Producto",3,"src"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","color","accent","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){e&1&&(s(0,"mat-card",0)(1,"div",1)(2,"h1"),c(3,"Gesti\xF3n de Productos"),a(),s(4,"button",2),v("click",function(){return t.crear()}),s(5,"mat-icon"),c(6,"add"),a(),c(7," Nuevo Producto "),a()(),s(8,"mat-form-field",3)(9,"mat-label"),c(10,"Buscar producto"),a(),s(11,"input",4),v("keyup",function(r){return t.filtrar(r)}),a(),s(12,"mat-icon",5),c(13,"search"),a()(),s(14,"div",6)(15,"table",7),D(16,8),f(17,v_,2,0,"th",9)(18,C_,2,1,"td",10),T(),D(19,11),f(20,M_,2,0,"th",12)(21,x_,2,1,"td",10),T(),D(22,13),f(23,w_,2,0,"th",12)(24,P_,2,1,"td",10),T(),D(25,14),f(26,O_,2,0,"th",12)(27,S_,2,1,"td",10),T(),D(28,15),f(29,k_,2,0,"th",12)(30,E_,2,1,"td",10),T(),D(31,16),f(32,D_,2,0,"th",9)(33,T_,7,0,"td",10),T(),f(34,I_,1,0,"tr",17)(35,R_,1,0,"tr",18),a(),M(36,"mat-paginator",19),a()()),e&2&&(d(15),h("dataSource",t.dataSource),d(19),h("matHeaderRowDef",t.displayedColumns),d(),h("matRowDefColumns",t.displayedColumns),d(),h("pageSizeOptions",ht(4,b_)))},dependencies:[L,Z,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,$,oe,dt,K,G,Kn,Gn,be,Se,an,Et,ko,Li,Ha,je,Fe,Xe,Zi,Le,He],styles:[".product-list-card[_ngcontent-%COMP%]{max-width:1200px;margin:3rem auto;padding:2rem;background-color:#fff;border-radius:16px;box-shadow:0 12px 32px #00000014}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:2rem;gap:1rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#2c3e50;margin:0}.admin-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease;font-weight:500}.admin-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}.search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 14px;font-size:15px}.search-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#888}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.full-width-table[_ngcontent-%COMP%]{width:100%;border-spacing:0;min-width:900px;border-radius:12px;overflow:hidden}.full-width-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f2f5;color:#333;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;padding:16px;border-bottom:1px solid #e0e0e0;white-space:nowrap}.full-width-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;font-size:14px;color:#444;border-bottom:1px solid #f0f0f0;vertical-align:middle;white-space:nowrap}.full-width-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:#f9fafc;transition:background-color .25s ease}.full-width-table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:8px;border:1px solid #ddd;transition:transform .2s ease}.full-width-table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.full-width-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease}.full-width-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.15)}.full-width-table[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;color:#5c5c5c}  .mat-paginator{background-color:#fff;border-top:1px solid #e0e0e0;font-size:13px}  .mat-paginator .mat-paginator-range-label{color:#666}  .mat-paginator .mat-paginator-icon{color:#555}  .mat-paginator .mat-paginator-page-size-select{margin-left:8px}"]})};var Eo=class n{constructor(i){this.http=i}baseUrl="http://localhost:5000/api/categorias";getCategorias(){return this.http.get(this.baseUrl)}crearCategoria(i){return this.http.post(this.baseUrl,{nombre:i})}eliminarCategoria(i){return this.http.delete(`${this.baseUrl}/${i}`)}static \u0275fac=function(e){return new(e||n)(vt(it))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ua=class n{constructor(i,e){this.dialogRef=i;this.data=e}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||n)(z(wt),z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){e&1&&(s(0,"h2",0),c(1,"\xBFEst\xE1s seguro?"),a(),s(2,"mat-dialog-content")(3,"p"),c(4),a()(),s(5,"mat-dialog-actions",1)(6,"button",2),v("click",function(){return t.onCancel()}),c(7,"Cancelar"),a(),s(8,"button",3),v("click",function(){return t.onConfirm()}),c(9,"Eliminar"),a()()),e&2&&(d(4),O(t.data.mensaje))},dependencies:[L,ut,qn,Yn,Qn,$,oe],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;padding-top:8px}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:90px}"]})};var A_=()=>({standalone:!0});function F_(n,i){n&1&&(s(0,"mat-error"),c(1," El nombre es obligatorio "),a())}function L_(n,i){n&1&&(s(0,"mat-error"),c(1," La descripci\xF3n es obligatoria "),a())}function N_(n,i){n&1&&(s(0,"mat-error"),c(1," El precio es obligatorio "),a())}function B_(n,i){n&1&&(s(0,"mat-error"),c(1," El precio debe ser mayor que 0 "),a())}function z_(n,i){n&1&&(s(0,"mat-error"),c(1," El stock es obligatorio "),a())}function V_(n,i){n&1&&(s(0,"mat-error"),c(1," El stock debe ser al menos 1 "),a())}function j_(n,i){if(n&1&&(s(0,"mat-option",26),c(1),H(2,"titlecase"),a()),n&2){let e=i.$implicit;h("value",e._id),d(),P(" ",Xt(2,2,e.nombre)," ")}}function H_(n,i){n&1&&(s(0,"mat-error"),c(1," Selecciona una categor\xEDa "),a())}function W_(n,i){if(n&1){let e=S();s(0,"div",27)(1,"span"),c(2),a(),s(3,"button",28),v("click",function(){let o=y(e).$implicit,r=_();return C(r.eliminarCategoria(o._id))}),s(4,"mat-icon"),c(5,"delete"),a()()()}if(n&2){let e=i.$implicit,t=_();d(2),O(e.nombre),d(),h("disabled",t.form.value.categoria===e._id)}}function U_(n,i){if(n&1&&(s(0,"mat-card",29)(1,"h3"),c(2,"Vista previa de la imagen"),a(),s(3,"div",30),M(4,"img",31),a()()),n&2){let e=_();d(4),h("src",e.imagenPreview(),xe)}}var sr=class n{fb=p(wn);route=p(Wi);router=p(lt);productoService=p(mt);categoriaService=p(Eo);dialog=p(Ot);form;selectedFile=null;imagenPreviewUrl=null;productoId=null;editMode=!1;categorias=[];nuevaCategoria="";producto;constructor(){this.form=this.fb.group({nombre:["",we.required],descripcion:["",we.required],precio:[null,[we.required,we.min(.01)]],stock:[null,[we.required,we.min(0)]],categoria:["",we.required]})}ngOnInit(){this.route.paramMap.pipe(Kt(i=>{let e=i.get("id");this.productoId=e,this.editMode=!!e;let t=this.categoriaService.getCategorias(),o=e?this.productoService.getProducto(e):Ne(null);return oo([t,o])})).subscribe(([i,e])=>{if(this.categorias=i,e){this.producto=e;let t=typeof e.categoria=="string"?e.categoria:e.categoria?._id;this.categorias.some(o=>o._id===t)||this.categorias.push({_id:t,nombre:"Categor\xEDa desconocida"}),this.form.patchValue({nombre:e.nombre,descripcion:e.descripcion,precio:e.precio,stock:e.stock,categoria:t}),this.imagenPreviewUrl=e.imagen||null}})}onFileSelected(i){let e=i.target?.files?.[0];if(e){this.selectedFile=e;let t=new FileReader;t.onload=()=>{this.imagenPreviewUrl=t.result},t.readAsDataURL(e)}}imagenPreview(){return this.imagenPreviewUrl}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{nombre:i,descripcion:e,precio:t,stock:o,categoria:r}=this.form.value,l=typeof r=="string"?r:r?._id;if(!l){alert("\u26A0\uFE0F Debes seleccionar una categor\xEDa v\xE1lida.");return}let m=new FormData;if(m.append("nombre",i),m.append("descripcion",e),m.append("precio",t.toString()),m.append("stock",o.toString()),m.append("categoria",l),this.selectedFile)m.append("imagen",this.selectedFile);else if(!this.editMode){alert("\u26A0\uFE0F Debes seleccionar una imagen para el nuevo producto.");return}this.productoService.guardarProducto(this.productoId,m).subscribe({next:()=>{alert(this.editMode?"\u2705 Producto actualizado":"\u2705 Producto creado"),this.router.navigate(["/admin/productos"])},error:u=>{console.error("\u274C Error al guardar producto:",u),alert(u.error?.mensaje||"\u274C Error al guardar el producto")}})}agregarCategoria(){let i=this.nuevaCategoria.trim().toLowerCase();i&&!this.categorias.some(e=>e.nombre.toLowerCase()===i)&&this.categoriaService.crearCategoria(i).subscribe({next:e=>{this.categorias.push(e),this.nuevaCategoria=""},error:e=>{alert(e.error?.mensaje||"Error al agregar categor\xEDa")}})}eliminarCategoria(i){if(this.form.value.categoria===i){alert("No puedes eliminar una categor\xEDa que est\xE1 en uso.");return}this.dialog.open(Ua,{data:{mensaje:"\xBFDeseas eliminar esta categor\xEDa?"}}).afterClosed().subscribe(o=>{o&&this.categoriaService.eliminarCategoria(i).subscribe({next:()=>{this.categorias=this.categorias.filter(r=>r._id!==i)},error:r=>{alert(r.error?.mensaje||"Error al eliminar categor\xEDa")}})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-form"]],decls:57,vars:17,consts:[[1,"product-form-wrapper"],[1,"form-card","form-section"],["enctype","multipart/form-data",1,"form-column",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre"],[4,"ngIf"],["matInput","","formControlName","descripcion","rows","3"],["matInput","","type","number","formControlName","precio"],["matInput","","type","number","formControlName","stock"],["formControlName","categoria"],[3,"value",4,"ngFor","ngForOf"],[1,"image-upload","mt-4"],["for","imagen"],["type","file",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"category-wrapper"],[1,"form-card","category-section"],[1,"category-header"],[1,"category-icon"],[1,"agregar-categoria","d-flex","gap-2","mt-2"],["appearance","outline",1,"flex-grow"],["matInput","","name","nuevaCategoria",3,"ngModelChange","ngModel","ngModelOptions"],["mat-icon-button","","color","accent","matTooltip","Agregar categor\xEDa",3,"click"],[1,"categorias-container","mt-3"],["class","categoria-box",4,"ngFor","ngForOf"],["class","form-card image-preview-section mt-4",4,"ngIf"],[3,"value"],[1,"categoria-box"],["mat-icon-button","","color","warn","matTooltip","Eliminar categor\xEDa","type","button",3,"click","disabled"],[1,"form-card","image-preview-section","mt-4"],[1,"preview","mt-2"],["alt","Vista previa",2,"max-width","200px",3,"src"]],template:function(e,t){if(e&1&&(s(0,"div",0)(1,"mat-card",1)(2,"h2"),c(3),a(),s(4,"form",2),v("ngSubmit",function(){return t.onSubmit()}),s(5,"mat-form-field",3)(6,"mat-label"),c(7,"Nombre"),a(),M(8,"input",4),f(9,F_,2,0,"mat-error",5),a(),s(10,"mat-form-field",3)(11,"mat-label"),c(12,"Descripci\xF3n"),a(),M(13,"textarea",6),f(14,L_,2,0,"mat-error",5),a(),s(15,"mat-form-field",3)(16,"mat-label"),c(17,"Precio"),a(),M(18,"input",7),f(19,N_,2,0,"mat-error",5)(20,B_,2,0,"mat-error",5),a(),s(21,"mat-form-field",3)(22,"mat-label"),c(23,"Stock"),a(),M(24,"input",8),f(25,z_,2,0,"mat-error",5)(26,V_,2,0,"mat-error",5),a(),s(27,"mat-form-field",3)(28,"mat-label"),c(29,"Categor\xEDa"),a(),s(30,"mat-select",9),f(31,j_,3,4,"mat-option",10),a(),f(32,H_,2,0,"mat-error",5),a(),s(33,"div",11)(34,"label",12),c(35,"Imagen del producto"),a(),s(36,"input",13),v("change",function(r){return t.onFileSelected(r)}),a()(),s(37,"button",14),c(38),a()()(),s(39,"div",15)(40,"mat-card",16)(41,"div",17)(42,"mat-icon",18),c(43,"category"),a(),s(44,"h3"),c(45,"Gestionar categor\xEDas"),a()(),s(46,"div",19)(47,"mat-form-field",20)(48,"mat-label"),c(49,"Nueva categor\xEDa"),a(),s(50,"input",21),ne("ngModelChange",function(r){return ie(t.nuevaCategoria,r)||(t.nuevaCategoria=r),r}),a()(),s(51,"button",22),v("click",function(){return t.agregarCategoria()}),s(52,"mat-icon"),c(53,"add"),a()()(),s(54,"div",23),f(55,W_,6,2,"div",24),a()(),f(56,U_,5,1,"mat-card",25),a()()),e&2){let o,r,l,m,u,g,b;d(3),O(t.editMode?"Editar Producto":"Crear Producto"),d(),h("formGroup",t.form),d(5),h("ngIf",((o=t.form.get("nombre"))==null?null:o.touched)&&((o=t.form.get("nombre"))==null?null:o.hasError("required"))),d(5),h("ngIf",((r=t.form.get("descripcion"))==null?null:r.touched)&&((r=t.form.get("descripcion"))==null?null:r.hasError("required"))),d(5),h("ngIf",((l=t.form.get("precio"))==null?null:l.touched)&&((l=t.form.get("precio"))==null?null:l.hasError("required"))),d(),h("ngIf",(m=t.form.get("precio"))==null?null:m.hasError("min")),d(5),h("ngIf",((u=t.form.get("stock"))==null?null:u.touched)&&((u=t.form.get("stock"))==null?null:u.hasError("required"))),d(),h("ngIf",(g=t.form.get("stock"))==null?null:g.hasError("min")),d(5),h("ngForOf",t.categorias),d(),h("ngIf",((b=t.form.get("categoria"))==null?null:b.touched)&&((b=t.form.get("categoria"))==null?null:b.hasError("required"))),d(5),h("disabled",t.form.invalid),d(),P(" ",t.editMode?"Actualizar":"Crear"," producto "),d(12),te("ngModel",t.nuevaCategoria),h("ngModelOptions",ht(16,A_)),d(5),h("ngForOf",t.categorias),d(),h("ngIf",t.imagenPreview())}},dependencies:[L,_e,Z,pi,Pn,Gi,Ie,Ki,Re,$i,Xi,Cn,be,Se,je,Fe,Xe,jr,Le,He,kt,Ii,ni,$,oe,dt,K,G,Kn,Gn,ut,Ae,Ke],styles:[".product-form-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-start}.product-form-wrapper[_ngcontent-%COMP%]   .form-card.form-section[_ngcontent-%COMP%]{flex:1.5;min-width:260px}.product-form-wrapper[_ngcontent-%COMP%]   .category-wrapper[_ngcontent-%COMP%]{flex:1;min-width:220px;display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 768px){.product-form-wrapper[_ngcontent-%COMP%]{flex-direction:column}.product-form-wrapper[_ngcontent-%COMP%]   .form-card.form-section[_ngcontent-%COMP%], .product-form-wrapper[_ngcontent-%COMP%]   .category-wrapper[_ngcontent-%COMP%]{width:100%}.product-form-wrapper[_ngcontent-%COMP%]   .agregar-categoria[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.product-form-wrapper[_ngcontent-%COMP%]   .agregar-categoria[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.product-form-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.product-form-wrapper[_ngcontent-%COMP%]   .image-preview-section[_ngcontent-%COMP%]{align-items:stretch;text-align:left}.product-form-wrapper[_ngcontent-%COMP%]   .image-preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.product-form-wrapper[_ngcontent-%COMP%]   .image-preview-section[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}}.form-card[_ngcontent-%COMP%]{max-width:100%;padding:1.25rem;background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000000d}.form-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.full-width[_ngcontent-%COMP%]{width:100%}.image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:500;gap:.5rem}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{cursor:pointer}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px;border-radius:8px;margin-top:.5rem;border:1px solid #ccc;box-shadow:0 2px 8px #0000000d}.image-preview-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.image-preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:16px;font-weight:500}.image-preview-section[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;object-fit:contain}.agregar-categoria[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem}.agregar-categoria[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.agregar-categoria[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap}.categorias-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.75rem}.categoria-box[_ngcontent-%COMP%]{font-size:13px;padding:3px 10px}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem}"],data:{animation:[Ai("categoriaAnimada",[ai(":enter",[st({opacity:0,transform:"scale(0.9)"}),ri("200ms ease-out",st({opacity:1,transform:"scale(1)"}))]),ai(":leave",[ri("200ms ease-in",st({opacity:0,transform:"scale(0.9)"}))])])]}})};var vl=["*"];function q_(n,i){n&1&&ge(0)}var Q_=["tabListContainer"],Y_=["tabList"],$_=["tabListInner"],G_=["nextPaginator"],K_=["previousPaginator"],X_=["content"];function Z_(n,i){}var J_=["tabBodyWrapper"],e0=["tabHeader"];function t0(n,i){}function i0(n,i){if(n&1&&f(0,t0,0,0,"ng-template",12),n&2){let e=_().$implicit;h("cdkPortalOutlet",e.templateLabel)}}function n0(n,i){if(n&1&&c(0),n&2){let e=_().$implicit;O(e.textLabel)}}function o0(n,i){if(n&1){let e=S();s(0,"div",7,2),v("click",function(){let o=y(e),r=o.$implicit,l=o.$index,m=_(),u=fe(1);return C(m._handleClick(r,u,l))})("cdkFocusChange",function(o){let r=y(e).$index,l=_();return C(l._tabFocusChanged(o,r))}),M(2,"span",8)(3,"div",9),s(4,"span",10)(5,"span",11),f(6,i0,1,1,null,12)(7,n0,1,1),a()()()}if(n&2){let e=i.$implicit,t=i.$index,o=fe(1),r=_();mi(e.labelClass),X("mdc-tab--active",r.selectedIndex===t),h("id",r._getTabLabelId(e,t))("disabled",e.disabled)("fitInkBarToContent",r.fitInkBarToContent),ee("tabIndex",r._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(t))("aria-selected",r.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),d(3),h("matRippleTrigger",o)("matRippleDisabled",e.disabled||r.disableRipple),d(3),ke(e.templateLabel?6:7)}}function r0(n,i){n&1&&ge(0)}function a0(n,i){if(n&1){let e=S();s(0,"mat-tab-body",13),v("_onCentered",function(){y(e);let o=_();return C(o._removeTabBodyWrapperHeight())})("_onCentering",function(o){y(e);let r=_();return C(r._setTabBodyWrapperHeight(o))})("_beforeCentering",function(o){y(e);let r=_();return C(r._bodyCentered(o))}),a()}if(n&2){let e=i.$implicit,t=i.$index,o=_();mi(e.bodyClass),h("id",o._getTabContentId(t))("content",e.content)("position",e.position)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),ee("tabindex",o.contentTabIndex!=null&&o.selectedIndex===t?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(e,t))("aria-hidden",o.selectedIndex!==t)}}var s0=new q("MatTabContent"),l0=(()=>{class n{template=p(Ge);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matTabContent",""]],features:[ze([{provide:s0,useExisting:n}])]})}return n})(),c0=new q("MatTabLabel"),gm=new q("MAT_TAB"),d0=(()=>{class n extends Is{_closestTab=p(gm,{optional:!0});static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ze([{provide:c0,useExisting:n}]),he]})}return n})(),fm=new q("MAT_TAB_GROUP"),yl=(()=>{class n{_viewContainerRef=p(Ct);_closestTabGroup=p(fm,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new V;position=null;origin=null;isActive=!1;constructor(){p(ti).load(Qi)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Vt(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-tab"]],contentQueries:function(t,o,r){if(t&1&&(Oe(r,d0,5),Oe(r,l0,7,Ge)),t&2){let l;k(l=E())&&(o.templateLabel=l.first),k(l=E())&&(o._explicitContent=l.first)}},viewQuery:function(t,o){if(t&1&&Y(Ge,7),t&2){let r;k(r=E())&&(o._implicitContent=r.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(t,o){t&2&&ee("id",null)},inputs:{disabled:[2,"disabled","disabled",W],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[ze([{provide:gm,useExisting:n}]),yt],ngContentSelectors:vl,decls:1,vars:0,template:function(t,o){t&1&&(Ue(),f(0,q_,1,0,"ng-template"))},encapsulation:2})}return n})(),gl="mdc-tab-indicator--active",pm="mdc-tab-indicator--no-transition",fl=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(o=>o.elementRef.nativeElement===i),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let o=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(o),this._currentItem=e}}},m0=(()=>{class n{_elementRef=p(Q);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(gl);return}let o=t.getBoundingClientRect(),r=e.width/o.width,l=e.left-o.left;t.classList.add(pm),this._inkBarContentElement.style.setProperty("transform",`translateX(${l}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(pm),t.classList.add(gl),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(gl)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),o=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",o.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",W]}})}return n})();var _m=(()=>{class n extends m0{elementRef=p(Q);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275dir=R({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,o){t&2&&(ee("aria-disabled",!!o.disabled),X("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:[2,"disabled","disabled",W]},features:[he]})}return n})(),um={passive:!0},p0=650,u0=100,h0=(()=>{class n{_elementRef=p(Q);_changeDetectorRef=p(Ve);_viewportRuler=p(en);_dir=p(ft,{optional:!0});_ngZone=p(De);_platform=p(nt);_sharedResizeObserver=p(Uc);_injector=p(We);_renderer=p(ci);_animationMode=p(Be,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new V;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new V;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}_selectedIndex=0;selectFocusedIndex=new ce;indexFocused=new ce;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Ui(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),um),Ui(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),um))}ngAfterContentInit(){let e=this._dir?this._dir.change:Ne("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(rc(32),Pe(this._destroyed)),o=this._viewportRuler.change(150).pipe(Pe(this._destroyed)),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Rr(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),It(r,{injector:this._injector}),tt(e,o,t,this._items.changes,this._itemsResized()).pipe(Pe(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}_itemsResized(){return typeof ResizeObserver!="function"?nc:this._items.changes.pipe(Tt(this._items),Kt(e=>new fr(t=>this._ngZone.runOutsideAngular(()=>{let o=new ResizeObserver(r=>t.next(r));return e.forEach(r=>o.observe(r.elementRef.nativeElement)),()=>{o.disconnect()}}))),sc(1),bt(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!xt(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,o=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+o)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:l}=t.elementRef.nativeElement,m,u;this._getLayoutDirection()=="ltr"?(m=r,u=m+l):(u=this._tabListInner.nativeElement.offsetWidth-r,m=u-l);let g=this.scrollDistance,b=this.scrollDistance+o;m<g?this.scrollDistance-=g-m:u>b&&(this.scrollDistance+=Math.min(u-b,m-g))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,o=e-t>=5;o||(this.scrollDistance=0),o!==this._showPaginationControls&&(this._showPaginationControls=o,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),vr(p0,u0).pipe(Pe(tt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:o,distance:r}=this._scrollHeader(e);(r===0||r>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",W],selectedIndex:[2,"selectedIndex","selectedIndex",Rt]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})(),g0=(()=>{class n extends h0{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new fl(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ee(n)))(o||n)}})();static \u0275cmp=x({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,o,r){if(t&1&&Oe(r,_m,4),t&2){let l;k(l=E())&&(o._items=l)}},viewQuery:function(t,o){if(t&1&&(Y(Q_,7),Y(Y_,7),Y($_,7),Y(G_,5),Y(K_,5)),t&2){let r;k(r=E())&&(o._tabListContainer=r.first),k(r=E())&&(o._tabList=r.first),k(r=E())&&(o._tabListInner=r.first),k(r=E())&&(o._nextPaginator=r.first),k(r=E())&&(o._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,o){t&2&&X("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl",o._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",W]},features:[he],ngContentSelectors:vl,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,o){if(t&1){let r=S();Ue(),s(0,"div",5,0),v("click",function(){return y(r),C(o._handlePaginatorClick("before"))})("mousedown",function(m){return y(r),C(o._handlePaginatorPress("before",m))})("touchend",function(){return y(r),C(o._stopInterval())}),M(2,"div",6),a(),s(3,"div",7,1),v("keydown",function(m){return y(r),C(o._handleKeydown(m))}),s(5,"div",8,2),v("cdkObserveContent",function(){return y(r),C(o._onContentChanges())}),s(7,"div",9,3),ge(9),a()()(),s(10,"div",10,4),v("mousedown",function(m){return y(r),C(o._handlePaginatorPress("after",m))})("click",function(){return y(r),C(o._handlePaginatorClick("after"))})("touchend",function(){return y(r),C(o._stopInterval())}),M(12,"div",6),a()}t&2&&(X("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),h("matRippleDisabled",o._disableScrollBefore||o.disableRipple),d(3),X("_mat-animation-noopable",o._animationMode==="NoopAnimations"),d(2),ee("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby||null),d(5),X("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),h("matRippleDisabled",o._disableScrollAfter||o.disableRipple))},dependencies:[zn,Dr],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return n})(),f0=new q("MAT_TABS_CONFIG"),hm=(()=>{class n extends gi{_host=p(_l);_centeringSub=et.EMPTY;_leavingSub=et.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Tt(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=R({type:n,selectors:[["","matTabBodyHost",""]],features:[he]})}return n})(),_l=(()=>{class n{_elementRef=p(Q);_dir=p(ft,{optional:!0});_ngZone=p(De);_injector=p(We);_renderer=p(ci);_animationsModule=p(Be,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=et.EMPTY;_position;_previousPosition;_onCentering=new ce;_beforeCentering=new ce;_afterLeavingCenter=new ce;_onCentered=new ce(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=p(Ve);this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),It(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,t=o=>{o.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),o.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",o=>{o.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",t),this._renderer.listen(e,"transitioncancel",t)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),It(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,o){if(t&1&&(Y(hm,5),Y(X_,5)),t&2){let r;k(r=E())&&(o._portalHost=r.first),k(r=E())&&(o._contentElement=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(t,o){t&2&&ee("inert",o._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,o){t&1&&(s(0,"div",1,0),f(2,Z_,0,0,"ng-template",2),a()),t&2&&X("mat-tab-body-content-left",o._position==="left")("mat-tab-body-content-right",o._position==="right")("mat-tab-body-content-can-animate",o._position==="center"||o._previousPosition==="center")},dependencies:[hm,$o],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return n})(),bm=(()=>{class n{_elementRef=p(Q);_changeDetectorRef=p(Ve);_ngZone=p(De);_tabsSubscription=et.EMPTY;_tabLabelSubscription=et.EMPTY;_tabBodySubscription=et.EMPTY;_diAnimationsDisabled=p(Be,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new xr;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ce;focusChange=new ce;animationDone=new ce;selectedTabChange=new ce(!0);_groupId;_isServer=!p(nt).isBrowser;constructor(){let e=p(f0,{optional:!0});this._groupId=p(gt).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,r)=>o.isActive=r===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,o)=>{t.position=o-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),o;for(let r=0;r<t.length;r++)if(t[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,o=t[r];break}!o&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Tt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new bl;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=tt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,t){return e.id||`${this._groupId}-label-${t}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,t,o){t.focusIndex=o,e.disabled||(this.selectedIndex=o)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}_bodyCentered(e){e&&this._tabBodies?.forEach((t,o)=>t._setActiveClass(o===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,o,r){if(t&1&&Oe(r,yl,5),t&2){let l;k(l=E())&&(o._allTabs=l)}},viewQuery:function(t,o){if(t&1&&(Y(J_,5),Y(e0,5),Y(_l,5)),t&2){let r;k(r=E())&&(o._tabBodyWrapper=r.first),k(r=E())&&(o._tabHeader=r.first),k(r=E())&&(o._tabBodies=r)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(t,o){t&2&&(ee("mat-align-tabs",o.alignTabs),mi("mat-"+(o.color||"primary")),di("--mat-tab-animation-duration",o.animationDuration),X("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header",o.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",o.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",W],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",W],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",W],selectedIndex:[2,"selectedIndex","selectedIndex",Rt],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Rt],disablePagination:[2,"disablePagination","disablePagination",W],disableRipple:[2,"disableRipple","disableRipple",W],preserveContent:[2,"preserveContent","preserveContent",W],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[ze([{provide:fm,useExisting:n}])],ngContentSelectors:vl,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(t,o){if(t&1){let r=S();Ue(),s(0,"mat-tab-header",3,0),v("indexFocused",function(m){return y(r),C(o._focusChanged(m))})("selectFocusedIndex",function(m){return y(r),C(o.selectedIndex=m)}),Vo(2,o0,8,17,"div",4,zo),a(),f(4,r0,1,0),s(5,"div",5,1),Vo(7,a0,1,10,"mat-tab-body",6,zo),a()}t&2&&(h("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),d(2),jo(o._tabs),d(2),ke(o._isServer?4:-1),d(),X("_mat-animation-noopable",o._animationsDisabled()),d(2),jo(o._tabs))},dependencies:[g0,_m,Ic,zn,gi,_l],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return n})(),bl=class{index;tab};var vm=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({imports:[me,me]})}return n})();var b0=["dialogCategoria"],v0=["dialogProveedor"];function y0(n,i){n&1&&(s(0,"mat-error"),c(1," El nombre es obligatorio "),a())}function C0(n,i){n&1&&(s(0,"mat-error"),c(1," La descripci\xF3n es obligatoria "),a())}function M0(n,i){n&1&&(s(0,"mat-error"),c(1,"Precio inv\xE1lido"),a())}function x0(n,i){n&1&&(s(0,"mat-error"),c(1," Debes seleccionar un destino "),a())}function w0(n,i){n&1&&(s(0,"mat-error"),c(1,"Debe ser mayor a 0"),a())}function P0(n,i){if(n&1&&(D(0),s(1,"mat-form-field",6)(2,"mat-label"),c(3,"Cantidad en Stock"),a(),M(4,"input",25),f(5,w0,2,0,"mat-error",8),a(),T()),n&2){let e,t=_();d(5),h("ngIf",(e=t.productoForm.get("stock"))==null?null:e.invalid)}}function O0(n,i){n&1&&(s(0,"mat-error"),c(1,"Debe ser mayor a 0"),a())}function S0(n,i){if(n&1&&(D(0),s(1,"mat-form-field",6)(2,"mat-label"),c(3,"Cantidad en Bodega"),a(),M(4,"input",26),f(5,O0,2,0,"mat-error",8),a(),T()),n&2){let e,t=_();d(5),h("ngIf",(e=t.productoForm.get("cantidadBodega"))==null?null:e.invalid)}}function k0(n,i){if(n&1&&(s(0,"mat-option",27),c(1),a()),n&2){let e=i.$implicit;h("value",e._id),d(),P(" ",e.nombre," ")}}function E0(n,i){if(n&1&&(s(0,"mat-option",27),c(1),a()),n&2){let e=i.$implicit;h("value",e._id),d(),P(" ",e.nombre," ")}}function D0(n,i){if(n&1&&(s(0,"div",28),M(1,"img",29),a()),n&2){let e=_();d(),h("src",e.imagenPreview,xe)}}function T0(n,i){n&1&&(s(0,"div",30),c(1,"Sin imagen"),a())}function I0(n,i){if(n&1){let e=S();s(0,"div",31)(1,"h2"),c(2,"Agregar nueva categor\xEDa"),a(),s(3,"mat-form-field",6)(4,"mat-label"),c(5,"Nombre de la categor\xEDa"),a(),s(6,"input",32),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nuevaCategoria,o)||(r.nuevaCategoria=o),C(o)}),a()(),s(7,"div",33)(8,"button",34),c(9,"Cancelar"),a(),s(10,"button",35),v("click",function(){y(e);let o=_();return C(o.guardarCategoria())}),c(11,"Guardar"),a()()()}if(n&2){let e=_();d(6),te("ngModel",e.nuevaCategoria)}}function R0(n,i){if(n&1){let e=S();s(0,"div",31)(1,"h2"),c(2,"Agregar nuevo proveedor"),a(),s(3,"mat-form-field",6)(4,"mat-label"),c(5,"Nombre del proveedor"),a(),s(6,"input",36),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nuevoProveedor.nombre,o)||(r.nuevoProveedor.nombre=o),C(o)}),a()(),s(7,"mat-form-field",6)(8,"mat-label"),c(9,"Tel\xE9fono"),a(),s(10,"input",37),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nuevoProveedor.telefono,o)||(r.nuevoProveedor.telefono=o),C(o)}),a()(),s(11,"mat-form-field",6)(12,"mat-label"),c(13,"Direcci\xF3n"),a(),s(14,"textarea",38),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nuevoProveedor.direccion,o)||(r.nuevoProveedor.direccion=o),C(o)}),a()(),s(15,"div",33)(16,"button",34),c(17,"Cancelar"),a(),s(18,"button",39),v("click",function(){y(e);let o=_();return C(o.guardarProveedor())}),c(19," Guardar "),a()()()}if(n&2){let e=_();d(6),te("ngModel",e.nuevoProveedor.nombre),d(4),te("ngModel",e.nuevoProveedor.telefono),d(4),te("ngModel",e.nuevoProveedor.direccion),d(4),h("disabled",!e.nuevoProveedor.nombre)}}var Do=class n{registroCompleto=new ce;dialogCategoria;dialogProveedor;productoForm;categorias=[];proveedores=[];imagenSeleccionada=null;imagenPreview=null;nuevaCategoria="";nuevoProveedor={nombre:"",telefono:"",direccion:""};fb=p(wn);productoService=p(mt);categoriaService=p(Eo);dialog=p(Ot);ngOnInit(){this.crearFormulario(),this.cargarCategorias(),this.cargarProveedores()}crearFormulario(){this.productoForm=this.fb.group({nombre:["",we.required],descripcion:["",we.required],precio:[null,[we.required,we.min(0)]],stock:[0,[we.min(0)]],cantidadBodega:[0,[we.min(0)]],categoria:["",we.required],proveedor:["",we.required],destino:["stock",we.required],imagen:[null]})}cargarCategorias(){this.categoriaService.getCategorias().subscribe({next:i=>this.categorias=i,error:i=>console.error("\u274C Error cargando categor\xEDas",i)})}cargarProveedores(){this.productoService.getProveedores().subscribe({next:i=>this.proveedores=i,error:i=>console.error("\u274C Error cargando proveedores",i)})}onDestinoChange(i){i==="stock"?(this.productoForm.get("stock")?.setValidators([we.required,we.min(1)]),this.productoForm.get("cantidadBodega")?.clearValidators(),this.productoForm.patchValue({cantidadBodega:0})):(this.productoForm.get("cantidadBodega")?.setValidators([we.required,we.min(1)]),this.productoForm.get("stock")?.clearValidators(),this.productoForm.patchValue({stock:0})),this.productoForm.get("stock")?.updateValueAndValidity(),this.productoForm.get("cantidadBodega")?.updateValueAndValidity()}onImagenSeleccionada(i){let e=i.target.files?.[0]??null;if(e){this.imagenSeleccionada=e;let t=new FileReader;t.onload=()=>this.imagenPreview=t.result,t.readAsDataURL(e)}else this.imagenSeleccionada=null,this.imagenPreview=null}registrarProducto(){if(this.productoForm.invalid){this.productoForm.markAllAsTouched(),alert("\u26A0\uFE0F Completa todos los campos requeridos.");return}let i=this.productoForm.value;i.destino=i.destino||"stock",i.destino==="stock"?(i.stock=i.stock&&i.stock>0?i.stock:1,i.cantidadBodega=0):(i.cantidadBodega=i.cantidadBodega&&i.cantidadBodega>0?i.cantidadBodega:1,i.stock=0);let e={nombre:i.nombre,descripcion:i.descripcion,precio:i.precio,stock:i.stock,cantidadBodega:i.cantidadBodega,categoria:{_id:i.categoria,nombre:""},proveedor:{_id:i.proveedor,nombre:""},destino:i.destino,movimientos:[{tipo:"entrada",cantidad:i.destino==="stock"?i.stock:i.cantidadBodega,observaciones:"Registro inicial"}]};this.productoService.crearProductoConImagen(e,this.imagenSeleccionada||void 0).subscribe({next:()=>{alert("\u2705 Producto registrado correctamente."),this.resetFormulario(),this.registroCompleto.emit()},error:t=>{console.error("\u274C Error al registrar producto:",t),alert(t.error?.message||"\u274C Error al registrar el producto.")}})}resetFormulario(){this.productoForm.reset({nombre:"",descripcion:"",precio:null,stock:0,cantidadBodega:0,categoria:"",proveedor:"",destino:"stock",imagen:null}),this.imagenSeleccionada=null,this.imagenPreview=null}abrirDialogCategoria(){this.dialog.open(this.dialogCategoria).afterClosed().subscribe(()=>{this.nuevaCategoria="",this.cargarCategorias()})}guardarCategoria(){if(!this.nuevaCategoria.trim()){alert("\u26A0\uFE0F Ingresa un nombre v\xE1lido para la categor\xEDa.");return}this.categoriaService.crearCategoria(this.nuevaCategoria).subscribe({next:()=>{alert("\u2705 Categor\xEDa creada con \xE9xito."),this.dialog.closeAll(),this.cargarCategorias()},error:i=>{console.error("\u274C Error al crear categor\xEDa:",i),alert("\u274C No se pudo crear la categor\xEDa.")}})}abrirDialogProveedor(){this.dialog.open(this.dialogProveedor).afterClosed().subscribe(()=>{this.nuevoProveedor={nombre:"",telefono:"",direccion:""},this.cargarProveedores()})}guardarProveedor(){let{nombre:i,telefono:e,direccion:t}=this.nuevoProveedor;if(!i?.trim()){alert("\u26A0\uFE0F El nombre del proveedor es obligatorio.");return}let o={nombre:i.trim(),telefono:e?.trim()||"",direccion:t?.trim()||""};this.productoService.crearProveedor(o).subscribe({next:()=>{alert("\u2705 Proveedor creado con \xE9xito."),this.dialog.closeAll(),this.cargarProveedores()},error:r=>{console.error("\u274C Error al crear proveedor:",r),alert("\u274C No se pudo crear el proveedor.")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-registro-mercancia"]],viewQuery:function(e,t){if(e&1&&(Y(b0,5),Y(v0,5)),e&2){let o;k(o=E())&&(t.dialogCategoria=o.first),k(o=E())&&(t.dialogProveedor=o.first)}},outputs:{registroCompleto:"registroCompleto"},decls:64,vars:11,consts:[["placeholder",""],["dialogCategoria",""],["dialogProveedor",""],[1,"registro-mercancia-card"],[1,"form-horizontal",3,"formGroup"],[1,"form-left"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","rows","2","formControlName","descripcion","required",""],["matInput","","type","number","formControlName","precio","min","0","step","0.01","required",""],["formControlName","destino","required","",3,"selectionChange"],["value","stock"],["value","bodega"],[1,"field-with-button"],["formControlName","categoria","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent","type","button",1,"side-button",3,"click"],["formControlName","proveedor","required",""],[1,"acciones"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"form-right"],["class","imagen-preview",4,"ngIf","ngIfElse"],[1,"upload-btn"],["type","file","accept","image/*",3,"change"],["matInput","","type","number","formControlName","stock","min","1","step","1","required",""],["matInput","","type","number","formControlName","cantidadBodega","min","1","step","1","required",""],[3,"value"],[1,"imagen-preview"],["alt","Imagen seleccionada",3,"src"],[1,"imagen-placeholder"],[1,"custom-dialog"],["matInput","","name","nuevaCategoria",3,"ngModelChange","ngModel"],[1,"dialog-actions"],["mat-button","","mat-dialog-close","",1,"cancelar-btn"],["mat-flat-button","","color","primary",1,"guardar-btn",3,"click"],["matInput","","name","nombreProveedor","required","",3,"ngModelChange","ngModel"],["matInput","","type","tel","name","telefonoProveedor",3,"ngModelChange","ngModel"],["matInput","","rows","2","name","direccionProveedor",3,"ngModelChange","ngModel"],["mat-flat-button","","color","primary",1,"guardar-btn",3,"click","disabled"]],template:function(e,t){if(e&1){let o=S();s(0,"mat-card",3)(1,"mat-card-content")(2,"form",4)(3,"div",5)(4,"mat-form-field",6)(5,"mat-label"),c(6,"Nombre"),a(),M(7,"input",7),f(8,y0,2,0,"mat-error",8),a(),s(9,"mat-form-field",6)(10,"mat-label"),c(11,"Descripci\xF3n"),a(),M(12,"textarea",9),f(13,C0,2,0,"mat-error",8),a(),s(14,"mat-form-field",6)(15,"mat-label"),c(16,"Precio"),a(),M(17,"input",10),f(18,M0,2,0,"mat-error",8),a(),s(19,"mat-form-field",6)(20,"mat-label"),c(21,"Destino"),a(),s(22,"mat-select",11),v("selectionChange",function(l){return y(o),C(t.onDestinoChange(l.value))}),s(23,"mat-option",12),c(24,"Stock"),a(),s(25,"mat-option",13),c(26,"Bodega"),a()(),f(27,x0,2,0,"mat-error",8),a(),f(28,P0,6,1,"ng-container",8)(29,S0,6,1,"ng-container",8),s(30,"div",14)(31,"mat-form-field",6)(32,"mat-label"),c(33,"Categor\xEDa"),a(),s(34,"mat-select",15),f(35,k0,2,2,"mat-option",16),a()(),s(36,"button",17),v("click",function(){return y(o),C(t.abrirDialogCategoria())}),s(37,"mat-icon"),c(38,"add"),a()()(),s(39,"div",14)(40,"mat-form-field",6)(41,"mat-label"),c(42,"Proveedor"),a(),s(43,"mat-select",18),f(44,E0,2,2,"mat-option",16),a()(),s(45,"button",17),v("click",function(){return y(o),C(t.abrirDialogProveedor())}),s(46,"mat-icon"),c(47,"add"),a()()(),s(48,"div",19)(49,"button",20),v("click",function(){return y(o),C(t.registrarProducto())}),c(50," Registrar Producto "),a()()(),s(51,"div",21),f(52,D0,2,1,"div",22)(53,T0,2,0,"ng-template",null,0,qe),s(55,"label",23)(56,"mat-icon"),c(57,"cloud_upload"),a(),c(58," Cargar imagen "),s(59,"input",24),v("change",function(l){return y(o),C(t.onImagenSeleccionada(l))}),a()()()()()(),f(60,I0,12,1,"ng-template",null,1,qe)(62,R0,20,4,"ng-template",null,2,qe)}if(e&2){let o,r,l,m,u,g,b=fe(54);d(2),h("formGroup",t.productoForm),d(6),h("ngIf",(o=t.productoForm.get("nombre"))==null?null:o.hasError("required")),d(5),h("ngIf",(r=t.productoForm.get("descripcion"))==null?null:r.hasError("required")),d(5),h("ngIf",(l=t.productoForm.get("precio"))==null?null:l.invalid),d(9),h("ngIf",(m=t.productoForm.get("destino"))==null?null:m.hasError("required")),d(),h("ngIf",((u=t.productoForm.get("destino"))==null?null:u.value)==="stock"),d(),h("ngIf",((g=t.productoForm.get("destino"))==null?null:g.value)==="bodega"),d(6),h("ngForOf",t.categorias),d(9),h("ngForOf",t.proveedores),d(8),h("ngIf",t.imagenPreview)("ngIfElse",b)}},dependencies:[L,_e,Z,Pn,Gi,Ie,Ki,Re,$i,xn,Mn,Xi,Cn,Ae,Ke,je,Fe,Xe,jr,Le,He,$,oe,dt,kt,Ii,ni,be,Se,Wc,ut,Un,K,G],styles:['@charset "UTF-8";.registro-mercancia-card[_ngcontent-%COMP%]{max-width:100%;padding:2rem;border-radius:16px;background-color:#fff;box-shadow:0 6px 24px #00000014;transition:box-shadow .3s ease}.registro-mercancia-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 28px #0000001a}.form-horizontal[_ngcontent-%COMP%]{display:flex;gap:2.5rem;flex-wrap:wrap}.form-left[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:1.2rem}.form-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:1.5rem}.imagen-preview[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.imagen-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:240px;border-radius:12px;object-fit:cover;box-shadow:0 3px 16px #0000001f}.imagen-placeholder[_ngcontent-%COMP%]{width:100%;height:240px;background:linear-gradient(135deg,#f7f7f7,#e8e8e8);border-radius:12px;color:#777;font-style:italic;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 8px #0000000f}input[type=file][_ngcontent-%COMP%]{display:none}.upload-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.6rem;background-color:#007bff;color:#fff;font-weight:500;padding:.8rem 1.4rem;border-radius:8px;cursor:pointer;transition:all .3s ease;box-shadow:0 3px 10px #007bff4d}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0069d9;box-shadow:0 4px 14px #007bff66;transform:translateY(-1px)}.upload-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px}.field-with-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.field-with-button[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1}.field-with-button[_ngcontent-%COMP%]   .side-button[_ngcontent-%COMP%]{height:50px;width:50px;margin-top:-2%;border-radius:10px;background-color:#f9f9f9;box-shadow:0 2px 6px #00000014;transition:background .3s,transform .2s}.field-with-button[_ngcontent-%COMP%]   .side-button[_ngcontent-%COMP%]:hover{background-color:#eaeaea;transform:scale(1.05)}.field-with-button[_ngcontent-%COMP%]   .side-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#007bff}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1.5rem}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-weight:500;border-radius:10px}.custom-dialog[_ngcontent-%COMP%]{padding:1.8rem;border-radius:16px;background-color:#fff;box-shadow:0 6px 20px #0000001f;max-width:420px;color:#333}.custom-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:1.5rem}.custom-dialog[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.custom-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.2rem}.custom-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .cancelar-btn[_ngcontent-%COMP%]{color:#007bff;background-color:transparent}.custom-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .cancelar-btn[_ngcontent-%COMP%]:hover{background-color:#007bff14}.custom-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .guardar-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .guardar-btn[_ngcontent-%COMP%]:hover{background-color:#0069d9}@media (max-width: 768px){.form-horizontal[_ngcontent-%COMP%]{flex-direction:column}.acciones[_ngcontent-%COMP%]{justify-content:center}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.upload-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.custom-dialog[_ngcontent-%COMP%]{width:90vw;padding:1.2rem}}']})};var A0=()=>[5,10,20];function F0(n,i){n&1&&(s(0,"div",21),M(1,"mat-spinner"),a())}function L0(n,i){n&1&&(s(0,"th",22),c(1," Producto "),a())}function N0(n,i){if(n&1&&(s(0,"td",23),c(1),a()),n&2){let e=i.$implicit;d(),P(" ",e.producto," ")}}function B0(n,i){n&1&&(s(0,"th",24),c(1,"Categor\xEDa"),a())}function z0(n,i){if(n&1&&(s(0,"td",23),c(1),a()),n&2){let e=i.$implicit;d(),O(e.categoria)}}function V0(n,i){n&1&&(s(0,"th",24),c(1,"Proveedor"),a())}function j0(n,i){if(n&1&&(s(0,"td",23),c(1),a()),n&2){let e=i.$implicit;d(),O(e.proveedor)}}function H0(n,i){n&1&&(s(0,"th",22),c(1," Bodega "),a())}function W0(n,i){if(n&1&&(s(0,"td",23),c(1),a()),n&2){let e=i.$implicit;d(),P(" ",e.cantidadBodega," ")}}function U0(n,i){n&1&&(s(0,"th",22),c(1," Stock "),a())}function q0(n,i){if(n&1&&(s(0,"td",23),c(1),a()),n&2){let e=i.$implicit;d(),P(" ",e.cantidadStock," ")}}function Q0(n,i){n&1&&(s(0,"th",24),c(1," Mover "),a())}function Y0(n,i){if(n&1&&(s(0,"td",23)(1,"form",25)(2,"mat-form-field",26),M(3,"input",27),a()()()),n&2){let e=i.$implicit,t=_();d(),h("formGroup",t.formularios[e.id])}}function $0(n,i){n&1&&(s(0,"th",24),c(1," Acciones "),a())}function G0(n,i){if(n&1){let e=S();s(0,"td",23)(1,"button",28),v("click",function(){let o=y(e).$implicit,r=_();return C(r.moverAStock(o))}),c(2," A Stock "),a(),s(3,"button",29),v("click",function(){let o=y(e).$implicit,r=_();return C(r.moverABodega(o))}),c(4," A Bodega "),a()()}}function K0(n,i){n&1&&M(0,"tr",30)}function X0(n,i){n&1&&M(0,"tr",31)}function Z0(n,i){n&1&&(s(0,"div",32),c(1," Cargando mercanc\xEDa... "),a())}var Xn=class n{constructor(i,e){this.fb=i;this.productoService=e}recargar;displayedColumns=["producto","categoria","proveedor","cantidadBodega","cantidadStock","cantidadMover","acciones"];dataSource=new vi([]);formularios={};cargando=!1;paginator;sort;ngOnInit(){this.cargarMercancia()}ngOnChanges(i){i.recargar&&this.recargar&&this.cargarMercancia()}cargarMercancia(){this.cargando=!0,this.productoService.getProductos().subscribe({next:i=>{let t=(Array.isArray(i)?i:[]).map(o=>({id:o._id??"",producto:o.nombre??"",categoria:o.categoria?.nombre??"Sin categor\xEDa",proveedor:o.proveedor?.nombre??"Sin proveedor",cantidadBodega:Number(o.cantidadBodega??0),cantidadStock:Number(o.stock??0)}));t.forEach(o=>{this.formularios[o.id]=this.fb.group({cantidadMover:[1,[we.required,we.min(1)]]})}),this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cargando=!1},error:i=>{console.error("\u274C Error cargando mercanc\xEDa",i),this.cargando=!1,this.dataSource.data=[]}})}aplicarFiltro(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase()}moverABodega(i){this.moverProducto(i,"bodega","stock")}moverAStock(i){this.moverProducto(i,"stock","bodega")}moverProducto(i,e,t){let o=this.formularios[i.id];if(!o||o.invalid)return;let r=Number(o.value.cantidadMover);if(e==="bodega"&&r>i.cantidadStock){alert("\u274C Cantidad superior a la disponible en Stock");return}if(e==="stock"&&r>i.cantidadBodega){alert("\u274C Cantidad superior a la disponible en Bodega");return}this.productoService.registrarMovimiento(i.id,{tipo:"traslado",cantidad:r,bodegaOrigen:t,bodegaDestino:e,observaciones:`Movido ${r} de ${t} a ${e}`}).subscribe({next:()=>{e==="bodega"?(i.cantidadBodega+=r,i.cantidadStock-=r):(i.cantidadBodega-=r,i.cantidadStock+=r),o.reset({cantidadMover:1}),console.log(`\u2705 Movido ${r} de ${i.producto} (${t} \u2192 ${e})`)},error:l=>console.error(`\u274C Error moviendo producto (${t} \u2192 ${e})`,l)})}static \u0275fac=function(e){return new(e||n)(z(wn),z(mt))};static \u0275cmp=x({type:n,selectors:[["app-mercancia-registro"]],viewQuery:function(e,t){if(e&1&&(Y(Et,5),Y(Li,5)),e&2){let o;k(o=E())&&(t.paginator=o.first),k(o=E())&&(t.sort=o.first)}},inputs:{recargar:"recargar"},features:[yt],decls:35,vars:7,consts:[["class","cargando",4,"ngIf"],[1,"mercancia-container"],[1,"buscador"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Escribe para filtrar...",3,"keyup"],["matSuffix",""],["mat-table","","matSort","",1,"mat-elevation-z8","full-width-table",3,"dataSource"],["matColumnDef","producto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoria"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","proveedor"],["matColumnDef","cantidadBodega"],["matColumnDef","cantidadStock"],["matColumnDef","cantidadMover"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","loading-text",4,"ngIf"],[1,"cargando"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"formGroup"],["appearance","outline",1,"cantidad-input"],["matInput","","type","number","formControlName","cantidadMover","min","1"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-text"]],template:function(e,t){e&1&&(f(0,F0,2,0,"div",0),s(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),c(5,"Buscar producto"),a(),s(6,"input",4),v("keyup",function(r){return t.aplicarFiltro(r)}),a(),s(7,"mat-icon",5),c(8,"search"),a()()(),s(9,"table",6),D(10,7),f(11,L0,2,0,"th",8)(12,N0,2,1,"td",9),T(),D(13,10),f(14,B0,2,0,"th",11)(15,z0,2,1,"td",9),T(),D(16,12),f(17,V0,2,0,"th",11)(18,j0,2,1,"td",9),T(),D(19,13),f(20,H0,2,0,"th",8)(21,W0,2,1,"td",9),T(),D(22,14),f(23,U0,2,0,"th",8)(24,q0,2,1,"td",9),T(),D(25,15),f(26,Q0,2,0,"th",11)(27,Y0,4,1,"td",9),T(),D(28,16),f(29,$0,2,0,"th",11)(30,G0,5,0,"td",9),T(),f(31,K0,1,0,"tr",17)(32,X0,1,0,"tr",18),a(),M(33,"mat-paginator",19),f(34,Z0,2,0,"div",20),a()),e&2&&(h("ngIf",t.cargando),d(9),h("dataSource",t.dataSource),d(22),h("matHeaderRowDef",t.displayedColumns),d(),h("matRowDefColumns",t.displayedColumns),d(),h("pageSizeOptions",ht(6,A0)),d(),h("ngIf",t.cargando))},dependencies:[L,Z,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,$,oe,K,G,je,Fe,Xe,Zi,Le,He,Pn,Gi,Ie,Ki,Re,$i,Mn,Xi,Cn,an,Et,ko,Li,Ha,Dd],styles:[".mercancia-container[_ngcontent-%COMP%]{padding:2rem;background:#fafafa;border-radius:12px}.mercancia-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin-bottom:1.5rem;color:#333}.mercancia-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]{margin-bottom:1rem}.mercancia-container[_ngcontent-%COMP%]   .buscador[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:8px}.mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden}.mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f4f6f8;font-weight:600;color:#555}.mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;color:#333}.mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:#f9f9f9}.mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mercancia-container[_ngcontent-%COMP%]   .full-width-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem 1rem}.mercancia-container[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]{max-width:80px}.mercancia-container[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.mercancia-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;font-weight:500;border-radius:6px}.mercancia-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.mercancia-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{margin-top:1rem;background:#fff;border-radius:8px;padding:.5rem;box-shadow:0 2px 6px #0000000d}.mercancia-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1rem;color:#666}"]})};var qa=class n{tabIndex=0;mercanciaRegistro;onRegistroCompleto(){this.tabIndex=1,setTimeout(()=>{this.mercanciaRegistro&&this.mercanciaRegistro.cargarMercancia()},200)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-control-mercancia"]],viewQuery:function(e,t){if(e&1&&Y(Xn,5),e&2){let o;k(o=E())&&(t.mercanciaRegistro=o.first)}},decls:5,vars:1,consts:[[3,"selectedIndexChange","selectedIndex"],["label","Registrar Producto"],[3,"registroCompleto"],["label","Listado de Mercanc\xEDa"]],template:function(e,t){e&1&&(s(0,"mat-tab-group",0),ne("selectedIndexChange",function(r){return ie(t.tabIndex,r)||(t.tabIndex=r),r}),s(1,"mat-tab",1)(2,"app-registro-mercancia",2),v("registroCompleto",function(){return t.onRegistroCompleto()}),a()(),s(3,"mat-tab",3),M(4,"app-mercancia-registro"),a()()),e&2&&te("selectedIndex",t.tabIndex)},dependencies:[L,vm,yl,bm,Do,Xn],styles:[".control-card[_ngcontent-%COMP%]{margin:2rem;padding:1rem;background-color:#fdfdfd;border-radius:10px;box-shadow:0 4px 10px #0000000d}.control-card[_ngcontent-%COMP%]     .mat-tab-label{font-weight:600;font-size:16px}.control-card[_ngcontent-%COMP%]     .mat-tab-body{padding:1.5rem}"]})};var J0=()=>({exact:!0}),Qa=class n{constructor(i){this.auth=i}logout(){this.auth.logout()}static \u0275fac=function(e){return new(e||n)(z(Ft))};static \u0275cmp=x({type:n,selectors:[["app-vendedor-layout"]],decls:25,vars:2,consts:[["color","primary",1,"navbar"],["routerLink","/",1,"logo"],[1,"spacer"],["mat-button","","routerLink","/vendedor/dashboard","routerLinkActive","active",3,"routerLinkActiveOptions"],["mat-button","","routerLink","/vendedor/armar-pedido","routerLinkActive","active"],["mat-button","","routerLink","/vendedor/pedidos-en-espera","routerLinkActive","active"],["mat-button","",3,"click"],[1,"main-content"]],template:function(e,t){e&1&&(s(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon"),c(3,"store"),a(),s(4,"span"),c(5,"Panel Vendedor"),a()(),M(6,"span",2),s(7,"a",3)(8,"mat-icon"),c(9,"dashboard"),a(),c(10," Dashboard "),a(),s(11,"a",4)(12,"mat-icon"),c(13,"add_shopping_cart"),a(),c(14," Armar pedido "),a(),s(15,"a",5)(16,"mat-icon"),c(17,"hourglass_empty"),a(),c(18," Pedidos en espera "),a(),s(19,"button",6),v("click",function(){return t.logout()}),s(20,"mat-icon"),c(21,"logout"),a(),c(22," Cerrar sesi\xF3n "),a()(),s(23,"div",7),M(24,"router-outlet"),a()),e&2&&(d(7),h("routerLinkActiveOptions",ht(1,J0)))},dependencies:[L,vn,ct,At,co,fo,go,$,yn,oe,K,G],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.navbar[_ngcontent-%COMP%]   a.mat-button[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   a.mat-button.active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   button.mat-button.active[_ngcontent-%COMP%]{background-color:#ffffff26;border-radius:6px}.navbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.main-content[_ngcontent-%COMP%]{padding:1rem}"]})};var eb=n=>({"background-color":n});function tb(n,i){n&1&&(s(0,"div",5)(1,"mat-icon"),c(2,"hourglass_top"),a(),s(3,"span"),c(4,"Cargando datos..."),a()())}function ib(n,i){if(n&1&&(s(0,"mat-card",8)(1,"div",9)(2,"mat-icon",10),c(3),a()(),s(4,"div",11)(5,"h2"),c(6),a(),s(7,"p"),c(8),a()()()),n&2){let e=i.$implicit;d(),h("ngStyle",Hi(8,eb,e.bgColor)),d(),di("color",e.color),d(),P(" ",e.icon," "),d(2),di("color",e.color),d(),O(e.value),d(2),O(e.title)}}function nb(n,i){if(n&1&&(s(0,"div",6),f(1,ib,9,10,"mat-card",7),a()),n&2){let e=_();d(),h("ngForOf",e.metrics)}}var Ya=class n{constructor(i,e){this.orderService=i;this.productoService=e}metrics=[];loading=!0;ngOnInit(){this.loadMetrics()}loadMetrics(){this.loading=!0,br({orders:this.orderService.getPedidosVendedor(),productos:this.productoService.getProductos()}).pipe($e(({orders:i,productos:e})=>{let t=i.filter(u=>u.estado==="pendiente").length,o=i.filter(u=>u.estado==="verificado").length,r=i.filter(u=>u.estado==="enviado").length,l=i.filter(u=>u.estado==="entregado").length,m=i.filter(u=>u.estado==="entregado").reduce((u,g)=>u+g.total,0);return[{title:"Pedidos pendientes",value:t,icon:"lock_clock",color:"#ff9800",bgColor:"#fff4e5"},{title:"Pedidos verificados",value:o,icon:"rule",color:"#1e88e5",bgColor:"#e7f2ff"},{title:"Pedidos enviados",value:r,icon:"local_shipping",color:"#00acc1",bgColor:"#e0f7fa"},{title:"Pedidos completados",value:l,icon:"done_all",color:"#43a047",bgColor:"#e8f5e9"},{title:"Productos publicados",value:e.length,icon:"inventory_2",color:"#1976d2",bgColor:"#e3f2fd"},{title:"Ingresos totales",value:`$${m.toLocaleString()}`,icon:"attach_money",color:"#2e7d32",bgColor:"#e8f5e9"}]}),yr(()=>this.loading=!1)).subscribe({next:i=>this.metrics=i,error:i=>console.error("Error cargando m\xE9tricas",i)})}static \u0275fac=function(e){return new(e||n)(z(pt),z(mt))};static \u0275cmp=x({type:n,selectors:[["app-user-dashboard"]],decls:11,vars:2,consts:[[1,"dashboard-wrapper"],[1,"dashboard-header"],["mat-raised-button","","color","primary",3,"click"],["class","loading",4,"ngIf"],["class","dashboard-container",4,"ngIf"],[1,"loading"],[1,"dashboard-container"],["class","metric-card",4,"ngFor","ngForOf"],[1,"metric-card"],[1,"metric-top",3,"ngStyle"],[1,"metric-icon"],[1,"metric-content"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"header",1)(2,"h1"),c(3,"Panel del Vendedor"),a(),s(4,"button",2),v("click",function(){return t.loadMetrics()}),s(5,"mat-icon"),c(6,"refresh"),a(),c(7," Actualizar "),a()(),M(8,"br"),f(9,tb,5,0,"div",3)(10,nb,2,1,"div",4),a()),e&2&&(d(9),h("ngIf",t.loading),d(),h("ngIf",!t.loading))},dependencies:[L,_e,Z,lo,be,Se,K,G,$,oe],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{width:100%;padding:1.5rem;font-family:Poppins,sans-serif;background-color:#f5f7fa;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#333}.dashboard-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.8rem;font-size:1.2rem;color:#555;margin-top:3rem}.loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:1.5rem;margin-top:1.5rem}.metric-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 12px #0000000f;overflow:hidden;background:#fff;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 18px #0000001a}.metric-card[_ngcontent-%COMP%]   .metric-top[_ngcontent-%COMP%]{height:90px;display:flex;justify-content:center;align-items:center}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]{padding:1rem .8rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin:.2rem 0;font-weight:600}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#444;font-size:.95rem}"]})};function ob(n,i){if(n&1&&(s(0,"option",13),c(1),a()),n&2){let e=i.$implicit;h("value",e._id),d(),P(" ",e.nombre," ")}}function rb(n,i){if(n&1&&(s(0,"p",22),c(1),a()),n&2){let e=_().$implicit;d(),P(" Stock: ",e.stock," ")}}function ab(n,i){n&1&&(s(0,"p",23),c(1,"\u{1F6AB} Agotado"),a())}function sb(n,i){if(n&1){let e=S();s(0,"mat-card",17),M(1,"img",18),s(2,"h3"),c(3),a(),s(4,"p")(5,"strong"),c(6),a()(),f(7,rb,2,1,"p",19)(8,ab,2,0,"p",20),s(9,"button",21),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.agregarAlCarrito(o))}),c(10),a()()}if(n&2){let e=i.$implicit;d(),ji("alt",e.nombre),h("src",e.imagen,xe),d(2),O(e.nombre),d(3),P("$",e.precio,""),d(),h("ngIf",e.stock>0),d(),h("ngIf",e.stock===0),d(),h("disabled",e.stock<12),d(),P(" ",e.stock>=12?"Agregar (m\xEDn. 12)":"Sin stock suficiente"," ")}}function lb(n,i){if(n&1&&(s(0,"div")(1,"h2",14),c(2),a(),s(3,"div",15),f(4,sb,11,8,"mat-card",16),a()()),n&2){let e=i.$implicit;d(2),O(e.categoria),d(2),h("ngForOf",e.productos)}}function cb(n,i){n&1&&(s(0,"div"),c(1,"No hay productos en el carrito"),a())}function db(n,i){if(n&1){let e=S();s(0,"div",24)(1,"span"),c(2),a(),s(3,"input",25),v("change",function(o){let r=y(e).$implicit,l=_();return C(l.cambiarCantidad(r,o))}),a(),s(4,"span"),c(5),a(),s(6,"button",26),v("click",function(){let o=y(e).$implicit,r=_();return C(r.eliminar(o))}),s(7,"mat-icon"),c(8,"delete"),a()()()}if(n&2){let e=i.$implicit;d(2),O(e.nombre),d(),h("value",e.cantidad)("max",e.stock),d(2),P("$",e.precio*e.cantidad,"")}}function mb(n,i){if(n&1&&(s(0,"h3"),c(1),a()),n&2){let e=_();d(),P("Total: $",e.total,"")}}function pb(n,i){if(n&1){let e=S();s(0,"button",27),v("click",function(){y(e);let o=_();return C(o.abrirModal())}),c(1," Finalizar Pedido "),a()}}function ub(n,i){if(n&1){let e=S();s(0,"div",28)(1,"div",29)(2,"h2"),c(3,"Completar Pedido"),a(),s(4,"mat-form-field",30)(5,"mat-label"),c(6,"Nombre"),a(),s(7,"input",31),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.nombre,o)||(r.nombre=o),C(o)}),a()(),s(8,"mat-form-field",30)(9,"mat-label"),c(10,"Tel\xE9fono"),a(),s(11,"input",32),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.telefono,o)||(r.telefono=o),C(o)}),a(),s(12,"mat-hint"),c(13,"Debe tener entre 7 y 12 d\xEDgitos"),a()(),s(14,"mat-form-field",30)(15,"mat-label"),c(16,"Ciudad"),a(),s(17,"input",31),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.ciudad,o)||(r.ciudad=o),C(o)}),a()(),s(18,"mat-form-field",30)(19,"mat-label"),c(20,"Direcci\xF3n"),a(),s(21,"input",31),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.direccion,o)||(r.direccion=o),C(o)}),a()(),s(22,"mat-form-field",30)(23,"mat-label"),c(24,"Indicaciones (opcional)"),a(),s(25,"textarea",33),ne("ngModelChange",function(o){y(e);let r=_();return ie(r.indicaciones,o)||(r.indicaciones=o),C(o)}),a()(),s(26,"mat-form-field",30)(27,"mat-label"),c(28,"M\xE9todo de Pago"),a(),M(29,"input",34),a(),s(30,"div",35)(31,"button",36),v("click",function(){y(e);let o=_();return C(o.cerrarModal())}),c(32," Cancelar "),a(),s(33,"button",37),v("click",function(){y(e);let o=_();return C(o.confirmarPedido())}),c(34," Confirmar Pedido "),a()()()()}if(n&2){let e=_();d(7),te("ngModel",e.nombre),d(4),te("ngModel",e.telefono),d(6),te("ngModel",e.ciudad),d(4),te("ngModel",e.direccion),d(4),te("ngModel",e.indicaciones)}}var $a=class n{constructor(i,e,t){this.productoService=i;this.orderService=e;this.router=t}productos=[];carrito=[];total=0;loading=!0;nombre="";telefono="";ciudad="";direccion="";indicaciones="";categorias=[];categoriaSeleccionada="";buscador="";mostrarModal=!1;ngOnInit(){this.productoService.getProductos().subscribe({next:i=>{this.productos=i.map(e=>Gt(de({},e),{stock:e.stock??0})),this.loading=!1},error:()=>this.loading=!1}),this.productoService.getCategorias().subscribe({next:i=>this.categorias=i,error:i=>console.error("\u274C Error al cargar categor\xEDas",i)})}get productosFiltrados(){return this.productos.filter(i=>{let e=this.buscador?i.nombre.toLowerCase().includes(this.buscador.toLowerCase()):!0,t=this.categoriaSeleccionada?i.categoria?._id===this.categoriaSeleccionada:!0;return e&&t})}get productosFiltradosPorCategoria(){return this.categorias.map(i=>({categoria:i.nombre,productos:this.productosFiltrados.filter(e=>e.categoria?._id===i._id)})).filter(i=>i.productos.length>0)}agregarAlCarrito(i){if(i.stock<12){alert("\u26A0\uFE0F Este producto no tiene suficiente stock (m\xEDnimo 12 unidades)");return}let e=this.carrito.find(t=>t._id===i._id);e?e.cantidad+12<=i.stock?e.cantidad+=12:alert("\u26A0\uFE0F No hay m\xE1s stock disponible para a\xF1adir 12 unidades"):this.carrito.push(Gt(de({},i),{cantidad:12})),this.calcularTotal()}eliminar(i){this.carrito=this.carrito.filter(e=>e._id!==i._id),this.calcularTotal()}cambiarCantidad(i,e){let t=e.target;if(!t)return;let o=t.valueAsNumber;if(isNaN(o)||o<12){alert("\u26A0\uFE0F La cantidad m\xEDnima por producto es de 12 unidades"),t.value="12";return}let r=this.carrito.find(l=>l._id===i._id);r&&(o<=i.stock?r.cantidad=o:(alert(`\u26A0\uFE0F Solo hay ${i.stock} unidades disponibles`),r.cantidad=i.stock)),this.calcularTotal()}calcularTotal(){this.total=this.carrito.reduce((i,e)=>i+e.precio*e.cantidad,0)}confirmarPedido(){return tc(this,null,function*(){if(this.carrito.length===0){alert("\u26A0\uFE0F Agrega productos primero");return}if(this.carrito.some(e=>e.cantidad<12)){alert("\u26A0\uFE0F Todos los productos deben tener al menos 12 unidades");return}if(!this.nombre.trim()||!this.telefono.trim()||!this.ciudad.trim()||!this.direccion.trim()){alert("\u26A0\uFE0F Debes ingresar nombre, tel\xE9fono, ciudad y direcci\xF3n");return}if(!/^[0-9]{7,12}$/.test(this.telefono.trim())){alert("\u26A0\uFE0F El tel\xE9fono debe tener entre 7 y 12 d\xEDgitos");return}let i={modo:"vendedor",cliente:{nombre:this.nombre.trim(),telefono:this.telefono.trim(),ciudad:this.ciudad.trim(),direccion:this.direccion.trim(),indicaciones:this.indicaciones.trim()},productos:this.carrito.map(e=>({producto:e._id,cantidad:e.cantidad,nombre:e.nombre,precio:e.precio,imagen:e.imagen})),total:this.total,metodoPago:"Nequi"};try{localStorage.setItem("checkoutData",JSON.stringify(i)),this.router.navigate(["/pago"],{state:{modo:"vendedor"}}),this.resetForm()}catch(e){console.error("\u274C Error al procesar pedido",e),alert("Error al procesar el pedido. Intenta nuevamente.")}})}abrirModal(){this.mostrarModal=!0}cerrarModal(){this.mostrarModal=!1}resetForm(){this.carrito=[],this.total=0,this.nombre="",this.telefono="",this.ciudad="",this.direccion="",this.indicaciones="",this.buscador="",this.categoriaSeleccionada=""}static \u0275fac=function(e){return new(e||n)(z(mt),z(pt),z(lt))};static \u0275cmp=x({type:n,selectors:[["app-armar-pedido"]],decls:17,vars:9,consts:[[1,"contenedor"],[1,"buscador-filtros"],["type","text","placeholder","Buscar producto...",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"productos"],[4,"ngFor","ngForOf"],[1,"carrito"],[4,"ngIf"],["class","carrito-item",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","modal-backdrop",4,"ngIf"],[3,"value"],[1,"titulo-categoria"],[1,"lista-categoria"],["class","producto",4,"ngFor","ngForOf"],[1,"producto"],[3,"src","alt"],["class","stock-disponible",4,"ngIf"],["class","stock-agotado",4,"ngIf"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"stock-disponible"],[1,"stock-agotado"],[1,"carrito-item"],["type","number","min","12",3,"change","value","max"],["mat-icon-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"modal-backdrop"],[1,"modal"],["appearance","outline",1,"input-full"],["matInput","","required","",3,"ngModelChange","ngModel"],["matInput","","type","tel","required","","pattern","[0-9]{7,12}","placeholder","Ej: 3001234567",3,"ngModelChange","ngModel"],["matInput","","rows","3","placeholder","Ej: Entregar en porter\xEDa, llamar antes...",3,"ngModelChange","ngModel"],["matInput","","value","Nequi","disabled",""],[1,"modal-acciones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"input",2),ne("ngModelChange",function(r){return ie(t.buscador,r)||(t.buscador=r),r}),a(),s(3,"select",3),ne("ngModelChange",function(r){return ie(t.categoriaSeleccionada,r)||(t.categoriaSeleccionada=r),r}),s(4,"option",4),c(5,"Todas las categor\xEDas"),a(),f(6,ob,2,2,"option",5),a()(),s(7,"div",6),f(8,lb,5,2,"div",7),a(),s(9,"div",8)(10,"h2"),c(11,"Carrito"),a(),f(12,cb,2,0,"div",9)(13,db,9,4,"div",10)(14,mb,2,1,"h3",9)(15,pb,2,0,"button",11),a()(),f(16,ub,35,5,"div",12)),e&2&&(d(2),te("ngModel",t.buscador),d(),te("ngModel",t.categoriaSeleccionada),d(3),h("ngForOf",t.categorias),d(2),h("ngForOf",t.productosFiltradosPorCategoria),d(4),h("ngIf",t.carrito.length===0),d(),h("ngForOf",t.carrito),d(),h("ngIf",t.carrito.length>0),d(),h("ngIf",t.carrito.length>0),d(),h("ngIf",t.mostrarModal))},dependencies:[L,_e,Z,Ae,Br,zr,Ie,Nr,Re,xn,Vr,Ke,$,oe,dt,K,G,be,Se,je,Fe,Xe,qc,Le,He,kt],styles:['@charset "UTF-8";.contenedor[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr 320px;gap:1.5rem;padding:1.5rem;background:#f9fafc}.contenedor[_ngcontent-%COMP%]   .buscador-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;background:#fff;padding:1.2rem;border-radius:12px;box-shadow:0 4px 10px #00000014;position:sticky;top:1rem;height:fit-content}.contenedor[_ngcontent-%COMP%]   .buscador-filtros[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contenedor[_ngcontent-%COMP%]   .buscador-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.8rem;border-radius:8px;border:1px solid #ddd;font-size:.95rem;transition:all .3s}.contenedor[_ngcontent-%COMP%]   .buscador-filtros[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contenedor[_ngcontent-%COMP%]   .buscador-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#3f51b5;outline:none;box-shadow:0 0 6px #3f51b54d}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .titulo-categoria[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#222;margin-bottom:1rem;border-left:5px solid #3f51b5;padding-left:.6rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .lista-categoria[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.2rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1rem;text-align:center;transition:transform .3s,box-shadow .3s}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 15px #0000001f}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/1;object-fit:contain;background:#f4f4f4;border-radius:10px;margin-bottom:.8rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin:.5rem 0;font-weight:500}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#3f51b5;margin-bottom:.5rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .stock-disponible[_ngcontent-%COMP%]{color:#388e3c;font-size:.9rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .stock-agotado[_ngcontent-%COMP%]{color:#e53935;font-size:.9rem}.contenedor[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem;border-radius:8px;font-size:.9rem}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]{background:#fff;padding:1.2rem;border-radius:12px;box-shadow:0 4px 10px #00000014;position:sticky;top:1rem;height:fit-content}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.4rem;color:#333}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   .carrito-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto;align-items:center;gap:.6rem;margin-bottom:.8rem;padding:.6rem;border-bottom:1px solid #eee}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   .carrito-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   .carrito-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:55px;padding:.3rem;border:1px solid #ddd;border-radius:6px;text-align:center}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   .carrito-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#e53935;font-size:1.2rem;transition:color .3s}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   .carrito-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#b71c1c}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem;color:#222}.contenedor[_ngcontent-%COMP%]   .carrito[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:1rem;border-radius:8px}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000008c;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:14px;max-width:450px;width:90%;box-shadow:0 8px 20px #00000040;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center;color:#3f51b5}.modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-full[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem}.modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0 .5rem;border-radius:8px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-15px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 992px){.contenedor[_ngcontent-%COMP%]{grid-template-columns:220px 1fr}.carrito[_ngcontent-%COMP%]{position:relative;top:unset}}@media (max-width: 768px){.contenedor[_ngcontent-%COMP%]{grid-template-columns:1fr}.buscador-filtros[_ngcontent-%COMP%]{position:relative;top:unset;margin-bottom:1rem}.carrito[_ngcontent-%COMP%]{margin-top:1rem}}']})};function hb(n,i){if(n&1){let e=S();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),H(5,"currency"),a(),s(6,"td",25)(7,"button",26),v("click",function(){let o=y(e).index,r=_(2);return C(r.cambiarCantidad(o,-1))}),c(8," \u2212 "),a(),c(9),s(10,"button",27),v("click",function(){let o=y(e).index,r=_(2);return C(r.cambiarCantidad(o,1))}),c(11,"+"),a()(),s(12,"td"),c(13),H(14,"currency"),a()()}if(n&2){let e=i.$implicit,t=i.index,o=_(2);d(2),O(e.producto.nombre||"Sin nombre"),d(2),O(le(5,5,e.producto.precio,"COP")),d(3),h("disabled",e.cantidad<=((o.pedidoOriginal==null||o.pedidoOriginal.productos==null||o.pedidoOriginal.productos[t]==null?null:o.pedidoOriginal.productos[t].cantidad)||0)),d(2),P(" ",e.cantidad," "),d(4),O(le(14,8,(e.producto.precio||0)*(e.cantidad||0),"COP"))}}function gb(n,i){if(n&1&&(s(0,"span",28),c(1),H(2,"currency"),a()),n&2){let e=_().ngIf,t=_();d(),P(" (+",le(2,1,e.total-((t.pedidoOriginal==null?null:t.pedidoOriginal.total)||0),"COP")," excedente) ")}}function fb(n,i){if(n&1&&(s(0,"p",29),c(1),a()),n&2){let e=_(2);d(),O(e.mensaje)}}function _b(n,i){if(n&1){let e=S();D(0),s(1,"div",2)(2,"header",3)(3,"h2"),c(4,"\u{1F9FE} Detalles del Pedido"),a(),s(5,"p",4),c(6),a()(),s(7,"section",5)(8,"span",6),c(9,"Estado actual:"),a(),s(10,"span",7),c(11),H(12,"titlecase"),a()(),s(13,"section",8)(14,"h3"),c(15,"\u{1F4E6} Informaci\xF3n de env\xEDo"),a(),s(16,"div",9)(17,"div",10)(18,"label"),c(19,"Direcci\xF3n"),a(),s(20,"input",11),ne("ngModelChange",function(o){let r=y(e).ngIf;return ie(r.direccion,o)||(r.direccion=o),C(o)}),a()(),s(21,"div",10)(22,"label"),c(23,"Tel\xE9fono"),a(),s(24,"input",11),ne("ngModelChange",function(o){let r=y(e).ngIf;return ie(r.telefono,o)||(r.telefono=o),C(o)}),a()(),s(25,"div",10)(26,"label"),c(27,"Ciudad"),a(),s(28,"input",11),ne("ngModelChange",function(o){let r=y(e).ngIf;return ie(r.ciudad,o)||(r.ciudad=o),C(o)}),a()(),s(29,"div",12)(30,"label"),c(31,"Indicaciones"),a(),s(32,"textarea",13),ne("ngModelChange",function(o){let r=y(e).ngIf;return ie(r.indicaciones,o)||(r.indicaciones=o),C(o)}),a()()()(),s(33,"section",14)(34,"div",15)(35,"table",16)(36,"thead")(37,"tr")(38,"th"),c(39,"Producto"),a(),s(40,"th"),c(41,"Precio"),a(),s(42,"th"),c(43,"Cantidad"),a(),s(44,"th"),c(45,"Total"),a()()(),s(46,"tbody"),f(47,hb,15,11,"tr",17),a()()()(),s(48,"div",18)(49,"div",19)(50,"strong"),c(51,"Total:"),a(),c(52),H(53,"currency"),f(54,gb,3,4,"span",20),a(),s(55,"div",21)(56,"button",22),v("click",function(){y(e);let o=_();return C(o.cerrar())}),c(57,"Cancelar"),a(),s(58,"button",23),v("click",function(){y(e);let o=_();return C(o.guardarCambios())}),c(59),a()()(),f(60,fb,2,1,"p",24),a(),T()}if(n&2){let e=i.ngIf,t=_();d(6),P("ID: ",e._id,""),d(5),O(Xt(12,12,e.estado)),d(9),te("ngModel",e.direccion),d(4),te("ngModel",e.telefono),d(4),te("ngModel",e.ciudad),d(4),te("ngModel",e.indicaciones),d(15),h("ngForOf",e.productos),d(5),P(" ",le(53,14,e.total,"COP")," "),d(2),h("ngIf",e.total>((t.pedidoOriginal==null?null:t.pedidoOriginal.total)||0)),d(4),h("disabled",t.guardando),d(),P(" ",t.guardando?"Guardando...":e.total>((t.pedidoOriginal==null?null:t.pedidoOriginal.total)||0)?"Guardar y pagar excedente":"Guardar cambios"," "),d(),h("ngIf",t.mensaje)}}function bb(n,i){n&1&&(s(0,"div",30),M(1,"div",31),s(2,"p"),c(3,"Cargando pedido..."),a()())}var Ga=class n{constructor(i,e,t,o){this.orderService=i;this.dialogRef=e;this.router=t;this.data=o}pedido=null;pedidoOriginal=null;cargando=!1;guardando=!1;mensaje="";ngOnInit(){this.data.pedido?(this.pedido=structuredClone(this.data.pedido),this.pedidoOriginal=structuredClone(this.data.pedido)):this.data.idPedido?this.cargarPedido(this.data.idPedido):this.mensaje="\u26A0\uFE0F No se proporcion\xF3 informaci\xF3n del pedido."}cargarPedido(i){this.cargando=!0,this.orderService.getPedidosVendedor().subscribe({next:e=>{let t=e.find(o=>o._id===i);t?(this.pedido=structuredClone(t),this.pedidoOriginal=structuredClone(t)):this.mensaje="\u274C No se encontr\xF3 el pedido.",this.cargando=!1},error:()=>{this.mensaje="\u274C Error al cargar el pedido.",this.cargando=!1}})}cambiarCantidad(i,e){if(!this.pedido||!this.pedidoOriginal)return;let t=this.pedido.productos[i],o=this.pedidoOriginal.productos[i]?.cantidad??0,r=t.cantidad+e;if(r<o){this.mensaje=`\u26A0\uFE0F No puedes reducir por debajo de la cantidad inicial (${o}).`;return}if(r<=0){this.mensaje="\u26A0\uFE0F La cantidad no puede ser menor o igual a 0.";return}t.cantidad=r,this.calcularTotal()}agregarProducto(){if(!this.pedido)return;let i={producto:{_id:"nuevo123",nombre:"Nuevo Producto",precio:25e3,imagen:"https://via.placeholder.com/150"},cantidad:1},e=this.pedido.productos.find(t=>t.producto._id===i.producto._id);e?e.cantidad++:this.pedido.productos.push(i),this.calcularTotal(),this.mensaje="\u{1F7E2} Producto agregado temporalmente."}calcularTotal(){this.pedido&&(this.pedido.total=this.pedido.productos.reduce((i,e)=>i+e.cantidad*e.producto.precio,0))}guardarCambios(){if(!this.pedido?._id||!this.pedidoOriginal){this.mensaje="\u274C Pedido inv\xE1lido o no cargado correctamente.",console.warn("\u274C Pedido inv\xE1lido o no cargado correctamente.",this.pedido,this.pedidoOriginal);return}this.guardando=!0;let i=this.pedidoOriginal.total,e=this.pedido.total;if(console.log("\u{1F4B0} Totales -> Original:",i,"Nuevo:",e),e<i){this.mensaje="\u26A0\uFE0F No puedes reducir el valor total del pedido.",this.guardando=!1,console.warn("\u26A0\uFE0F Total menor detectado, cancelando guardado.");return}let t=this.pedido.productos.map(r=>({producto:r.producto._id,cantidad:r.cantidad})),o={estado:this.pedido.estado,direccion:this.pedido.direccion,telefono:this.pedido.telefono,ciudad:this.pedido.ciudad,indicaciones:this.pedido.indicaciones,total:e,productos:t};console.log("\u{1F4E6} Cambios a enviar:",o),this.orderService.actualizarPedidoCompleto(this.pedido._id,o).subscribe({next:r=>{this.guardando=!1,console.log("\u2705 Respuesta del backend:",r);let l=r?.pedido||r||null,m=Number(e)-Number(i);console.log("\u{1F4B5} Excedente calculado:",m);let u=this.pedidoOriginal?.usuario||this.pedidoOriginal?.cliente||l?.usuario||l?.cliente||null;console.log("\u{1F464} Cliente final detectado para checkout:",u);let g=r?.pedidoId||l?._id||this.pedido?._id||"";if(console.log("\u{1F194} Pedido final para checkout:",g),m>0){if(!g||isNaN(m)||m<=0){console.warn("\u26A0\uFE0F Datos inv\xE1lidos, no se puede continuar al pago."),this.mensaje="\u274C No se pudo iniciar el pago. Datos inv\xE1lidos.",this.guardando=!1;return}let b={pedidoId:g,total:Number(m),cliente:u,productos:l?.productos||[],direccion:l?.direccion||"",telefono:l?.telefono||"",ciudad:l?.ciudad||"",modo:"excedente"};console.log("\u{1F4BE} CheckoutData preparado:",b),localStorage.setItem("checkoutData",JSON.stringify(b)),console.log("\u{1F4CD} Guardado en localStorage:",localStorage.getItem("checkoutData")),this.dialogRef.close(!0),console.log("\u27A1\uFE0F Navegando a /pago..."),this.router.navigate(["/pago"],{state:{modo:"excedente"}})}else console.log("\u2705 Sin excedente, pedido actualizado normalmente."),this.mensaje="\u2705 Pedido actualizado correctamente.",setTimeout(()=>this.dialogRef.close(!0),1200)},error:r=>{console.error("\u274C Error en el guardado:",r),this.mensaje="\u274C Error al guardar los cambios.",this.guardando=!1}})}cerrar(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||n)(z(pt),z(wt),z(lt),z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-detalle-pedido-dialog"]],decls:4,vars:2,consts:[["cargandoTpl",""],[4,"ngIf","ngIfElse"],[1,"pedido-dialog"],[1,"pedido-header"],[1,"pedido-id"],[1,"pedido-estado"],[1,"estado-label"],[1,"estado-readonly"],[1,"pedido-info"],[1,"info-grid"],[1,"campo"],["type","text",3,"ngModelChange","ngModel"],[1,"campo","full"],[3,"ngModelChange","ngModel"],[1,"pedido-productos"],[1,"tabla-contenedor"],[1,"productos-tabla"],[4,"ngFor","ngForOf"],[1,"pedido-footer"],[1,"total"],["class","excedente",4,"ngIf"],[1,"acciones"],[1,"btn-cancelar",3,"click"],[1,"btn-guardar",3,"click","disabled"],["class","mensaje",4,"ngIf"],[1,"cantidad"],[3,"click","disabled"],[3,"click"],[1,"excedente"],[1,"mensaje"],[1,"loading"],[1,"spinner"]],template:function(e,t){if(e&1&&(f(0,_b,61,17,"ng-container",1)(1,bb,4,0,"ng-template",null,0,qe),c(3," |")),e&2){let o=fe(2);h("ngIf",t.pedido)("ngIfElse",o)}},dependencies:[L,_e,Z,pi,Jt,Ae,Ie,Re,Ke],styles:['@charset "UTF-8";.pedido-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem 2.5rem;box-shadow:0 8px 25px #00000014;max-width:1200px;width:95vw;max-height:85vh;margin:auto;display:flex;flex-direction:column;gap:1.5rem;font-family:Poppins,sans-serif;color:#333;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#aab8d4 #f5f7fb}.pedido-dialog[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #f0f3f8}.pedido-dialog[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#164a9c;font-size:1.8rem;font-weight:600}.pedido-dialog[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   .pedido-id[_ngcontent-%COMP%]{font-size:.95rem;color:#666;background:#f2f6ff;padding:.4rem .8rem;border-radius:8px}.pedido-dialog[_ngcontent-%COMP%]   .pedido-estado[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#f8faff;border-left:5px solid #164a9c;padding:1rem;border-radius:12px;font-size:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-estado[_ngcontent-%COMP%]   .estado-label[_ngcontent-%COMP%]{font-weight:600;color:#164a9c}.pedido-dialog[_ngcontent-%COMP%]   .pedido-estado[_ngcontent-%COMP%]   .estado-readonly[_ngcontent-%COMP%]{background:#e9eefb;color:#0f3473;padding:.4rem 1rem;border-radius:8px;font-weight:500;text-transform:capitalize}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#164a9c;font-size:1.3rem;font-weight:600;margin-bottom:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo.full[_ngcontent-%COMP%]{grid-column:1/-1}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#444}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #dcdcdc;border-radius:10px;padding:.7rem;font-size:.95rem;transition:all .3s ease}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#164a9c;box-shadow:0 0 6px #164a9c33;outline:none}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#164a9c;font-size:1.3rem;margin-bottom:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;box-shadow:0 2px 6px #0000000d}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left;min-width:700px}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#164a9c;color:#fff;padding:.9rem;font-weight:500;font-size:.95rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.9rem;border-bottom:1px solid #f0f0f0;vertical-align:middle;font-size:.95rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td.cantidad[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.4rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td.cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#164a9c;color:#fff;border:none;border-radius:6px;padding:.3rem .7rem;font-weight:700;cursor:pointer;transition:background .3s}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td.cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0f3473}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .eliminar[_ngcontent-%COMP%]{background:#e63946;border:none;color:#fff;border-radius:6px;padding:.4rem .7rem;cursor:pointer;transition:background .3s}.pedido-dialog[_ngcontent-%COMP%]   .pedido-productos[_ngcontent-%COMP%]   .tabla-contenedor[_ngcontent-%COMP%]   .productos-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .eliminar[_ngcontent-%COMP%]:hover{background:#c9202d}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:right;font-size:1.2rem;font-weight:600;color:#164a9c}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:.8rem 1.6rem;font-weight:500;font-size:1rem;cursor:pointer;transition:transform .2s,background .3s ease}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]{background:#ccc;color:#333}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]:hover{background:#b0b0b0}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .btn-guardar[_ngcontent-%COMP%]{background:#164a9c;color:#fff}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .btn-guardar[_ngcontent-%COMP%]:hover{background:#0f3473}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   .btn-guardar[_ngcontent-%COMP%]:disabled{background:#aab8d4;cursor:not-allowed}.pedido-dialog[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{text-align:center;font-weight:500;color:#164a9c}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem 0}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:45px;height:45px;border:4px solid #dcdcdc;border-top-color:#164a9c;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#164a9c;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.pedido-dialog[_ngcontent-%COMP%]{padding:1.2rem;max-width:95vw;max-height:90vh}.pedido-dialog[_ngcontent-%COMP%]   .pedido-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.pedido-dialog[_ngcontent-%COMP%]   .pedido-info[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{flex-direction:column}.pedido-dialog[_ngcontent-%COMP%]   .pedido-footer[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function vb(n,i){if(n&1&&(s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),H(7,"currency"),a(),s(8,"td"),c(9),H(10,"currency"),a()()),n&2){let e=i.$implicit,t=_(3);d(2),O(e.producto.nombre||"Sin nombre"),d(2),O(e.cantidad),d(2),O(Sr(7,4,e.producto.precio,"USD","symbol","1.0-0")),d(3),O(Sr(10,9,t.getSubtotal(e),"USD","symbol","1.0-0"))}}function yb(n,i){if(n&1&&(s(0,"div",11)(1,"h3"),c(2,"\u{1F6D2} Productos"),a(),s(3,"table")(4,"thead")(5,"tr")(6,"th"),c(7,"Producto"),a(),s(8,"th"),c(9,"Cantidad"),a(),s(10,"th"),c(11,"Precio Unitario"),a(),s(12,"th"),c(13,"Subtotal"),a()()(),s(14,"tbody"),f(15,vb,11,14,"tr",12),a()(),s(16,"div",13)(17,"strong"),c(18,"Total:"),a(),s(19,"span"),c(20),H(21,"currency"),a()()()),n&2){let e=_(2);d(15),h("ngForOf",e.pedido.productos),d(5),O(Sr(21,2,e.getTotal(),"USD","symbol","1.0-0"))}}function Cb(n,i){n&1&&(s(0,"p",14),c(1,"\u{1F9FE} Este pedido no contiene productos."),a())}function Mb(n,i){if(n&1){let e=S();s(0,"div",3)(1,"h2")(2,"mat-icon",4),c(3,"receipt_long"),a(),c(4," Detalle del Pedido "),a(),s(5,"div",5)(6,"div",6)(7,"strong"),c(8,"ID Pedido:"),a(),s(9,"span"),c(10),a()(),s(11,"div",6)(12,"strong"),c(13,"Cliente:"),a(),s(14,"span"),c(15),a()(),s(16,"div",6)(17,"strong"),c(18,"Direcci\xF3n:"),a(),s(19,"span"),c(20),a()(),s(21,"div",6)(22,"strong"),c(23,"Fecha:"),a(),s(24,"span"),c(25),H(26,"date"),a()(),s(27,"div",6)(28,"strong"),c(29,"Estado:"),a(),s(30,"span",7),c(31),H(32,"titlecase"),a()()(),f(33,yb,22,7,"div",8)(34,Cb,2,0,"ng-template",null,1,qe),s(36,"div",9)(37,"button",10),v("click",function(){y(e);let o=_();return C(o.cerrar())}),s(38,"mat-icon"),c(39,"close"),a(),c(40," Cerrar "),a()()()}if(n&2){let e=fe(35),t=_();d(10),O(t.pedido._id),d(5),O(t.getClienteNombre()),d(5),O(t.getDireccionCliente()),d(5),O(le(26,8,t.pedido.fecha,"medium")),d(5),h("ngClass",t.pedido.estado),d(),P(" ",Xt(32,11,t.pedido.estado)," "),d(2),h("ngIf",t.pedido.productos==null?null:t.pedido.productos.length)("ngIfElse",e)}}function xb(n,i){n&1&&(s(0,"div",15),M(1,"mat-spinner",16),s(2,"p"),c(3,"Cargando detalles del pedido..."),a()())}var Ka=class n{constructor(i,e,t){this.orderService=i;this.dialogRef=e;this.data=t}pedido;cargando=!1;error=null;ngOnInit(){this.pedido=de({},this.data.pedido),this.cargarDetallePedido()}cargarDetallePedido(){this.pedido._id&&(this.cargando=!0,this.orderService.getPedidosVendedor().subscribe({next:i=>{let e=i.find(t=>t._id===this.pedido._id);e&&(this.pedido=e),this.cargando=!1},error:i=>{console.error("Error cargando detalle del pedido",i),this.error="No se pudieron obtener los detalles del pedido.",this.cargando=!1}}))}getSubtotal(i){return(i.producto?.precio??0)*i.cantidad}getTotal(){return this.pedido.productos?.reduce((i,e)=>i+this.getSubtotal(e),0)??0}cerrar(){this.dialogRef.close()}getClienteNombre(){return this.pedido.nombre||"No registrado"}getDireccionCliente(){return this.pedido?.direccion??"Sin direcci\xF3n registrada"}static \u0275fac=function(e){return new(e||n)(z(pt),z(wt),z(Pt))};static \u0275cmp=x({type:n,selectors:[["app-pedido-detalle-view"]],decls:3,vars:2,consts:[["cargandoTpl",""],["sinProductos",""],["class","detalle-container",4,"ngIf","ngIfElse"],[1,"detalle-container"],["color","primary"],[1,"info-section"],[1,"info-item"],[1,"estado",3,"ngClass"],["class","productos-section",4,"ngIf","ngIfElse"],[1,"acciones"],["mat-raised-button","","color","primary",3,"click"],[1,"productos-section"],[4,"ngFor","ngForOf"],[1,"total"],[1,"sin-productos"],[1,"loading-container"],["diameter","48"]],template:function(e,t){if(e&1&&f(0,Mb,41,13,"div",2)(1,xb,4,0,"ng-template",null,0,qe),e&2){let o=fe(2);h("ngIf",!t.cargando)("ngIfElse",o)}},dependencies:[L,Ht,_e,Z,pi,Jt,Zt,ut,$,oe,K,G,nn,Ri],styles:[".detalle-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 2px 12px #00000014;font-family:Poppins,sans-serif;color:#333;max-width:900px;margin:10% auto}.detalle-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#164a9c;font-weight:600;margin-bottom:1.5rem;text-align:center}.detalle-container[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:1rem;margin-bottom:2rem}.detalle-container[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem 1rem;border-radius:8px;border:1px solid #e4e6eb;display:flex;justify-content:space-between;align-items:center;font-size:.95rem}.detalle-container[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#164a9c;font-weight:600}.detalle-container[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-bottom:1rem;color:#164a9c}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-radius:8px;overflow:hidden;background:#fafafa}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#164a9c;color:#fff}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:.75rem;font-weight:500;font-size:.95rem}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s ease;border-bottom:1px solid #e0e0e0}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f4ff}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem;color:#333}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{margin-top:1.2rem;text-align:right;font-size:1.1rem}.detalle-container[_ngcontent-%COMP%]   .productos-section[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#164a9c;margin-right:.5rem}.detalle-container[_ngcontent-%COMP%]   .sin-productos[_ngcontent-%COMP%]{text-align:center;color:#999;font-style:italic}.detalle-container[_ngcontent-%COMP%]   .estado[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600;padding:4px 10px;border-radius:6px;font-size:.85rem}.detalle-container[_ngcontent-%COMP%]   .estado.pendiente[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.detalle-container[_ngcontent-%COMP%]   .estado.verificado[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.detalle-container[_ngcontent-%COMP%]   .estado.rechazado[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.detalle-container[_ngcontent-%COMP%]   .estado.enviado[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.detalle-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center}.detalle-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#164a9c;color:#fff;padding:.7rem 2rem;border-radius:8px;font-weight:500;transition:all .2s ease}.detalle-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#11387b;transform:scale(1.02)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#555}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};var wb=()=>[5,10,20],Pb=(n,i,e,t)=>({pendiente:n,"en-proceso":i,completado:e,cancelado:t});function Ob(n,i){if(n&1){let e=S();s(0,"button",9),v("click",function(){y(e);let o=_();return C(o.limpiarFiltro())}),s(1,"mat-icon"),c(2,"close"),a()()}}function Sb(n,i){n&1&&(s(0,"div",10),M(1,"mat-spinner",11),s(2,"p"),c(3,"Cargando pedidos..."),a()())}function kb(n,i){if(n&1&&(s(0,"div",12),c(1),a()),n&2){let e=_();d(),P(" \u26A0\uFE0F ",e.error," ")}}function Eb(n,i){n&1&&(s(0,"th",23),c(1," Cliente "),a())}function Db(n,i){if(n&1&&(s(0,"td",24),c(1),a()),n&2){let e=i.$implicit,t=_(2);d(),P(" \u{1F464} ",t.getClienteNombre(e)," ")}}function Tb(n,i){n&1&&(s(0,"th",23),c(1," Productos "),a())}function Ib(n,i){if(n&1){let e=S();s(0,"td",24)(1,"button",25),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.verDetallesPedido(o))}),s(2,"mat-icon"),c(3,"list"),a(),c(4," Ver detalles "),a()()}}function Rb(n,i){n&1&&(s(0,"th",23),c(1," Total "),a())}function Ab(n,i){if(n&1&&(s(0,"td",24),c(1),H(2,"number"),a()),n&2){let e=i.$implicit;d(),P(" \u{1F4B2} ",le(2,1,e.total,"1.0-0")," ")}}function Fb(n,i){n&1&&(s(0,"th",23),c(1," Estado "),a())}function Lb(n,i){if(n&1&&(s(0,"td",24)(1,"span",26),c(2),H(3,"titlecase"),a()()),n&2){let e=i.$implicit;d(),h("ngClass",gc(4,Pb,e.estado==="pendiente",e.estado==="en proceso",e.estado==="completado",e.estado==="cancelado")),d(),P(" ",Xt(3,2,e.estado)," ")}}function Nb(n,i){n&1&&(s(0,"th",23),c(1," Acciones "),a())}function Bb(n,i){if(n&1){let e=S();s(0,"td",24)(1,"button",27),v("click",function(){let o=y(e).$implicit,r=_(2);return C(r.editarPedido(o))}),s(2,"mat-icon"),c(3,"edit"),a()()()}}function zb(n,i){n&1&&M(0,"tr",28)}function Vb(n,i){n&1&&M(0,"tr",29)}function jb(n,i){if(n&1&&(s(0,"table",13),D(1,14),f(2,Eb,2,0,"th",15)(3,Db,2,1,"td",16),T(),D(4,17),f(5,Tb,2,0,"th",15)(6,Ib,5,0,"td",16),T(),D(7,18),f(8,Rb,2,0,"th",15)(9,Ab,3,4,"td",16),T(),D(10,19),f(11,Fb,2,0,"th",15)(12,Lb,4,9,"td",16),T(),D(13,20),f(14,Nb,2,0,"th",15)(15,Bb,4,0,"td",16),T(),f(16,zb,1,0,"tr",21)(17,Vb,1,0,"tr",22),a()),n&2){let e=_();h("dataSource",e.dataSource),d(16),h("matHeaderRowDef",e.displayedColumns),d(),h("matRowDefColumns",e.displayedColumns)}}function Hb(n,i){n&1&&(s(0,"div",30),c(1," \u{1F64C} No tienes pedidos registrados. "),a())}var Xa=class n{constructor(i,e){this.orderService=i;this.dialog=e}pedidos=[];dataSource=new vi([]);displayedColumns=["cliente","productos","total","estado","acciones"];cargando=!1;error=null;filtro="";deletingId=null;estadosDisponibles=["pendiente","verificado","rechazado","enviado"];paginator;sort;ngOnInit(){this.cargarPedidos()}ngAfterViewInit(){this.attachDataSource()}cargarPedidos(){this.cargando=!0,this.error=null,this.orderService.getPedidosVendedor().subscribe({next:i=>{this.pedidos=i||[],this.dataSource=new vi(this.pedidos),this.attachDataSource(),this.cargando=!1},error:i=>{console.error("Error cargando pedidos",i),this.error="No se pudieron cargar los pedidos",this.cargando=!1}})}attachDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(i,e)=>{e=(e||"").toLowerCase();let t=(i.usuario?.nombre||i.nombre||"").toLowerCase(),o=(i.estado||"").toLowerCase(),r=(i.total!=null?i.total.toString():"").toLowerCase();return t.includes(e)||o.includes(e)||r.includes(e)},this.paginator&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort))}aplicarFiltro(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase()}limpiarFiltro(){this.dataSource.filter=""}getClienteNombre(i){return`${i.nombre||"Cliente sin nombre"}`}getProductosResumen(i){return i.productos.map(e=>`${e.producto?.nombre} (x${e.cantidad})`).join(", ")}verDetallesPedido(i){this.dialog.open(Ka,{width:"1200px",maxWidth:"95vw",maxHeight:"90vh",panelClass:"custom-wide-dialog",data:{pedido:i}})}editarPedido(i){this.dialog.open(Ga,{width:"1200px",maxWidth:"95vw",maxHeight:"90vh",panelClass:"custom-wide-dialog",data:{pedido:i,modo:"editar"}}).afterClosed().subscribe(t=>{t&&this.cargarPedidos()})}eliminarPedido(i){let e=i._id;if(!e){alert("Pedido inv\xE1lido (falta id).");return}confirm(`\xBFSeguro que deseas eliminar el pedido de ${this.getClienteNombre(i)}?`)&&(this.deletingId=e,this.orderService.eliminarPedido(e).subscribe({next:()=>{this.pedidos=this.pedidos.filter(o=>o._id!==e),this.dataSource.data=this.pedidos,this.dataSource._updateChangeSubscription?.(),this.deletingId=null,alert("Pedido eliminado correctamente.")},error:o=>{console.error("Error eliminando pedido",o),this.deletingId=null,alert("No se pudo eliminar el pedido. Revisa la consola.")}}))}actualizarEstadoPedido(i,e){i._id&&this.orderService.actualizarEstadoPedido(i._id,e).subscribe({next:()=>{i.estado=e},error:t=>{console.error("Error actualizando estado",t),alert("\u274C No se pudo actualizar el estado")}})}static \u0275fac=function(e){return new(e||n)(z(pt),z(Ot))};static \u0275cmp=x({type:n,selectors:[["app-pedidos-en-espera"]],viewQuery:function(e,t){if(e&1&&(Y(Et,5),Y(Li,5)),e&2){let o;k(o=E())&&(t.paginator=o.first),k(o=E())&&(t.sort=o.first)}},decls:13,vars:9,consts:[[1,"pedidos-container"],["appearance","outline",1,"search-box"],["matInput","","placeholder","Buscar por cliente, estado o total",3,"keyup"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["class","loader",4,"ngIf"],["class","error",4,"ngIf"],["mat-table","","class","mat-elevation-z4 full-width",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],["class","no-pedidos",4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],[1,"loader"],["diameter","40"],[1,"error"],["mat-table","",1,"mat-elevation-z4","full-width",3,"dataSource"],["matColumnDef","cliente"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productos"],["matColumnDef","total"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-stroked-button","","color","primary",3,"click"],[1,"estado-label",3,"ngClass"],["mat-icon-button","","color","accent","matTooltip","Editar pedido",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-pedidos"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),c(2,"\u{1F4E6} Mis Pedidos"),a(),s(3,"mat-form-field",1)(4,"mat-label"),c(5,"Buscar pedidos"),a(),s(6,"input",2),v("keyup",function(r){return t.aplicarFiltro(r)}),a(),f(7,Ob,3,0,"button",3),a(),f(8,Sb,4,0,"div",4)(9,kb,2,1,"div",5)(10,jb,18,3,"table",6),M(11,"mat-paginator",7),f(12,Hb,2,0,"div",8),a()),e&2&&(d(7),h("ngIf",t.dataSource.filter),d(),h("ngIf",t.cargando),d(),h("ngIf",t.error),d(),h("ngIf",!t.cargando&&t.pedidos.length>0),d(),h("length",t.pedidos.length)("pageSize",5)("pageSizeOptions",ht(8,wb)),d(),h("ngIf",!t.cargando&&t.pedidos.length===0&&!t.error))},dependencies:[L,Ht,Z,Wt,pi,qt,yi,Mi,Oi,xi,Ci,Si,wi,Pi,ki,Ei,an,Et,ko,nn,Ri,ut,$,oe,dt,Le,He,Fe,Xe,Zi,Ae,K,G,kt],styles:['@charset "UTF-8";.pedidos-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:2rem;box-shadow:0 2px 12px #0000000f;font-family:Poppins,sans-serif;color:#333;margin:1rem auto;width:100%}.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#164a9c;margin-bottom:1.5rem;text-align:center}.pedidos-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}.pedidos-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#164a9c}.pedidos-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.95rem}.pedidos-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.pedidos-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;color:#555;padding:2rem 0}.pedidos-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:.5rem}.pedidos-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{background-color:#fdecea;color:#b71c1c;padding:1rem;border-radius:8px;text-align:center;margin:1rem 0;font-weight:500}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;background:#fafafa}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#164a9c;color:#fff;font-weight:500;text-align:left;padding:.75rem;font-size:.95rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #e0e0e0;vertical-align:middle}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{font-size:.85rem;display:flex;align-items:center;gap:.3rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-form-field.estado-select[_ngcontent-%COMP%]{width:140px}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-form-field.estado-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:.9rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{transition:all .2s ease}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]:hover{transform:scale(1.15);color:#164a9c}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f4ff}.pedidos-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{margin-top:1rem;border-top:1px solid #e0e0e0}.pedidos-container[_ngcontent-%COMP%]   .no-pedidos[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:1rem;padding:2rem 0}@media (max-width: 900px){.pedidos-container[_ngcontent-%COMP%]{padding:1rem}.pedidos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;font-size:.85rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.8rem}.pedidos-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   mat-form-field.estado-select[_ngcontent-%COMP%]{width:110px}}@media (max-width: 600px){table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.search-box[_ngcontent-%COMP%]{margin-bottom:1rem}.no-pedidos[_ngcontent-%COMP%]{font-size:.9rem}}']})};var Za=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),c(1,"page-not-found works!"),a())},encapsulation:2})};var Wb=()=>import("./chunk-CJ7MW2JW.js").then(n=>n.LoginComponent),Ub=()=>import("./chunk-WSFIT77A.js").then(n=>n.RegisterComponent),qb=()=>import("./chunk-Q3CXR4NZ.js").then(n=>n.ForgotPasswordComponent),ym=[{path:"",redirectTo:"productos",pathMatch:"full"},{path:"productos",component:ma},{path:"productos/:id",component:pa},{path:"categoria/:nombre",component:ua},{path:"carrito",component:ha},{path:"checkout",component:ga},{path:"pago",component:fa},{path:"subir-recibo",component:_a},{path:"cliente",component:va,children:[{path:"",redirectTo:"perfil",pathMatch:"full"},{path:"perfil",component:ya},{path:"mis-pedidos",component:Ca},{path:"pedido/:id",component:Ma}]},{path:"admin",component:xa,children:[{path:"",component:Ia},{path:"usuarios",component:Fa},{path:"pedidos",component:Va},{path:"productos",component:Wa},{path:"productos/nuevo",component:sr},{path:"productos/editar/:id",component:sr},{path:"control-mercancia",component:qa,children:[{path:"",redirectTo:"registro",pathMatch:"full"},{path:"registro",component:Do},{path:"crear",component:Xn}]}]},{path:"vendedor",component:Qa,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ya},{path:"armar-pedido",component:$a},{path:"pedidos-en-espera",component:Xa}]},{path:"login",loadComponent:Wb},{path:"registro",loadComponent:Ub},{path:"recuperar",loadComponent:qb},{path:"**",component:Za}];function Cm(n){return new Me(3e3,!1)}function Qb(){return new Me(3100,!1)}function Yb(){return new Me(3101,!1)}function $b(n){return new Me(3001,!1)}function Gb(n){return new Me(3003,!1)}function Kb(n){return new Me(3004,!1)}function xm(n,i){return new Me(3005,!1)}function wm(){return new Me(3006,!1)}function Pm(){return new Me(3007,!1)}function Om(n,i){return new Me(3008,!1)}function Sm(n){return new Me(3002,!1)}function km(n,i,e,t,o){return new Me(3010,!1)}function Em(){return new Me(3011,!1)}function Dm(){return new Me(3012,!1)}function Tm(){return new Me(3200,!1)}function Im(){return new Me(3202,!1)}function Rm(){return new Me(3013,!1)}function Am(n){return new Me(3014,!1)}function Fm(n){return new Me(3015,!1)}function Lm(n){return new Me(3016,!1)}function Nm(n,i){return new Me(3404,!1)}function Xb(n){return new Me(3502,!1)}function Bm(n){return new Me(3503,!1)}function zm(){return new Me(3300,!1)}function Vm(n){return new Me(3504,!1)}function jm(n){return new Me(3301,!1)}function Hm(n,i){return new Me(3302,!1)}function Wm(n){return new Me(3303,!1)}function Um(n,i){return new Me(3400,!1)}function qm(n){return new Me(3401,!1)}function Qm(n){return new Me(3402,!1)}function Ym(n,i){return new Me(3505,!1)}function _n(n){switch(n.length){case 0:return new on;case 1:return n[0];default:return new Wn(n)}}function wl(n,i,e=new Map,t=new Map){let o=[],r=[],l=-1,m=null;if(i.forEach(u=>{let g=u.get("offset"),b=g==l,w=b&&m||new Map;u.forEach((N,A)=>{let I=A,j=N;if(A!=="offset")switch(I=n.normalizePropertyName(I,o),j){case Po:j=e.get(A);break;case bi:j=t.get(A);break;default:j=n.normalizeStyleValue(A,I,j,o);break}w.set(I,j)}),b||r.push(w),m=w,l=g}),o.length)throw Xb(o);return r}function Ja(n,i,e,t){switch(i){case"start":n.onStart(()=>t(e&&Cl(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Cl(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Cl(e,"destroy",n)));break}}function Cl(n,i,e){let t=e.totalTime,o=!!e.disabled,r=es(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,o),l=n._data;return l!=null&&(r._data=l),r}function es(n,i,e,t,o="",r=0,l){return{element:n,triggerName:i,fromState:e,toState:t,phaseName:o,totalTime:r,disabled:!!l}}function Qt(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Pl(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return[e,t]}var Zb=typeof document>"u"?null:document.documentElement;function ts(n){let i=n.parentNode||n.host||null;return i===Zb?null:i}function Jb(n){return n.substring(1,6)=="ebkit"}var Zn=null,Mm=!1;function $m(n){Zn||(Zn=ev()||{},Mm=Zn.style?"WebkitAppearance"in Zn.style:!1);let i=!0;return Zn.style&&!Jb(n)&&(i=n in Zn.style,!i&&Mm&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zn.style)),i}function ev(){return typeof document<"u"?document.body:null}function Ol(n,i){for(;i;){if(i===n)return!0;i=ts(i)}return!1}function Sl(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var tv=1e3,kl="{{",iv="}}",El="ng-enter",is="ng-leave",lr="ng-trigger",cr=".ng-trigger",Dl="ng-animating",ns=".ng-animating";function sn(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Ml(parseFloat(i[1]),i[2])}function Ml(n,i){switch(i){case"s":return n*tv;default:return n}}function dr(n,i,e){return n.hasOwnProperty("duration")?n:nv(n,i,e)}function nv(n,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,r=0,l="";if(typeof n=="string"){let m=n.match(t);if(m===null)return i.push(Cm(n)),{duration:0,delay:0,easing:""};o=Ml(parseFloat(m[1]),m[2]);let u=m[3];u!=null&&(r=Ml(parseFloat(u),m[4]));let g=m[5];g&&(l=g)}else o=n;if(!e){let m=!1,u=i.length;o<0&&(i.push(Qb()),m=!0),r<0&&(i.push(Yb()),m=!0),m&&i.splice(u,0,Cm(n))}return{duration:o,delay:r,easing:l}}function Gm(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function Ni(n,i,e){i.forEach((t,o)=>{let r=os(o);e&&!e.has(o)&&e.set(o,n.style[r]),n.style[r]=t})}function Rn(n,i){i.forEach((e,t)=>{let o=os(t);n.style[o]=""})}function To(n){return Array.isArray(n)?n.length==1?n[0]:Ad(n):n}function Km(n,i,e){let t=i.params||{},o=Tl(n);o.length&&o.forEach(r=>{t.hasOwnProperty(r)||e.push($b(r))})}var xl=new RegExp(`${kl}\\s*(.+?)\\s*${iv}`,"g");function Tl(n){let i=[];if(typeof n=="string"){let e;for(;e=xl.exec(n);)i.push(e[1]);xl.lastIndex=0}return i}function Io(n,i,e){let t=`${n}`,o=t.replace(xl,(r,l)=>{let m=i[l];return m==null&&(e.push(Gb(l)),m=""),m.toString()});return o==t?n:o}var ov=/-+([a-z0-9])/g;function os(n){return n.replace(ov,(...i)=>i[1].toUpperCase())}function Xm(n,i){return n===0||i===0}function Zm(n,i,e){if(e.size&&i.length){let t=i[0],o=[];if(e.forEach((r,l)=>{t.has(l)||o.push(l),t.set(l,r)}),o.length)for(let r=1;r<i.length;r++){let l=i[r];o.forEach(m=>l.set(m,rs(n,m)))}}return i}function Yt(n,i,e){switch(i.type){case re.Trigger:return n.visitTrigger(i,e);case re.State:return n.visitState(i,e);case re.Transition:return n.visitTransition(i,e);case re.Sequence:return n.visitSequence(i,e);case re.Group:return n.visitGroup(i,e);case re.Animate:return n.visitAnimate(i,e);case re.Keyframes:return n.visitKeyframes(i,e);case re.Style:return n.visitStyle(i,e);case re.Reference:return n.visitReference(i,e);case re.AnimateChild:return n.visitAnimateChild(i,e);case re.AnimateRef:return n.visitAnimateRef(i,e);case re.Query:return n.visitQuery(i,e);case re.Stagger:return n.visitStagger(i,e);default:throw Kb(i.type)}}function rs(n,i){return window.getComputedStyle(n)[i]}var $l=(()=>{class n{validateStyleProperty(e){return $m(e)}containsElement(e,t){return Ol(e,t)}getParentElement(e){return ts(e)}query(e,t,o){return Sl(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,r,l,m=[],u){return new on(o,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),eo=class{static NOOP=new $l},to=class{};var rv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ds=class extends to{normalizePropertyName(i,e){return os(i)}normalizeStyleValue(i,e,t,o){let r="",l=t.toString().trim();if(rv.has(e)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else{let m=t.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&m[1].length==0&&o.push(xm(i,t))}return l+r}};var ms="*";function av(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>sv(t,e,i)):e.push(n),e}function sv(n,i,e){if(n[0]==":"){let u=lv(n,e);if(typeof u=="function"){i.push(u);return}n=u}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(Fm(n)),i;let o=t[1],r=t[2],l=t[3];i.push(Jm(o,l));let m=o==ms&&l==ms;r[0]=="<"&&!m&&i.push(Jm(l,o))}function lv(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(Lm(n)),"* => *"}}var as=new Set(["true","1"]),ss=new Set(["false","0"]);function Jm(n,i){let e=as.has(n)||ss.has(n),t=as.has(i)||ss.has(i);return(o,r)=>{let l=n==ms||n==o,m=i==ms||i==r;return!l&&e&&typeof o=="boolean"&&(l=o?as.has(n):ss.has(n)),!m&&t&&typeof r=="boolean"&&(m=r?as.has(i):ss.has(i)),l&&m}}var cp=":self",cv=new RegExp(`s*${cp}s*,?`,"g");function dp(n,i,e,t){return new Nl(n).build(i,e,t)}var ep="",Nl=class{_driver;constructor(i){this._driver=i}build(i,e,t){let o=new Bl(e);return this._resetContextStyleTimingState(o),Yt(this,To(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector=ep,i.collectedStyles=new Map,i.collectedStyles.set(ep,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,o=e.depCount=0,r=[],l=[];return i.name.charAt(0)=="@"&&e.errors.push(wm()),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),m.type==re.State){let u=m,g=u.name;g.toString().split(/\s*,\s*/).forEach(b=>{u.name=b,r.push(this.visitState(u,e))}),u.name=g}else if(m.type==re.Transition){let u=this.visitTransition(m,e);t+=u.queryCount,o+=u.depCount,l.push(u)}else e.errors.push(Pm())}),{type:re.Trigger,name:i.name,states:r,transitions:l,queryCount:t,depCount:o,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),o=i.options&&i.options.params||null;if(t.containsDynamicStyles){let r=new Set,l=o||{};t.styles.forEach(m=>{m instanceof Map&&m.forEach(u=>{Tl(u).forEach(g=>{l.hasOwnProperty(g)||r.add(g)})})}),r.size&&e.errors.push(Om(i.name,[...r.values()]))}return{type:re.State,name:i.name,style:t,options:o?{params:o}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=Yt(this,To(i.animation),e),o=av(i.expr,e.errors);return{type:re.Transition,matchers:o,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:Jn(i.options)}}visitSequence(i,e){return{type:re.Sequence,steps:i.steps.map(t=>Yt(this,t,e)),options:Jn(i.options)}}visitGroup(i,e){let t=e.currentTime,o=0,r=i.steps.map(l=>{e.currentTime=t;let m=Yt(this,l,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:re.Group,steps:r,options:Jn(i.options)}}visitAnimate(i,e){let t=uv(i.timings,e.errors);e.currentAnimateTimings=t;let o,r=i.styles?i.styles:st({});if(r.type==re.Keyframes)o=this.visitKeyframes(r,e);else{let l=i.styles,m=!1;if(!l){m=!0;let g={};t.easing&&(g.easing=t.easing),l=st(g)}e.currentTime+=t.duration+t.delay;let u=this.visitStyle(l,e);u.isEmptyStep=m,o=u}return e.currentAnimateTimings=null,{type:re.Animate,timings:t,style:o,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let m of o)typeof m=="string"?m===bi?t.push(m):e.errors.push(Sm(m)):t.push(new Map(Object.entries(m)));let r=!1,l=null;return t.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(l=m.get("easing"),m.delete("easing")),!r)){for(let u of m.values())if(u.toString().indexOf(kl)>=0){r=!0;break}}}),{type:re.Style,styles:t,easing:l,offset:i.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,o=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),i.styles.forEach(l=>{typeof l!="string"&&l.forEach((m,u)=>{let g=e.collectedStyles.get(e.currentQuerySelector),b=g.get(u),w=!0;b&&(r!=o&&r>=b.startTime&&o<=b.endTime&&(e.errors.push(km(u,b.startTime,b.endTime,r,o)),w=!1),r=b.startTime),w&&g.set(u,{startTime:r,endTime:o}),e.options&&Km(m,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:re.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Em()),t;let o=1,r=0,l=[],m=!1,u=!1,g=0,b=i.steps.map(ye=>{let rt=this._makeStyleAst(ye,e),Lt=rt.offset!=null?rt.offset:pv(rt.styles),St=0;return Lt!=null&&(r++,St=rt.offset=Lt),u=u||St<0||St>1,m=m||St<g,g=St,l.push(St),rt});u&&e.errors.push(Dm()),m&&e.errors.push(Tm());let w=i.steps.length,N=0;r>0&&r<w?e.errors.push(Im()):r==0&&(N=o/(w-1));let A=w-1,I=e.currentTime,j=e.currentAnimateTimings,pe=j.duration;return b.forEach((ye,rt)=>{let Lt=N>0?rt==A?1:N*rt:l[rt],St=Lt*pe;e.currentTime=I+j.delay+St,j.duration=St,this._validateStyleAst(ye,e),ye.offset=Lt,t.styles.push(ye)}),t}visitReference(i,e){return{type:re.Reference,animation:Yt(this,To(i.animation),e),options:Jn(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:re.AnimateChild,options:Jn(i.options)}}visitAnimateRef(i,e){return{type:re.AnimateRef,animation:this.visitReference(i.animation,e),options:Jn(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,o=i.options||{};e.queryCount++,e.currentQuery=i;let[r,l]=dv(i.selector);e.currentQuerySelector=t.length?t+" "+r:r,Qt(e.collectedStyles,e.currentQuerySelector,new Map);let m=Yt(this,To(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:re.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:m,originalSelector:i.selector,options:Jn(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(Rm());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:dr(i.timings,e.errors,!0);return{type:re.Stagger,animation:Yt(this,To(i.animation),e),timings:t,options:null}}};function dv(n){let i=!!n.split(/\s*,\s*/).find(e=>e==cp);return i&&(n=n.replace(cv,"")),n=n.replace(/@\*/g,cr).replace(/@\w+/g,e=>cr+"-"+e.slice(1)).replace(/:animating/g,ns),[n,i]}function mv(n){return n?de({},n):null}var Bl=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function pv(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function uv(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=dr(n,i).duration;return Il(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Il(0,0,"");return r.dynamic=!0,r.strValue=e,r}let o=dr(e,i);return Il(o.duration,o.delay,o.easing)}function Jn(n){return n?(n=de({},n),n.params&&(n.params=mv(n.params))):n={},n}function Il(n,i,e){return{duration:n,delay:i,easing:e}}function Gl(n,i,e,t,o,r,l=null,m=!1){return{type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:o,delay:r,totalTime:o+r,easing:l,subTimeline:m}}var pr=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},hv=1,gv=":enter",fv=new RegExp(gv,"g"),_v=":leave",bv=new RegExp(_v,"g");function mp(n,i,e,t,o,r=new Map,l=new Map,m,u,g=[]){return new zl().buildKeyframes(n,i,e,t,o,r,l,m,u,g)}var zl=class{buildKeyframes(i,e,t,o,r,l,m,u,g,b=[]){g=g||new pr;let w=new Vl(i,e,g,o,r,b,[]);w.options=u;let N=u.delay?sn(u.delay):0;w.currentTimeline.delayNextStep(N),w.currentTimeline.setStyles([l],null,w.errors,u),Yt(this,t,w);let A=w.timelines.filter(I=>I.containsAnimation());if(A.length&&m.size){let I;for(let j=A.length-1;j>=0;j--){let pe=A[j];if(pe.element===e){I=pe;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([m],null,w.errors,u)}return A.length?A.map(I=>I.buildKeyframes()):[Gl(e,[],[],[],0,N,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let o=e.createSubContext(i.options),r=e.currentTimeline.currentTime,l=this._visitSubInstructions(t,o,o.options);r!=l&&e.transformIntoNewTimeline(l)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let o of i){let r=o?.delay;if(r){let l=typeof r=="number"?r:sn(Io(r,o?.params??{},e.errors));t.delayNextStep(l)}}}_visitSubInstructions(i,e,t){let r=e.currentTimeline.currentTime,l=t.duration!=null?sn(t.duration):null,m=t.delay!=null?sn(t.delay):null;return l!==0&&i.forEach(u=>{let g=e.appendInstructionToTimeline(u,l,m);r=Math.max(r,g.duration+g.delay)}),r}visitReference(i,e){e.updateOptions(i.options,!0),Yt(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,o=e,r=i.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==re.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ps);let l=sn(r.delay);o.delayNextStep(l)}i.steps.length&&(i.steps.forEach(l=>Yt(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],o=e.currentTimeline.currentTime,r=i.options&&i.options.delay?sn(i.options.delay):0;i.steps.forEach(l=>{let m=e.createSubContext(i.options);r&&m.delayNextStep(r),Yt(this,l,m),o=Math.max(o,m.currentTimeline.currentTime),t.push(m.currentTimeline)}),t.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,o=e.params?Io(t,e.params,e.errors):t;return dr(o,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),o=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),o.snapshotCurrentStyles());let r=i.style;r.type==re.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,o=e.currentAnimateTimings;!o&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=o&&o.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(r):t.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,o=e.currentTimeline.duration,r=t.duration,m=e.createSubContext().currentTimeline;m.easing=t.easing,i.styles.forEach(u=>{let g=u.offset||0;m.forwardTime(g*r),m.setStyles(u.styles,u.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+r),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,o=i.options||{},r=o.delay?sn(o.delay):0;r&&(e.previousNode.type===re.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ps);let l=t,m=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let u=null;m.forEach((g,b)=>{e.currentQueryIndex=b;let w=e.createSubContext(i.options,g);r&&w.delayNextStep(r),g===e.element&&(u=w.currentTimeline),Yt(this,i.animation,w),w.currentTimeline.applyStylesToKeyframe();let N=w.currentTimeline.currentTime;l=Math.max(l,N)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,o=e.currentTimeline,r=i.timings,l=Math.abs(r.duration),m=l*(e.currentQueryTotal-1),u=l*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=m-u;break;case"full":u=t.currentStaggerTime;break}let b=e.currentTimeline;u&&b.delayNextStep(u);let w=b.currentTime;Yt(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=o.currentTime-w+(o.startTime-t.currentTimeline.startTime)}},ps={},Vl=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ps;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,t,o,r,l,m,u){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=r,this.errors=l,this.timelines=m,this.currentTimeline=u||new us(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,o=this.options;t.duration!=null&&(o.duration=sn(t.duration)),t.delay!=null&&(o.delay=sn(t.delay));let r=t.params;if(r){let l=o.params;l||(l=this.options.params={}),Object.keys(r).forEach(m=>{(!e||!l.hasOwnProperty(m))&&(l[m]=Io(r[m],l,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(o=>{t[o]=e[o]})}}return i}createSubContext(i=null,e,t){let o=e||this.element,r=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(i){return this.previousNode=ps,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let o={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},r=new jl(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,o,r,l){let m=[];if(o&&m.push(this.element),i.length>0){i=i.replace(fv,"."+this._enterClassName),i=i.replace(bv,"."+this._leaveClassName);let u=t!=1,g=this._driver.query(this.element,i,u);t!==0&&(g=t<0?g.slice(g.length+t,g.length):g.slice(0,t)),m.push(...g)}return!r&&m.length==0&&l.push(Am(e)),m}},us=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,t,o){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hv,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||bi),this._currentKeyframe.set(e,bi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,o){e&&this._previousKeyframe.set("easing",e);let r=o&&o.params||{},l=vv(i,this._globalTimelineStyles);for(let[m,u]of l){let g=Io(u,r,t);this._pendingStyles.set(m,g),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??bi),this._updateStyle(m,g)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let o=this._styleSummary.get(t);(!o||e.time>o.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((m,u)=>{let g=new Map([...this._backFill,...m]);g.forEach((b,w)=>{b===Po?i.add(w):b===bi&&e.add(w)}),t||g.set("offset",u/this.duration),o.push(g)});let r=[...i.values()],l=[...e.values()];if(t){let m=o[0],u=new Map(m);m.set("offset",0),u.set("offset",1),o=[m,u]}return Gl(this.element,o,r,l,this.duration,this.startTime,this.easing,!1)}},jl=class extends us{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,t,o,r,l,m=!1){super(i,e,l.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=m,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],l=t+e,m=e/l,u=new Map(i[0]);u.set("offset",0),r.push(u);let g=new Map(i[0]);g.set("offset",tp(m)),r.push(g);let b=i.length-1;for(let w=1;w<=b;w++){let N=new Map(i[w]),A=N.get("offset"),I=e+A*t;N.set("offset",tp(I/l)),r.push(N)}t=l,e=0,o="",i=r}return Gl(this.element,i,this.preStyleProps,this.postStyleProps,t,e,o,!0)}};function tp(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function vv(n,i){let e=new Map,t;return n.forEach(o=>{if(o==="*"){t??=i.keys();for(let r of t)e.set(r,bi)}else for(let[r,l]of o)e.set(r,l)}),e}function ip(n,i,e,t,o,r,l,m,u,g,b,w,N){return{type:0,element:n,triggerName:i,isRemovalTransition:o,fromState:e,fromStyles:r,toState:t,toStyles:l,timelines:m,queriedElements:u,preStyleProps:g,postStyleProps:b,totalTime:w,errors:N}}var Rl={},hs=class{_triggerName;ast;_stateStyles;constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,o){return yv(this.ast.matchers,i,e,t,o)}buildStyles(i,e,t){let o=this._stateStyles.get("*");return i!==void 0&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(e,t):new Map}build(i,e,t,o,r,l,m,u,g,b){let w=[],N=this.ast.options&&this.ast.options.params||Rl,A=m&&m.params||Rl,I=this.buildStyles(t,A,w),j=u&&u.params||Rl,pe=this.buildStyles(o,j,w),ye=new Set,rt=new Map,Lt=new Map,St=o==="void",io={params:pp(j,N),delay:this.ast.options?.delay},zi=b?[]:mp(i,e,this.ast.animation,r,l,I,pe,io,g,w),Nt=0;return zi.forEach(jt=>{Nt=Math.max(jt.duration+jt.delay,Nt)}),w.length?ip(e,this._triggerName,t,o,St,I,pe,[],[],rt,Lt,Nt,w):(zi.forEach(jt=>{let An=jt.element,no=Qt(rt,An,new Set);jt.preStyleProps.forEach(Fn=>no.add(Fn));let Kl=Qt(Lt,An,new Set);jt.postStyleProps.forEach(Fn=>Kl.add(Fn)),An!==e&&ye.add(An)}),ip(e,this._triggerName,t,o,St,I,pe,zi,[...ye.values()],rt,Lt,Nt))}};function yv(n,i,e,t,o){return n.some(r=>r(i,e,t,o))}function pp(n,i){let e=de({},i);return Object.entries(n).forEach(([t,o])=>{o!=null&&(e[t]=o)}),e}var Hl=class{styles;defaultParams;normalizer;constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,o=pp(i,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((l,m)=>{l&&(l=Io(l,o,e));let u=this.normalizer.normalizePropertyName(m,e);l=this.normalizer.normalizeStyleValue(m,u,l,e),t.set(m,l)})}),t}};function Cv(n,i,e){return new Wl(n,i,e)}var Wl=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,e.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Hl(o.style,r,t))}),np(this.states,"true","1"),np(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new hs(i,o,this.states))}),this.fallbackTransition=Mv(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,o){return this.transitionFactories.find(l=>l.match(i,e,t,o))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function Mv(n,i,e){let t=[(l,m)=>!0],o={type:re.Sequence,steps:[],options:null},r={type:re.Transition,animation:o,matchers:t,options:null,queryCount:0,depCount:0};return new hs(n,r,i)}function np(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e))}var xv=new pr,Ul=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t}register(i,e){let t=[],o=[],r=dp(this._driver,e,t,o);if(t.length)throw Bm(t);this._animations.set(i,r)}_buildPlayer(i,e,t){let o=i.element,r=wl(this._normalizer,i.keyframes,e,t);return this._driver.animate(o,r,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let o=[],r=this._animations.get(i),l,m=new Map;if(r?(l=mp(this._driver,e,r,El,is,new Map,new Map,t,xv,o),l.forEach(b=>{let w=Qt(m,b.element,new Map);b.postStyleProps.forEach(N=>w.set(N,null))})):(o.push(zm()),l=[]),o.length)throw Vm(o);m.forEach((b,w)=>{b.forEach((N,A)=>{b.set(A,this._driver.computeStyle(w,A,bi))})});let u=l.map(b=>{let w=m.get(b.element);return this._buildPlayer(b,new Map,w)}),g=_n(u);return this._playersById.set(i,g),g.onDestroy(()=>this.destroy(i)),this.players.push(g),g}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw jm(i);return e}listen(i,e,t,o){let r=es(e,"","","");return Ja(this._getPlayer(i),t,r,o),()=>{}}command(i,e,t,o){if(t=="register"){this.register(i,o[0]);return}if(t=="create"){let l=o[0]||{};this.create(i,e,l);return}let r=this._getPlayer(i);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i);break}}},op="ng-animate-queued",wv=".ng-animate-queued",Al="ng-animate-disabled",Pv=".ng-animate-disabled",Ov="ng-star-inserted",Sv=".ng-star-inserted",kv=[],up={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ev={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed",ur=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),o=t?i.value:i;if(this.value=Tv(o),t){let r=i,{value:l}=r,m=ec(r,["value"]);this.options=m}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(o=>{t[o]==null&&(t[o]=e[o])})}}},mr="void",Fl=new ur(mr),ql=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+i,Di(e,this._hostClassName)}listen(i,e,t,o){if(!this._triggers.has(e))throw Hm(t,e);if(t==null||t.length==0)throw Wm(e);if(!Iv(t))throw Um(t,e);let r=Qt(this._elementListeners,i,[]),l={name:e,phase:t,callback:o};r.push(l);let m=Qt(this._engine.statesByElement,i,new Map);return m.has(e)||(Di(i,lr),Di(i,lr+"-"+e),m.set(e,Fl)),()=>{this._engine.afterFlush(()=>{let u=r.indexOf(l);u>=0&&r.splice(u,1),this._triggers.has(e)||m.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw qm(i);return e}trigger(i,e,t,o=!0){let r=this._getTrigger(e),l=new hr(this.id,e,i),m=this._engine.statesByElement.get(i);m||(Di(i,lr),Di(i,lr+"-"+e),this._engine.statesByElement.set(i,m=new Map));let u=m.get(e),g=new ur(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&u&&g.absorbOptions(u.options),m.set(e,g),u||(u=Fl),!(g.value===mr)&&u.value===g.value){if(!Fv(u.params,g.params)){let j=[],pe=r.matchStyles(u.value,u.params,j),ye=r.matchStyles(g.value,g.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Rn(i,pe),Ni(i,ye)})}return}let N=Qt(this._engine.playersByElement,i,[]);N.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let A=r.matchTransition(u.value,g.value,i,g.params),I=!1;if(!A){if(!o)return;A=r.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:A,fromState:u,toState:g,player:l,isFallbackTransition:I}),I||(Di(i,op),l.onStart(()=>{Ro(i,op)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);let pe=this._engine.playersByElement.get(i);if(pe){let ye=pe.indexOf(l);ye>=0&&pe.splice(ye,1)}}),this.players.push(l),N.push(l),l}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,cr,!0);t.forEach(o=>{if(o[Bi])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,e,t,o){let r=this._engine.statesByElement.get(i),l=new Map;if(r){let m=[];if(r.forEach((u,g)=>{if(l.set(g,u.value),this._triggers.has(g)){let b=this.trigger(i,g,mr,o);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,l),t&&_n(m).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let o=new Set;e.forEach(r=>{let l=r.name;if(o.has(l))return;o.add(l);let u=this._triggers.get(l).fallbackTransition,g=t.get(l)||Fl,b=new ur(mr),w=new hr(this.id,l,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:l,transition:u,fromState:g,toState:b,player:w,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let o=!1;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(i):[];if(r&&r.length)o=!0;else{let l=i;for(;l=l.parentNode;)if(t.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)t.markElementAsRemoved(this.id,i,!1,e);else{let r=i[Bi];(!r||r===up)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Di(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let o=t.player;if(o.destroyed)return;let r=t.element,l=this._elementListeners.get(r);l&&l.forEach(m=>{if(m.name==t.triggerName){let u=es(r,t.triggerName,t.fromState.value,t.toState.value);u._data=i,Ja(t.player,m.phase,u,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(t)}),this._queue=[],e.sort((t,o)=>{let r=t.transition.ast.depCount,l=o.transition.ast.depCount;return r==0||l==0?r-l:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Ql=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new ql(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,o=this.namespacesByHostElement;if(t.length-1>=0){let l=!1,m=this.driver.getParentElement(e);for(;m;){let u=o.get(m);if(u){let g=t.indexOf(u);t.splice(g+1,0,i),l=!0;break}m=this.driver.getParentElement(m)}l||t.unshift(i)}else t.push(i);return o.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let o=this._namespaceLookup[i];o&&o.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let o of t.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}}return e}trigger(i,e,t,o){if(ls(e)){let r=this._fetchNamespace(i);if(r)return r.trigger(e,t,o),!0}return!1}insertNode(i,e,t,o){if(!ls(e))return;let r=e[Bi];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(i){let l=this._fetchNamespace(i);l&&l.insertNode(e,t)}o&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Di(i,Al)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ro(i,Al))}removeNode(i,e,t){if(ls(e)){let o=i?this._fetchNamespace(i):null;o?o.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,o,r){this.collectedLeaveElements.push(e),e[Bi]={namespaceId:i,setForRemoval:o,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r}}listen(i,e,t,o,r){return ls(e)?this._fetchNamespace(i).listen(e,t,o,r):()=>{}}_buildInstruction(i,e,t,o,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,o,i.fromState.options,i.toState.options,e,r)}destroyInnerAnimations(i){let e=this.driver.query(i,cr,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,ns,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return _n(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Bi];if(e&&e.setForRemoval){if(i[Bi]=up,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Al)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Pv,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let o=this.collectedEnterElements[t];Di(o,Ov)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let o=0;o<t.length;o++)t[o]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let o=this.collectedLeaveElements[t];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?_n(e).onDone(()=>{t.forEach(o=>o())}):t.forEach(o=>o())}}reportError(i){throw Qm(i)}_flushAnimations(i,e){let t=new pr,o=[],r=new Map,l=[],m=new Map,u=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(B=>{b.add(B);let U=this.driver.query(B,wv,!0);for(let J=0;J<U.length;J++)b.add(U[J])});let w=this.bodyNode,N=Array.from(this.statesByElement.keys()),A=sp(N,this.collectedEnterElements),I=new Map,j=0;A.forEach((B,U)=>{let J=El+j++;I.set(U,J),B.forEach(Ce=>Di(Ce,J))});let pe=[],ye=new Set,rt=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){let U=this.collectedLeaveElements[B],J=U[Bi];J&&J.setForRemoval&&(pe.push(U),ye.add(U),J.hasAnimation?this.driver.query(U,Sv,!0).forEach(Ce=>ye.add(Ce)):rt.add(U))}let Lt=new Map,St=sp(N,Array.from(ye));St.forEach((B,U)=>{let J=is+j++;Lt.set(U,J),B.forEach(Ce=>Di(Ce,J))}),i.push(()=>{A.forEach((B,U)=>{let J=I.get(U);B.forEach(Ce=>Ro(Ce,J))}),St.forEach((B,U)=>{let J=Lt.get(U);B.forEach(Ce=>Ro(Ce,J))}),pe.forEach(B=>{this.processLeaveNode(B)})});let io=[],zi=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(J=>{let Ce=J.player,_t=J.element;if(io.push(Ce),this.collectedEnterElements.length){let Dt=_t[Bi];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(J.triggerName)){let Ln=Dt.previousTriggersValues.get(J.triggerName),si=this.statesByElement.get(J.element);if(si&&si.has(J.triggerName)){let gr=si.get(J.triggerName);gr.value=Ln,si.set(J.triggerName,gr)}}Ce.destroy();return}}let Vi=!w||!this.driver.containsElement(w,_t),$t=Lt.get(_t),bn=I.get(_t),Je=this._buildInstruction(J,t,bn,$t,Vi);if(Je.errors&&Je.errors.length){zi.push(Je);return}if(Vi){Ce.onStart(()=>Rn(_t,Je.fromStyles)),Ce.onDestroy(()=>Ni(_t,Je.toStyles)),o.push(Ce);return}if(J.isFallbackTransition){Ce.onStart(()=>Rn(_t,Je.fromStyles)),Ce.onDestroy(()=>Ni(_t,Je.toStyles)),o.push(Ce);return}let Jl=[];Je.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||Jl.push(Dt)}),Je.timelines=Jl,t.append(_t,Je.timelines);let bp={instruction:Je,player:Ce,element:_t};l.push(bp),Je.queriedElements.forEach(Dt=>Qt(m,Dt,[]).push(Ce)),Je.preStyleProps.forEach((Dt,Ln)=>{if(Dt.size){let si=u.get(Ln);si||u.set(Ln,si=new Set),Dt.forEach((gr,ys)=>si.add(ys))}}),Je.postStyleProps.forEach((Dt,Ln)=>{let si=g.get(Ln);si||g.set(Ln,si=new Set),Dt.forEach((gr,ys)=>si.add(ys))})});if(zi.length){let B=[];zi.forEach(U=>{B.push(Ym(U.triggerName,U.errors))}),io.forEach(U=>U.destroy()),this.reportError(B)}let Nt=new Map,jt=new Map;l.forEach(B=>{let U=B.element;t.has(U)&&(jt.set(U,U),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,Nt))}),o.forEach(B=>{let U=B.element;this._getPreviousPlayers(U,!1,B.namespaceId,B.triggerName,null).forEach(Ce=>{Qt(Nt,U,[]).push(Ce),Ce.destroy()})});let An=pe.filter(B=>lp(B,u,g)),no=new Map;ap(no,this.driver,rt,g,bi).forEach(B=>{lp(B,u,g)&&An.push(B)});let Fn=new Map;A.forEach((B,U)=>{ap(Fn,this.driver,new Set(B),u,Po)}),An.forEach(B=>{let U=no.get(B),J=Fn.get(B);no.set(B,new Map([...U?.entries()??[],...J?.entries()??[]]))});let vs=[],Xl=[],Zl={};l.forEach(B=>{let{element:U,player:J,instruction:Ce}=B;if(t.has(U)){if(b.has(U)){J.onDestroy(()=>Ni(U,Ce.toStyles)),J.disabled=!0,J.overrideTotalTime(Ce.totalTime),o.push(J);return}let _t=Zl;if(jt.size>1){let $t=U,bn=[];for(;$t=$t.parentNode;){let Je=jt.get($t);if(Je){_t=Je;break}bn.push($t)}bn.forEach(Je=>jt.set(Je,_t))}let Vi=this._buildAnimation(J.namespaceId,Ce,Nt,r,Fn,no);if(J.setRealPlayer(Vi),_t===Zl)vs.push(J);else{let $t=this.playersByElement.get(_t);$t&&$t.length&&(J.parentPlayer=_n($t)),o.push(J)}}else Rn(U,Ce.fromStyles),J.onDestroy(()=>Ni(U,Ce.toStyles)),Xl.push(J),b.has(U)&&o.push(J)}),Xl.forEach(B=>{let U=r.get(B.element);if(U&&U.length){let J=_n(U);B.setRealPlayer(J)}}),o.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<pe.length;B++){let U=pe[B],J=U[Bi];if(Ro(U,is),J&&J.hasAnimation)continue;let Ce=[];if(m.size){let Vi=m.get(U);Vi&&Vi.length&&Ce.push(...Vi);let $t=this.driver.query(U,ns,!0);for(let bn=0;bn<$t.length;bn++){let Je=m.get($t[bn]);Je&&Je.length&&Ce.push(...Je)}}let _t=Ce.filter(Vi=>!Vi.destroyed);_t.length?Rv(this,U,_t):this.processLeaveNode(U)}return pe.length=0,vs.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();let U=this.players.indexOf(B);this.players.splice(U,1)}),B.play()}),vs}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,o,r){let l=[];if(e){let m=this.playersByQueriedElement.get(i);m&&(l=m)}else{let m=this.playersByElement.get(i);if(m){let u=!r||r==mr;m.forEach(g=>{g.queued||!u&&g.triggerName!=o||l.push(g)})}}return(t||o)&&(l=l.filter(m=>!(t&&t!=m.namespaceId||o&&o!=m.triggerName))),l}_beforeAnimationBuild(i,e,t){let o=e.triggerName,r=e.element,l=e.isRemovalTransition?void 0:i,m=e.isRemovalTransition?void 0:o;for(let u of e.timelines){let g=u.element,b=g!==r,w=Qt(t,g,[]);this._getPreviousPlayers(g,b,l,m,e.toState).forEach(A=>{let I=A.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),A.destroy(),w.push(A)})}Rn(r,e.fromStyles)}_buildAnimation(i,e,t,o,r,l){let m=e.triggerName,u=e.element,g=[],b=new Set,w=new Set,N=e.timelines.map(I=>{let j=I.element;b.add(j);let pe=j[Bi];if(pe&&pe.removedBeforeQueried)return new on(I.duration,I.delay);let ye=j!==u,rt=Av((t.get(j)||kv).map(Nt=>Nt.getRealPlayer())).filter(Nt=>{let jt=Nt;return jt.element?jt.element===j:!1}),Lt=r.get(j),St=l.get(j),io=wl(this._normalizer,I.keyframes,Lt,St),zi=this._buildPlayer(I,io,rt);if(I.subTimeline&&o&&w.add(j),ye){let Nt=new hr(i,m,j);Nt.setRealPlayer(zi),g.push(Nt)}return zi});g.forEach(I=>{Qt(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>Dv(this.playersByQueriedElement,I.element,I))}),b.forEach(I=>Di(I,Dl));let A=_n(N);return A.onDestroy(()=>{b.forEach(I=>Ro(I,Dl)),Ni(u,e.toStyles)}),w.forEach(I=>{Qt(o,I,[]).push(A)}),A}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new on(i.duration,i.delay)}},hr=class{namespaceId;triggerName;element;_player=new on;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(o=>Ja(i,t,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Qt(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Dv(n,i,e){let t=n.get(i);if(t){if(t.length){let o=t.indexOf(e);t.splice(o,1)}t.length==0&&n.delete(i)}return t}function Tv(n){return n??null}function ls(n){return n&&n.nodeType===1}function Iv(n){return n=="start"||n=="done"}function rp(n,i){let e=n.style.display;return n.style.display=i??"none",e}function ap(n,i,e,t,o){let r=[];e.forEach(u=>r.push(rp(u)));let l=[];t.forEach((u,g)=>{let b=new Map;u.forEach(w=>{let N=i.computeStyle(g,w,o);b.set(w,N),(!N||N.length==0)&&(g[Bi]=Ev,l.push(g))}),n.set(g,b)});let m=0;return e.forEach(u=>rp(u,r[m++])),l}function sp(n,i){let e=new Map;if(n.forEach(m=>e.set(m,[])),i.length==0)return e;let t=1,o=new Set(i),r=new Map;function l(m){if(!m)return t;let u=r.get(m);if(u)return u;let g=m.parentNode;return e.has(g)?u=g:o.has(g)?u=t:u=l(g),r.set(m,u),u}return i.forEach(m=>{let u=l(m);u!==t&&e.get(u).push(m)}),e}function Di(n,i){n.classList?.add(i)}function Ro(n,i){n.classList?.remove(i)}function Rv(n,i,e){_n(e).onDone(()=>n.processLeaveNode(i))}function Av(n){let i=[];return hp(n,i),i}function hp(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof Wn?hp(t.players,i):i.push(t)}}function Fv(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++){let r=e[o];if(!i.hasOwnProperty(r)||n[r]!==i[r])return!1}return!0}function lp(n,i,e){let t=e.get(n);if(!t)return!1;let o=i.get(n);return o?t.forEach(r=>o.add(r)):i.set(n,t),e.delete(n),!0}var Ao=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,t){this._driver=e,this._normalizer=t,this._transitionEngine=new Ql(i.body,e,t),this._timelineEngine=new Ul(i.body,e,t),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(i,e,t,o,r){let l=i+"-"+o,m=this._triggerCache[l];if(!m){let u=[],g=[],b=dp(this._driver,r,u,g);if(u.length)throw Nm(o,u);m=Cv(o,b,this._normalizer),this._triggerCache[l]=m}this._transitionEngine.registerTrigger(e,o,m)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,o){this._transitionEngine.insertNode(i,e,t,o)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,o){if(t.charAt(0)=="@"){let[r,l]=Pl(t),m=o;this._timelineEngine.command(r,e,l,m)}else this._transitionEngine.trigger(i,e,t,o)}listen(i,e,t,o,r){if(t.charAt(0)=="@"){let[l,m]=Pl(t);return this._timelineEngine.listen(l,e,m,r)}return this._transitionEngine.listen(i,e,t,o,r)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Lv(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Ll(i[0]),i.length>1&&(t=Ll(i[i.length-1]))):i instanceof Map&&(e=Ll(i)),e||t?new Nv(n,e,t):null}var Nv=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rn(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return n})();function Ll(n){let i=null;return n.forEach((e,t)=>{Bv(t)&&(i=i||new Map,i.set(t,e))}),i}function Bv(n){return n==="display"||n==="position"}var gs=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,t,o){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=o,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,o)=>{o!=="offset"&&i.set(o,this._finished?t:rs(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},fs=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Ol(i,e)}getParentElement(i){return ts(i)}query(i,e,t){return Sl(i,e,t)}computeStyle(i,e,t){return rs(i,e)}animate(i,e,t,o,r,l=[]){let m=o==0?"both":"forwards",u={duration:t,delay:o,fill:m};r&&(u.easing=r);let g=new Map,b=l.filter(A=>A instanceof gs);Xm(t,o)&&b.forEach(A=>{A.currentSnapshot.forEach((I,j)=>g.set(j,I))});let w=Gm(e).map(A=>new Map(A));w=Zm(i,w,g);let N=Lv(i,w);return new gs(i,w,u,N)}};var cs="@",gp="@.disabled",_s=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,t,o){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,o=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,o)}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,o){this.delegate.setAttribute(i,e,t,o)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,o){this.delegate.setStyle(i,e,t,o)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==cs&&e==gp?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t,o){return this.delegate.listen(i,e,t,o)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Yl=class extends _s{factory;constructor(i,e,t,o,r){super(e,t,o,r),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==cs?e.charAt(1)=="."&&e==gp?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t,o){if(e.charAt(0)==cs){let r=zv(i),l=e.slice(1),m="";return l.charAt(0)!=cs&&([l,m]=Vv(l)),this.engine.listen(this.namespaceId,r,l,m,u=>{let g=u._data||-1;this.factory.scheduleListenerCallback(g,t,u)})}return this.delegate.listen(i,e,t,o)}};function zv(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Vv(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return[e,t]}var bs=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,e.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(i,e){let t="",o=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let g=this._rendererCache,b=g.get(o);if(!b){let w=()=>g.delete(o);b=new _s(t,o,this.engine,w),g.set(o,b)}return b}let r=e.id,l=e.id+"-"+this._currentId;this._currentId++,this.engine.register(l,i);let m=g=>{Array.isArray(g)?g.forEach(m):this.engine.registerTrigger(r,l,i,g.name,g)};return e.data.animation.forEach(m),new Yl(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[l,m]=r;l(m)}),this._animationCallbacksBuffer=[]})}),o.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var Hv=(()=>{class n extends Ao{constructor(e,t,o){super(e,t,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(t){return new(t||n)(vt(Te),vt(eo),vt(to))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function Wv(){return new ds}function Uv(n,i,e){return new bs(n,i,e)}var fp=[{provide:to,useFactory:Wv},{provide:Ao,useClass:Hv},{provide:ln,useFactory:Uv,deps:[yc,Ao,De]}],DA=[{provide:eo,useClass:$l},{provide:Be,useValue:"NoopAnimations"},...fp],qv=[{provide:eo,useFactory:()=>new fs},{provide:Be,useFactory:()=>"BrowserAnimations"},...fp];function _p(){return dc("NgEagerAnimations"),[...qv]}Cc(sa,{providers:[Oc(ym),Mc(),_p()]}).catch(n=>console.error(n));
